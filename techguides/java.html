<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java — Tech Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ============================================
           COFFEE DESIGN SYSTEM — Java Tech Guide
           ============================================
           Warm tones. Rounded corners. Cozy vibes.
           Nunito for clarity. Caveat for personality.
           Espresso to foam. Brewed with care.
           ============================================ */

        :root {
            /* Typography */
            --font-primary: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-accent: 'Caveat', cursive;
            --font-mono: 'SF Mono', 'Monaco', 'Consolas', 'Fira Code', monospace;

            /* Spacing Scale */
            --space-1: 4px;
            --space-2: 8px;
            --space-3: 12px;
            --space-4: 16px;
            --space-5: 24px;
            --space-6: 32px;
            --space-7: 48px;
            --space-8: 64px;
            --space-9: 96px;

            /* Coffee Color Palette */
            --espresso: #2C1810;
            --dark-roast: #3D251E;
            --mocha: #5D3A2E;
            --coffee: #6F4E37;
            --cappuccino: #8B6B5D;
            --latte: #C4A484;
            --oat-milk: #D4C4A8;
            --cream: #F5F0E8;
            --foam: #FAF8F5;
            --white: #FFFFFF;

            /* Accent Colors */
            --caramel: #C68E17;
            --caramel-light: #D4A84B;
            --caramel-dark: #A67610;
            --cinnamon: #B5651D;
            --honey: #EB9605;

            /* Semantic Colors */
            --success: #5D8A4E;
            --warning: #C68E17;
            --error: #B54D4D;
            --info: #5D7A8A;

            /* Mapped Colors */
            --text-primary: var(--espresso);
            --text-secondary: var(--coffee);
            --text-muted: var(--cappuccino);
            --bg-primary: var(--foam);
            --bg-secondary: var(--cream);
            --bg-card: var(--white);
            --border-color: var(--oat-milk);
            --border-strong: var(--latte);
            --accent: var(--caramel);
            --accent-hover: var(--caramel-dark);

            /* Border Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-full: 9999px;

            /* Shadows */
            --shadow-sm: 0 2px 8px rgba(44, 24, 16, 0.06);
            --shadow-md: 0 4px 16px rgba(44, 24, 16, 0.08);
            --shadow-lg: 0 8px 32px rgba(44, 24, 16, 0.12);
            --shadow-xl: 0 16px 48px rgba(44, 24, 16, 0.16);

            /* Transitions */
            --transition-fast: 0.15s ease;
            --transition-base: 0.25s ease;
            --transition-slow: 0.4s ease;

            /* Layout */
            --container-max: 1100px;
            --nav-height: 52px;
        }

        /* ============================================
           RESET & BASE
           ============================================ */

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            scroll-padding-top: calc(var(--nav-height) + 16px);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: var(--font-primary);
            font-size: 1rem;
            line-height: 1.65;
            color: var(--text-primary);
            background: var(--bg-primary);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--cream);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--latte);
            border-radius: var(--radius-full);
            border: 2px solid var(--cream);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--cappuccino);
        }

        /* ============================================
           CONTAINER
           ============================================ */

        .container {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        /* ============================================
           BACK LINK
           ============================================ */

        .back-link {
            display: inline-block;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--cappuccino);
            text-decoration: none;
            padding: var(--space-4) 0;
            transition: color var(--transition-fast);
        }

        .back-link:hover {
            color: var(--accent);
        }

        /* ============================================
           HEADER
           ============================================ */

        .page-header {
            padding: var(--space-8) 0 var(--space-7);
            background: linear-gradient(180deg, var(--cream) 0%, var(--foam) 100%);
            border-bottom: 2px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 20%;
            right: -60px;
            width: 320px;
            height: 320px;
            background: radial-gradient(circle, rgba(198, 142, 23, 0.08) 0%, transparent 70%);
            border-radius: 50%;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            position: relative;
            z-index: 1;
        }

        .header-icon {
            font-size: 3.5rem;
            line-height: 1;
            margin-bottom: var(--space-3);
        }

        .page-title {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 800;
            letter-spacing: -0.02em;
            line-height: 1.1;
            color: var(--espresso);
            margin-bottom: var(--space-2);
        }

        .page-tagline {
            font-family: var(--font-accent);
            font-size: 1.5rem;
            color: var(--coffee);
        }

        .header-meta {
            text-align: right;
            flex-shrink: 0;
        }

        .header-meta p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin: 0;
        }

        /* ============================================
           STEAM ANIMATION
           ============================================ */

        @keyframes steam {
            0% { transform: translateY(0) scaleX(1); opacity: 0; }
            15% { opacity: 0.5; }
            50% { transform: translateY(-20px) scaleX(1.2); opacity: 0.3; }
            100% { transform: translateY(-40px) scaleX(0.8); opacity: 0; }
        }

        .steam-container {
            position: relative;
            display: inline-block;
        }

        .steam {
            position: absolute;
            top: -24px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
        }

        .steam-line {
            width: 8px;
            height: 28px;
            background: linear-gradient(to top, var(--latte), transparent);
            border-radius: var(--radius-full);
            animation: steam 2s ease-in-out infinite;
            opacity: 0;
        }

        .steam-line:nth-child(1) { animation-delay: 0s; }
        .steam-line:nth-child(2) { animation-delay: 0.3s; }
        .steam-line:nth-child(3) { animation-delay: 0.6s; }

        /* ============================================
           JUMP NAVIGATION
           ============================================ */

        .jump-nav {
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: center;
            gap: 0;
            padding: 0;
            background: var(--white);
            border-bottom: 2px solid var(--border-color);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            white-space: nowrap;
            box-shadow: var(--shadow-sm);
        }

        .jump-nav a {
            display: inline-block;
            padding: var(--space-3) var(--space-4);
            font-family: var(--font-primary);
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            color: var(--cappuccino);
            text-decoration: none;
            transition: color var(--transition-fast), background var(--transition-fast);
            flex-shrink: 0;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }

        .jump-nav a:hover {
            color: var(--espresso);
            background: var(--cream);
            border-bottom-color: var(--accent);
        }

        /* ============================================
           DECORATIVE COFFEE STAINS
           ============================================ */

        .coffee-stain {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
        }

        .coffee-stain-1 {
            width: 180px;
            height: 180px;
            top: 200px;
            right: 3%;
            border: 4px solid var(--coffee);
            opacity: 0.03;
        }

        .coffee-stain-2 {
            width: 120px;
            height: 120px;
            top: 700px;
            left: 2%;
            border: 3px solid var(--mocha);
            opacity: 0.04;
        }

        .coffee-stain-3 {
            width: 200px;
            height: 200px;
            bottom: 400px;
            right: 5%;
            border: 5px solid var(--latte);
            opacity: 0.03;
        }

        /* ============================================
           SECTIONS
           ============================================ */

        .section {
            padding: var(--space-8) 0;
            border-bottom: 2px solid var(--border-color);
            position: relative;
        }

        .section:nth-child(even) {
            background: linear-gradient(180deg, var(--cream) 0%, var(--foam) 100%);
        }

        .section:last-of-type {
            border-bottom: none;
        }

        .section-header {
            margin-bottom: var(--space-7);
        }

        .section-number {
            font-family: var(--font-accent);
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--accent);
            line-height: 1;
            margin-bottom: var(--space-2);
        }

        .section-title {
            font-size: clamp(1.75rem, 3vw, 2.25rem);
            font-weight: 800;
            color: var(--espresso);
            letter-spacing: -0.01em;
            margin-bottom: var(--space-3);
        }

        .section-description {
            font-size: 1.1rem;
            color: var(--text-secondary);
            max-width: 65ch;
            line-height: 1.7;
        }

        /* ============================================
           SUBSECTIONS
           ============================================ */

        .subsection {
            margin-bottom: var(--space-7);
        }

        .subsection:last-child {
            margin-bottom: 0;
        }

        .subsection-title {
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--dark-roast);
            margin-bottom: var(--space-4);
            padding-bottom: var(--space-2);
            border-bottom: 2px solid var(--border-color);
        }

        .subsection-description {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-4);
            max-width: 65ch;
            line-height: 1.7;
        }

        /* ============================================
           CODE BLOCKS
           ============================================ */

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
        }

        pre {
            background: var(--dark-roast);
            border-radius: var(--radius-md);
            padding: var(--space-5);
            margin: var(--space-4) 0;
            overflow-x: auto;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--mocha);
        }

        pre code {
            display: block;
            color: var(--cream);
            white-space: pre;
            line-height: 1.7;
            font-size: 0.875rem;
        }

        .code-inline {
            background: rgba(93, 58, 46, 0.1);
            color: var(--mocha);
            padding: 2px 8px;
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: 0.875em;
            font-weight: 600;
        }

        /* Code comment styling */
        pre code .comment {
            color: var(--cappuccino);
        }

        /* ============================================
           COMMAND GRID
           ============================================ */

        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-4);
            margin: var(--space-5) 0;
        }

        .command-card {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            min-width: 0;
            transition: all var(--transition-base);
        }

        .command-card:hover {
            border-color: var(--border-strong);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .command-card h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--espresso);
            margin-bottom: var(--space-2);
        }

        .command-card p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-3);
        }

        .command-card pre {
            margin: 0;
            font-size: 0.8125rem;
        }

        /* ============================================
           TABLES
           ============================================ */

        .table-wrapper {
            background: var(--white);
            border-radius: var(--radius-lg);
            border: 2px solid var(--border-color);
            overflow: hidden;
            margin: var(--space-5) 0;
        }

        .table-wrapper.overflow-x {
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th,
        .table td {
            text-align: left;
            padding: var(--space-3) var(--space-4);
        }

        .table th {
            background: var(--cream);
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--text-secondary);
            border-bottom: 2px solid var(--border-color);
            white-space: nowrap;
        }

        .table td {
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9375rem;
            vertical-align: top;
        }

        .table tbody tr {
            transition: background var(--transition-fast);
        }

        .table tbody tr:hover {
            background: rgba(244, 240, 232, 0.5);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        .table td code {
            background: rgba(93, 58, 46, 0.08);
            color: var(--mocha);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8125rem;
            white-space: nowrap;
        }

        /* Comparison table */
        .comparison-table {
            margin: var(--space-5) 0;
        }

        .comparison-table .table th:first-child {
            width: 30%;
        }

        /* ============================================
           ALERTS / CALLOUT BOXES
           ============================================ */

        .alert {
            padding: var(--space-4) var(--space-5);
            border-radius: var(--radius-md);
            margin: var(--space-4) 0;
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
        }

        .alert-icon {
            font-size: 1.25rem;
            line-height: 1.4;
            flex-shrink: 0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-content p {
            margin: 0;
            font-size: 0.9375rem;
        }

        .alert-title {
            font-weight: 700;
            margin-bottom: var(--space-1);
        }

        .alert-info {
            background: rgba(93, 122, 138, 0.1);
            border: 1px solid rgba(93, 122, 138, 0.3);
            color: var(--info);
        }

        .alert-success {
            background: rgba(93, 138, 78, 0.1);
            border: 1px solid rgba(93, 138, 78, 0.3);
            color: var(--success);
        }

        .alert-warning {
            background: rgba(198, 142, 23, 0.1);
            border: 1px solid rgba(198, 142, 23, 0.3);
            color: var(--warning);
        }

        .alert-error {
            background: rgba(181, 77, 77, 0.1);
            border: 1px solid rgba(181, 77, 77, 0.3);
            color: var(--error);
        }

        /* ============================================
           BADGES
           ============================================ */

        .badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            padding: var(--space-1) var(--space-3);
            font-size: 0.7rem;
            font-weight: 700;
            border-radius: var(--radius-full);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            white-space: nowrap;
        }

        .badge-espresso {
            background: var(--espresso);
            color: var(--cream);
        }

        .badge-latte {
            background: var(--latte);
            color: var(--espresso);
        }

        .badge-caramel {
            background: var(--caramel);
            color: var(--white);
        }

        .badge-cream {
            background: var(--cream);
            color: var(--coffee);
            border: 1px solid var(--border-color);
        }

        .badge-success {
            background: rgba(93, 138, 78, 0.15);
            color: var(--success);
        }

        .badge-warning {
            background: rgba(198, 142, 23, 0.15);
            color: var(--warning);
        }

        .badge-error {
            background: rgba(181, 77, 77, 0.15);
            color: var(--error);
        }

        .badge-info {
            background: rgba(93, 122, 138, 0.15);
            color: var(--info);
        }

        /* ============================================
           CARDS & CARD GRID
           ============================================ */

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin: var(--space-5) 0;
        }

        .card {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--latte), var(--caramel), var(--coffee));
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .card:hover {
            border-color: var(--border-strong);
            box-shadow: var(--shadow-md);
            transform: translateY(-3px);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--cream) 0%, var(--oat-milk) 100%);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-3);
            font-size: 1.5rem;
        }

        .card h4 {
            font-size: 1.05rem;
            font-weight: 700;
            color: var(--espresso);
            margin-bottom: var(--space-2);
        }

        .card p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0;
            line-height: 1.6;
        }

        .card pre {
            margin-top: var(--space-3);
            margin-bottom: 0;
        }

        .card-featured {
            background: linear-gradient(135deg, var(--mocha) 0%, var(--dark-roast) 100%);
            color: var(--cream);
            border-color: var(--mocha);
        }

        .card-featured h4 {
            color: var(--cream);
        }

        .card-featured p {
            color: var(--latte);
        }

        /* ============================================
           TIP BOX
           ============================================ */

        .tip-box {
            background: linear-gradient(135deg, rgba(198, 142, 23, 0.08) 0%, rgba(198, 142, 23, 0.03) 100%);
            border: 2px solid rgba(198, 142, 23, 0.25);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin: var(--space-5) 0;
            position: relative;
        }

        .tip-box::before {
            content: 'Pro Tip';
            font-family: var(--font-accent);
            font-size: 1.25rem;
            color: var(--accent);
            font-weight: 700;
        }

        .tip-box p {
            margin-top: var(--space-2);
            font-size: 0.9375rem;
            color: var(--text-secondary);
        }

        .tip-box pre {
            margin-top: var(--space-3);
            margin-bottom: 0;
        }

        /* ============================================
           FOOTER
           ============================================ */

        .site-footer {
            padding: var(--space-8) 0;
            background: linear-gradient(180deg, var(--foam) 0%, var(--cream) 100%);
            text-align: center;
            border-top: 2px solid var(--border-color);
        }

        .footer-logo {
            font-family: var(--font-accent);
            font-size: 1.75rem;
            color: var(--coffee);
            margin-bottom: var(--space-2);
        }

        .site-footer p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin: 0 auto;
        }

        .site-footer a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
        }

        .site-footer a:hover {
            color: var(--accent-hover);
        }

        /* ============================================
           RESPONSIVE
           ============================================ */

        @media (max-width: 768px) {
            .container {
                padding: 0 var(--space-4);
            }

            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-4);
            }

            .header-meta {
                text-align: left;
            }

            .page-title {
                font-size: 2.25rem;
            }

            .section {
                padding: var(--space-7) 0;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .command-grid {
                grid-template-columns: 1fr;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }

            .table-wrapper {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .table th,
            .table td {
                padding: var(--space-2) var(--space-3);
                font-size: 0.8125rem;
            }

            .jump-nav a {
                padding: var(--space-2) var(--space-3);
                font-size: 0.6875rem;
            }

            pre {
                padding: var(--space-4);
                border-radius: var(--radius-sm);
            }

            pre code {
                font-size: 0.8rem;
            }

            .coffee-stain {
                display: none;
            }

            .subsection-title {
                font-size: 1.15rem;
            }
        }
    </style>
</head>
<body>

    <!-- Decorative Coffee Stains -->
    <div class="coffee-stain coffee-stain-1"></div>
    <div class="coffee-stain coffee-stain-2"></div>
    <div class="coffee-stain coffee-stain-3"></div>

    <!-- Back Link -->
    <div class="container">
        <a href="index.html" class="back-link">&larr; Tech Guides</a>
    </div>

    <!-- Header -->
    <header class="page-header">
        <div class="container">
            <div class="header-content">
                <div>
                    <div class="steam-container">
                        <div class="header-icon">&#9749;</div>
                        <div class="steam">
                            <span class="steam-line"></span>
                            <span class="steam-line"></span>
                            <span class="steam-line"></span>
                        </div>
                    </div>
                    <h1 class="page-title">Java</h1>
                    <p class="page-tagline">Write once, run everywhere &mdash; fueled by coffee</p>
                </div>
                <div class="header-meta">
                    <p>Comprehensive Reference</p>
                    <p style="color: var(--cappuccino);">Java 8 &ndash; 21+</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Jump Navigation -->
    <nav class="jump-nav">
        <a href="#quick-reference">Quick Reference</a>
        <a href="#setup">Setup</a>
        <a href="#fundamentals">Fundamentals</a>
        <a href="#oop">OOP</a>
        <a href="#collections">Collections</a>
        <a href="#exceptions-io">Exceptions &amp; I/O</a>
        <a href="#concurrency">Concurrency</a>
        <a href="#modern-java">Modern Java</a>
        <a href="#build-tools">Build Tools</a>
        <a href="#testing">Testing</a>
        <a href="#best-practices">Best Practices</a>
        <a href="#ecosystem">Ecosystem</a>
    </nav>

    <!-- ============================================
         SECTION 01 — QUICK REFERENCE
         ============================================ -->
    <section id="quick-reference" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">01</p>
                <h2 class="section-title">Quick Reference</h2>
                <p class="section-description">The essential Java cheat sheet. Data types, operators, control flow, and common patterns all in one place.</p>
            </div>

            <!-- Primitive Data Types -->
            <div class="subsection">
                <h3 class="subsection-title">Primitive Data Types</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Size</th>
                                <th>Range</th>
                                <th>Default</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>byte</code></td>
                                <td>8-bit</td>
                                <td>-128 to 127</td>
                                <td><code>0</code></td>
                                <td><code>byte b = 100;</code></td>
                            </tr>
                            <tr>
                                <td><code>short</code></td>
                                <td>16-bit</td>
                                <td>-32,768 to 32,767</td>
                                <td><code>0</code></td>
                                <td><code>short s = 10000;</code></td>
                            </tr>
                            <tr>
                                <td><code>int</code></td>
                                <td>32-bit</td>
                                <td>-2<sup>31</sup> to 2<sup>31</sup>-1</td>
                                <td><code>0</code></td>
                                <td><code>int i = 42;</code></td>
                            </tr>
                            <tr>
                                <td><code>long</code></td>
                                <td>64-bit</td>
                                <td>-2<sup>63</sup> to 2<sup>63</sup>-1</td>
                                <td><code>0L</code></td>
                                <td><code>long l = 100000L;</code></td>
                            </tr>
                            <tr>
                                <td><code>float</code></td>
                                <td>32-bit</td>
                                <td>IEEE 754 single-precision</td>
                                <td><code>0.0f</code></td>
                                <td><code>float f = 3.14f;</code></td>
                            </tr>
                            <tr>
                                <td><code>double</code></td>
                                <td>64-bit</td>
                                <td>IEEE 754 double-precision</td>
                                <td><code>0.0d</code></td>
                                <td><code>double d = 3.14159;</code></td>
                            </tr>
                            <tr>
                                <td><code>boolean</code></td>
                                <td>1-bit*</td>
                                <td>true or false</td>
                                <td><code>false</code></td>
                                <td><code>boolean ok = true;</code></td>
                            </tr>
                            <tr>
                                <td><code>char</code></td>
                                <td>16-bit</td>
                                <td>'\u0000' to '\uffff'</td>
                                <td><code>'\u0000'</code></td>
                                <td><code>char c = 'A';</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Variable Declaration -->
            <div class="subsection">
                <h3 class="subsection-title">Variable Declaration</h3>
<pre><code>// Explicit type declaration
int count = 10;
String name = "Java";
double[] prices = {9.99, 19.99, 29.99};

// Type inference (Java 10+)
var message = "Hello, World!";     // inferred as String
var numbers = List.of(1, 2, 3);    // inferred as List&lt;Integer&gt;
var map = new HashMap&lt;String, Integer&gt;();  // inferred type

// Constants
final int MAX_SIZE = 100;
final String APP_NAME = "CoffeeApp";
static final double PI = 3.14159265358979;</code></pre>
            </div>

            <!-- Operators -->
            <div class="subsection">
                <h3 class="subsection-title">Operator Reference</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Operators</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Arithmetic</strong></td>
                                <td><code>+  -  *  /  %</code></td>
                                <td><code>int r = 10 % 3;  // 1</code></td>
                            </tr>
                            <tr>
                                <td><strong>Assignment</strong></td>
                                <td><code>=  +=  -=  *=  /=  %=</code></td>
                                <td><code>x += 5;  // x = x + 5</code></td>
                            </tr>
                            <tr>
                                <td><strong>Comparison</strong></td>
                                <td><code>==  !=  &lt;  &gt;  &lt;=  &gt;=</code></td>
                                <td><code>if (a &gt;= b) { ... }</code></td>
                            </tr>
                            <tr>
                                <td><strong>Logical</strong></td>
                                <td><code>&amp;&amp;  ||  !</code></td>
                                <td><code>if (a &amp;&amp; !b) { ... }</code></td>
                            </tr>
                            <tr>
                                <td><strong>Bitwise</strong></td>
                                <td><code>&amp;  |  ^  ~  &lt;&lt;  &gt;&gt;  &gt;&gt;&gt;</code></td>
                                <td><code>int mask = flags &amp; 0xFF;</code></td>
                            </tr>
                            <tr>
                                <td><strong>Ternary</strong></td>
                                <td><code>? :</code></td>
                                <td><code>String s = x &gt; 0 ? "pos" : "neg";</code></td>
                            </tr>
                            <tr>
                                <td><strong>instanceof</strong></td>
                                <td><code>instanceof</code></td>
                                <td><code>if (obj instanceof String s) { ... }</code></td>
                            </tr>
                            <tr>
                                <td><strong>Increment</strong></td>
                                <td><code>++  --</code></td>
                                <td><code>i++;  --j;</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Control Flow Quick Reference -->
            <div class="subsection">
                <h3 class="subsection-title">Control Flow Quick Reference</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <h4>if / else if / else</h4>
<pre><code>if (score &gt;= 90) {
    grade = "A";
} else if (score &gt;= 80) {
    grade = "B";
} else {
    grade = "C";
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>switch (classic)</h4>
<pre><code>switch (day) {
    case "MON":
    case "TUE":
        System.out.println("Early week");
        break;
    case "FRI":
        System.out.println("TGIF!");
        break;
    default:
        System.out.println("Other day");
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>for loop</h4>
<pre><code>for (int i = 0; i &lt; 10; i++) {
    System.out.println(i);
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>enhanced for-each</h4>
<pre><code>String[] names = {"Ada", "Bob"};
for (String name : names) {
    System.out.println(name);
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>while / do-while</h4>
<pre><code>while (running) {
    process();
}

do {
    retry();
} while (!success);</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>try / catch / finally</h4>
<pre><code>try {
    readFile("data.txt");
} catch (IOException e) {
    log.error("Read failed", e);
} finally {
    cleanup();
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- String Methods -->
            <div class="subsection">
                <h3 class="subsection-title">Common String Methods</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Returns</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>length()</code></td>
                                <td><code>int</code></td>
                                <td><code>"Java".length()  // 4</code></td>
                            </tr>
                            <tr>
                                <td><code>charAt(int)</code></td>
                                <td><code>char</code></td>
                                <td><code>"Java".charAt(0)  // 'J'</code></td>
                            </tr>
                            <tr>
                                <td><code>substring(int, int)</code></td>
                                <td><code>String</code></td>
                                <td><code>"Hello".substring(1, 4)  // "ell"</code></td>
                            </tr>
                            <tr>
                                <td><code>indexOf(String)</code></td>
                                <td><code>int</code></td>
                                <td><code>"coffee".indexOf("fee")  // 3</code></td>
                            </tr>
                            <tr>
                                <td><code>contains(CharSequence)</code></td>
                                <td><code>boolean</code></td>
                                <td><code>"latte".contains("att")  // true</code></td>
                            </tr>
                            <tr>
                                <td><code>replace(old, new)</code></td>
                                <td><code>String</code></td>
                                <td><code>"aab".replace("a", "b")  // "bbb"</code></td>
                            </tr>
                            <tr>
                                <td><code>split(String regex)</code></td>
                                <td><code>String[]</code></td>
                                <td><code>"a,b,c".split(",")  // ["a","b","c"]</code></td>
                            </tr>
                            <tr>
                                <td><code>trim()</code></td>
                                <td><code>String</code></td>
                                <td><code>" hi ".trim()  // "hi"</code></td>
                            </tr>
                            <tr>
                                <td><code>toLowerCase()</code></td>
                                <td><code>String</code></td>
                                <td><code>"JAVA".toLowerCase()  // "java"</code></td>
                            </tr>
                            <tr>
                                <td><code>toUpperCase()</code></td>
                                <td><code>String</code></td>
                                <td><code>"java".toUpperCase()  // "JAVA"</code></td>
                            </tr>
                            <tr>
                                <td><code>equals(Object)</code></td>
                                <td><code>boolean</code></td>
                                <td><code>"abc".equals("abc")  // true</code></td>
                            </tr>
                            <tr>
                                <td><code>format(String, ...)</code></td>
                                <td><code>String</code></td>
                                <td><code>String.format("Hi %s", name)</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Array Syntax -->
            <div class="subsection">
                <h3 class="subsection-title">Array Syntax</h3>
<pre><code>// Declaration and initialization
int[] numbers = new int[5];              // default zeros
int[] primes = {2, 3, 5, 7, 11};        // literal initialization
String[] names = new String[]{"Ada", "Bob", "Cal"};

// Multidimensional arrays
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

// Access and length
int first = primes[0];         // 2
int len = primes.length;       // 5
matrix[1][2] = 99;             // set row 1, col 2

// Common operations (java.util.Arrays)
Arrays.sort(numbers);
Arrays.fill(numbers, 0);
int[] copy = Arrays.copyOf(primes, primes.length);
boolean eq = Arrays.equals(primes, copy);
String repr = Arrays.toString(primes);  // "[2, 3, 5, 7, 11]"</code></pre>
            </div>

            <!-- Common Patterns -->
            <div class="subsection">
                <h3 class="subsection-title">Common Patterns</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <h4>Main Method</h4>
                        <p>Entry point for every Java application</p>
<pre><code>public class App {
    public static void main(String[] args) {
        System.out.println("Hello, Java!");
    }
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Class Declaration</h4>
                        <p>Fields, constructor, and methods</p>
<pre><code>public class Coffee {
    private String roast;
    private int strength;

    public Coffee(String roast, int strength) {
        this.roast = roast;
        this.strength = strength;
    }

    public String getRoast() {
        return roast;
    }
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Interface</h4>
                        <p>Contract with default methods</p>
<pre><code>public interface Brewable {
    void brew();
    int getStrength();

    default String describe() {
        return "Strength: " + getStrength();
    }
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Enum</h4>
                        <p>Type-safe constants with behavior</p>
<pre><code>public enum Roast {
    LIGHT("Blonde"),
    MEDIUM("House"),
    DARK("Espresso");

    private final String label;
    Roast(String label) {
        this.label = label;
    }
    public String getLabel() {
        return label;
    }
}</code></pre>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 02 — SETUP & INSTALLATION
         ============================================ -->
    <section id="setup" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">02</p>
                <h2 class="section-title">Setup &amp; Installation</h2>
                <p class="section-description">Getting your Java development environment ready. From choosing a JDK to writing your first program.</p>
            </div>

            <!-- JDK Versions -->
            <div class="subsection">
                <h3 class="subsection-title">JDK LTS Versions</h3>
                <p class="subsection-description">Long-Term Support releases are the backbone of production Java. Choose the newest LTS your project supports.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Version</th>
                                <th>Released</th>
                                <th>Status</th>
                                <th>Key Features</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Java 8</strong> <span class="badge badge-warning">Legacy</span></td>
                                <td>Mar 2014</td>
                                <td>Extended support</td>
                                <td>Lambdas, Streams API, Optional, Date/Time API, default methods</td>
                            </tr>
                            <tr>
                                <td><strong>Java 11</strong> <span class="badge badge-info">LTS</span></td>
                                <td>Sep 2018</td>
                                <td>Active support</td>
                                <td>HTTP Client, var in lambdas, String methods, single-file execution</td>
                            </tr>
                            <tr>
                                <td><strong>Java 17</strong> <span class="badge badge-success">LTS</span></td>
                                <td>Sep 2021</td>
                                <td>Active support</td>
                                <td>Sealed classes, pattern matching, records, text blocks, switch expressions</td>
                            </tr>
                            <tr>
                                <td><strong>Java 21</strong> <span class="badge badge-caramel">Latest LTS</span></td>
                                <td>Sep 2023</td>
                                <td>Active support</td>
                                <td>Virtual threads, record patterns, sequenced collections, string templates (preview)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info" style="margin-top: var(--space-4);">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Recommendation</p>
                        <p>For new projects, use Java 21. For existing projects, Java 17 is the safest migration target. Avoid starting new work on Java 8 unless legacy constraints demand it.</p>
                    </div>
                </div>
            </div>

            <!-- Installation Methods -->
            <div class="subsection">
                <h3 class="subsection-title">Installation Methods</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <h4>SDKMAN! (Recommended)</h4>
                        <p>Manages multiple JDK versions side by side on Linux and macOS</p>
<pre><code># Install SDKMAN
curl -s "https://get.sdkman.io" | bash
source "$HOME/.sdkman/bin/sdkman-init.sh"

# List available JDKs
sdk list java

# Install a specific version
sdk install java 21.0.2-tem

# Switch between versions
sdk use java 17.0.10-tem
sdk default java 21.0.2-tem</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Package Manager</h4>
                        <p>Quick install via system package managers</p>
<pre><code># Ubuntu / Debian
sudo apt update
sudo apt install openjdk-21-jdk

# macOS (Homebrew)
brew install openjdk@21

# Fedora / RHEL
sudo dnf install java-21-openjdk-devel

# Windows (winget)
winget install EclipseAdoptium.Temurin.21.JDK</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Manual Install</h4>
                        <p>Download from Adoptium, Oracle, or Amazon Corretto</p>
<pre><code># Download from adoptium.net
# Extract to /opt or /usr/local
tar -xzf OpenJDK21U-jdk_x64_linux.tar.gz
sudo mv jdk-21.0.2+13 /opt/java-21

# Set environment variables
export JAVA_HOME=/opt/java-21
export PATH=$JAVA_HOME/bin:$PATH</code></pre>
                    </div>
                </div>
            </div>

            <!-- JAVA_HOME Setup -->
            <div class="subsection">
                <h3 class="subsection-title">JAVA_HOME &amp; PATH Configuration</h3>
<pre><code># Check current Java version
java -version
javac -version

# Find where Java is installed
which java
readlink -f $(which java)

# Set JAVA_HOME permanently (add to ~/.bashrc or ~/.zshrc)
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH

# Verify setup
echo $JAVA_HOME
java -version</code></pre>

                <div class="tip-box">
                    <p>On macOS, use <span class="code-inline">/usr/libexec/java_home -V</span> to list all installed JVMs and <span class="code-inline">/usr/libexec/java_home -v 21</span> to get the path for a specific version.</p>
                </div>
            </div>

            <!-- IDE Comparison -->
            <div class="subsection">
                <h3 class="subsection-title">IDE Comparison</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>IntelliJ IDEA</th>
                                <th>Eclipse</th>
                                <th>VS Code</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Best for</strong></td>
                                <td>Professional Java development</td>
                                <td>Enterprise / legacy projects</td>
                                <td>Lightweight, polyglot work</td>
                            </tr>
                            <tr>
                                <td><strong>Cost</strong></td>
                                <td>Free (Community) / Paid (Ultimate)</td>
                                <td>Free</td>
                                <td>Free</td>
                            </tr>
                            <tr>
                                <td><strong>Refactoring</strong></td>
                                <td>Excellent</td>
                                <td>Very good</td>
                                <td>Good (via extensions)</td>
                            </tr>
                            <tr>
                                <td><strong>Debugger</strong></td>
                                <td>Best-in-class</td>
                                <td>Very good</td>
                                <td>Good</td>
                            </tr>
                            <tr>
                                <td><strong>Build tools</strong></td>
                                <td>Maven, Gradle built-in</td>
                                <td>Maven, Gradle via plugins</td>
                                <td>Maven, Gradle via extensions</td>
                            </tr>
                            <tr>
                                <td><strong>Startup speed</strong></td>
                                <td>Slow</td>
                                <td>Moderate</td>
                                <td>Fast</td>
                            </tr>
                            <tr>
                                <td><strong>Key extensions</strong></td>
                                <td>Built-in plugins</td>
                                <td>Marketplace</td>
                                <td>Extension Pack for Java (Red Hat)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- First Java Program -->
            <div class="subsection">
                <h3 class="subsection-title">First Java Program</h3>
                <p class="subsection-description">Create, compile, and run your first Java application.</p>
<pre><code>// File: HelloWorld.java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
        System.out.println("Java version: " + System.getProperty("java.version"));
    }
}</code></pre>
<pre><code># Compile to bytecode
javac HelloWorld.java

# Run the compiled class
java HelloWorld
# Output: Hello, World!
# Output: Java version: 21.0.2

# Single-file execution (Java 11+) — no separate compile step
java HelloWorld.java</code></pre>

                <div class="alert alert-success">
                    <span class="alert-icon">&#10003;</span>
                    <div class="alert-content">
                        <p class="alert-title">Single-File Execution</p>
                        <p>Since Java 11, you can run <span class="code-inline">java MyFile.java</span> directly without a separate <span class="code-inline">javac</span> step. The file is compiled in memory and executed. Great for quick scripts and learning.</p>
                    </div>
                </div>
            </div>

            <!-- JShell -->
            <div class="subsection">
                <h3 class="subsection-title">JShell REPL</h3>
                <p class="subsection-description">Interactive Java shell for quick experimentation, available since Java 9.</p>
<pre><code># Start JShell
jshell

# Inside JShell:
jshell&gt; int x = 42
x ==&gt; 42

jshell&gt; String greeting = "Hello, " + "Java!"
greeting ==&gt; "Hello, Java!"

jshell&gt; List.of(1, 2, 3).stream().map(n -&gt; n * n).toList()
$3 ==&gt; [1, 4, 9]

jshell&gt; /methods     // list declared methods
jshell&gt; /vars        // list declared variables
jshell&gt; /imports     // list active imports
jshell&gt; /exit        // quit</code></pre>
            </div>

            <!-- Project Structure -->
            <div class="subsection">
                <h3 class="subsection-title">Project Structure Conventions</h3>
<pre><code>my-project/
├── src/
│   ├── main/
│   │   ├── java/                 # Application source
│   │   │   └── com/
│   │   │       └── example/
│   │   │           ├── App.java
│   │   │           ├── model/
│   │   │           ├── service/
│   │   │           └── util/
│   │   └── resources/            # Config files, templates
│   │       └── application.properties
│   └── test/
│       ├── java/                 # Test source (mirrors main)
│       │   └── com/
│       │       └── example/
│       │           └── AppTest.java
│       └── resources/            # Test-specific resources
├── pom.xml                       # Maven build file
├── build.gradle                  # OR Gradle build file
├── .gitignore
└── README.md</code></pre>

                <div class="tip-box">
                    <p>The <span class="code-inline">src/main/java</span> and <span class="code-inline">src/test/java</span> layout is the Maven Standard Directory Layout. Both Maven and Gradle use it by default, and all major IDEs expect it.</p>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 03 — LANGUAGE FUNDAMENTALS
         ============================================ -->
    <section id="fundamentals" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">03</p>
                <h2 class="section-title">Language Fundamentals</h2>
                <p class="section-description">The building blocks of Java. Types, variables, operators, control flow, strings, and arrays in depth.</p>
            </div>

            <!-- Primitive vs Reference Types -->
            <div class="subsection">
                <h3 class="subsection-title">Primitive Types vs Reference Types</h3>
                <p class="subsection-description">Java has two categories of types. Primitives hold values directly on the stack; reference types hold a pointer to an object on the heap.</p>

                <div class="card-grid">
                    <div class="card">
                        <h4>Primitive Types</h4>
                        <p>Stored directly in memory. Fixed size. No methods. Cannot be null. Eight types: byte, short, int, long, float, double, boolean, char.</p>
<pre><code>int count = 42;       // value on stack
double pi = 3.14;     // value on stack
boolean ok = true;    // value on stack

// Primitives are copied by value
int a = 10;
int b = a;  // b is independent copy
b = 20;     // a is still 10</code></pre>
                    </div>
                    <div class="card">
                        <h4>Reference Types</h4>
                        <p>Stored on the heap. Variable holds a reference (pointer). Can be null. Classes, interfaces, arrays, enums, records.</p>
<pre><code>String name = "Java";     // ref to heap
int[] nums = {1, 2, 3};  // ref to heap
Coffee c = new Coffee();  // ref to heap

// References are copied by value
int[] x = {1, 2, 3};
int[] y = x;  // y points to same array
y[0] = 99;    // x[0] is also 99!</code></pre>
                    </div>
                </div>

                <div class="table-wrapper" style="margin-top: var(--space-5);">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Primitive</th>
                                <th>Wrapper Class</th>
                                <th>Autoboxing Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>int</code></td>
                                <td><code>Integer</code></td>
                                <td><code>Integer n = 42;  // autoboxed</code></td>
                            </tr>
                            <tr>
                                <td><code>double</code></td>
                                <td><code>Double</code></td>
                                <td><code>Double d = 3.14;  // autoboxed</code></td>
                            </tr>
                            <tr>
                                <td><code>boolean</code></td>
                                <td><code>Boolean</code></td>
                                <td><code>Boolean b = true;  // autoboxed</code></td>
                            </tr>
                            <tr>
                                <td><code>char</code></td>
                                <td><code>Character</code></td>
                                <td><code>Character c = 'A';  // autoboxed</code></td>
                            </tr>
                            <tr>
                                <td><code>long</code></td>
                                <td><code>Long</code></td>
                                <td><code>Long l = 100L;  // autoboxed</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-warning" style="margin-top: var(--space-4);">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Autoboxing Pitfall</p>
                        <p>Never compare wrapper types with <span class="code-inline">==</span>. Use <span class="code-inline">.equals()</span> instead. The <span class="code-inline">==</span> operator compares references, not values. <span class="code-inline">Integer a = 200; Integer b = 200; a == b</span> is <span class="code-inline">false</span> because values above 127 are not cached.</p>
                    </div>
                </div>
            </div>

            <!-- Variables and Constants -->
            <div class="subsection">
                <h3 class="subsection-title">Variables and Constants</h3>
<pre><code>// Local variables (must be initialized before use)
int count = 0;
String name;         // OK to declare without init
// System.out.println(name);  // COMPILE ERROR - not initialized

// var keyword (Java 10+) - local variable type inference
var message = "Hello";            // String
var numbers = new ArrayList&lt;Integer&gt;();  // ArrayList&lt;Integer&gt;
var stream = list.stream();       // Stream&lt;T&gt;

// var restrictions: cannot use with...
// var x;                  // no initializer
// var y = null;           // cannot infer type
// var z = {1, 2, 3};     // array initializer
// var as field type       // only local variables
// var as parameter type   // only local variables

// Constants with final
final int MAX_RETRIES = 3;
final String DB_URL = "jdbc:postgresql://localhost/mydb";

// Static constants (class-level)
public static final int BUFFER_SIZE = 8192;
public static final String VERSION = "2.1.0";</code></pre>
            </div>

            <!-- Type Casting -->
            <div class="subsection">
                <h3 class="subsection-title">Type Casting</h3>
                <p class="subsection-description">Widening (implicit) conversions are safe. Narrowing (explicit) conversions can lose data and require a cast.</p>
<pre><code>// Widening (implicit) - no data loss
// byte -&gt; short -&gt; int -&gt; long -&gt; float -&gt; double
int i = 42;
long l = i;           // implicit widening
double d = l;         // implicit widening
float f = i;          // implicit widening

// Narrowing (explicit) - potential data loss, requires cast
double pi = 3.14159;
int truncated = (int) pi;        // 3 (decimal lost)
byte small = (byte) 300;         // 44 (overflow!)
short s = (short) 100_000;       // -31072 (overflow!)

// Reference type casting
Object obj = "Hello";
String str = (String) obj;       // downcast (may throw ClassCastException)

// Safe casting with instanceof (Java 16+ pattern matching)
if (obj instanceof String s) {
    System.out.println(s.toUpperCase());  // s is already cast
}

// Numeric parsing (String to number)
int n = Integer.parseInt("42");
double d2 = Double.parseDouble("3.14");
long l2 = Long.parseLong("1000000");

// Number to String
String s1 = String.valueOf(42);
String s2 = Integer.toString(42);
String s3 = "" + 42;  // concatenation (less efficient)</code></pre>

                <div class="tip-box">
                    <p>Use underscore separators in numeric literals for readability: <span class="code-inline">1_000_000</span>, <span class="code-inline">0xFF_EC_DE_5E</span>, <span class="code-inline">3.141_592_653</span>. The compiler ignores them.</p>
                </div>
            </div>

            <!-- Operators in Depth -->
            <div class="subsection">
                <h3 class="subsection-title">Operators in Depth</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <h4>Arithmetic &amp; Assignment</h4>
<pre><code>int a = 10, b = 3;

a + b    // 13  addition
a - b    // 7   subtraction
a * b    // 30  multiplication
a / b    // 3   integer division
a % b    // 1   modulo (remainder)

a += 5;  // a = a + 5  (15)
a -= 3;  // a = a - 3  (12)
a *= 2;  // a = a * 2  (24)
a /= 4;  // a = a / 4  (6)
a %= 4;  // a = a % 4  (2)</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Logical &amp; Ternary</h4>
<pre><code>boolean x = true, y = false;

x &amp;&amp; y   // false (AND, short-circuit)
x || y   // true  (OR, short-circuit)
!x       // false (NOT)

// Short-circuit: second operand not
// evaluated if result is determined
obj != null &amp;&amp; obj.isValid()  // safe

// Ternary operator
String msg = age &gt;= 18
    ? "adult"
    : "minor";

// Nested ternary (avoid for readability)
String grade = score &gt;= 90 ? "A"
    : score &gt;= 80 ? "B" : "C";</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Bitwise Operations</h4>
<pre><code>int a = 0b1010, b = 0b1100;

a &amp; b    // 0b1000 (AND)
a | b    // 0b1110 (OR)
a ^ b    // 0b0110 (XOR)
~a       // inverts all bits (NOT)

a &lt;&lt; 2   // 0b101000 (left shift)
a &gt;&gt; 1   // 0b0101   (signed right)
a &gt;&gt;&gt; 1  // 0b0101   (unsigned right)

// Common uses
int flags = READ | WRITE;        // set
boolean canRead = (flags &amp; READ) != 0; // test
flags &amp;= ~WRITE;                 // clear</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>instanceof (Pattern Matching)</h4>
<pre><code>// Traditional instanceof
if (shape instanceof Circle) {
    Circle c = (Circle) shape;
    System.out.println(c.radius());
}

// Pattern matching (Java 16+)
if (shape instanceof Circle c) {
    System.out.println(c.radius());
    // c is already cast and in scope
}

// Guarded pattern
if (shape instanceof Circle c
        &amp;&amp; c.radius() &gt; 5) {
    System.out.println("Big circle");
}

// In switch (Java 21+)
String desc = switch (shape) {
    case Circle c   -&gt; "r=" + c.radius();
    case Square s   -&gt; "side=" + s.side();
    default         -&gt; "unknown";
};</code></pre>
                    </div>
                </div>
            </div>

            <!-- Control Flow -->
            <div class="subsection">
                <h3 class="subsection-title">Control Flow</h3>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">if / else</h4>
<pre><code>// Standard if-else
if (temperature &gt; 95) {
    System.out.println("Too hot for coffee");
} else if (temperature &gt; 65) {
    System.out.println("Iced coffee weather");
} else {
    System.out.println("Hot coffee time!");
}

// Null-safe checks
if (name != null &amp;&amp; !name.isEmpty()) {
    greet(name);
}

// Java 14+ helpful NullPointerExceptions
// Shows exactly which variable was null in chain:
// a.b.c.d  -&gt;  "Cannot invoke ... because 'a.b' is null"</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Switch Expressions (Java 14+)</h4>
<pre><code>// Classic switch (statement)
switch (day) {
    case MONDAY:
    case FRIDAY:
        System.out.println("Busy day");
        break;
    case SATURDAY:
    case SUNDAY:
        System.out.println("Weekend!");
        break;
    default:
        System.out.println("Midweek");
}

// Modern switch expression with arrow syntax (Java 14+)
String type = switch (day) {
    case MONDAY, FRIDAY     -&gt; "Busy day";
    case SATURDAY, SUNDAY   -&gt; "Weekend!";
    default                 -&gt; "Midweek";
};

// Switch with blocks and yield
int numLetters = switch (day) {
    case MONDAY, FRIDAY, SUNDAY -&gt; 6;
    case TUESDAY                -&gt; 7;
    default -&gt; {
        String name = day.toString();
        yield name.length();
    }
};</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Loops</h4>
<pre><code>// Standard for loop
for (int i = 0; i &lt; 10; i++) {
    System.out.println("Iteration: " + i);
}

// Enhanced for-each (arrays and Iterables)
List&lt;String&gt; coffees = List.of("Espresso", "Latte", "Mocha");
for (String coffee : coffees) {
    System.out.println(coffee);
}

// while loop
int retries = 0;
while (retries &lt; 3 &amp;&amp; !connected) {
    connect();
    retries++;
}

// do-while (executes at least once)
Scanner scanner = new Scanner(System.in);
String input;
do {
    System.out.print("Enter command (quit to exit): ");
    input = scanner.nextLine();
    process(input);
} while (!"quit".equals(input));

// Loop control: break and continue
for (int i = 0; i &lt; 100; i++) {
    if (i % 2 == 0) continue;  // skip even numbers
    if (i &gt; 50) break;          // stop at 50
    System.out.println(i);
}

// Labeled break (nested loops)
outer:
for (int i = 0; i &lt; 10; i++) {
    for (int j = 0; j &lt; 10; j++) {
        if (i * j &gt; 50) break outer;
        System.out.println(i + " * " + j + " = " + (i * j));
    }
}</code></pre>
            </div>

            <!-- Strings -->
            <div class="subsection">
                <h3 class="subsection-title">Strings</h3>
                <p class="subsection-description">Strings are immutable in Java. Every modification creates a new String object. Use StringBuilder for frequent concatenation.</p>

<pre><code>// String creation
String s1 = "Hello";               // string literal (interned)
String s2 = new String("Hello");   // new object on heap
String s3 = "Hello";               // same reference as s1 (interned)

// IMPORTANT: String comparison
s1 == s3          // true  (same interned reference)
s1 == s2          // false (different objects!)
s1.equals(s2)     // true  (ALWAYS use .equals() for content comparison)
s1.equalsIgnoreCase("hello")  // true

// String concatenation
String full = "Hello" + " " + "World";     // compiler optimizes
String msg = "Count: " + 42;                // auto-converts int

// String.format and formatted (Java 15+)
String formatted = String.format("Name: %s, Age: %d", name, age);
String formatted2 = "Name: %s, Age: %d".formatted(name, age);  // Java 15+

// StringBuilder (mutable, for loops and concatenation)
StringBuilder sb = new StringBuilder();
for (int i = 0; i &lt; 1000; i++) {
    sb.append("item ").append(i).append("\n");
}
String result = sb.toString();

// StringBuffer (thread-safe StringBuilder, slower)
StringBuffer threadSafe = new StringBuffer();
threadSafe.append("synchronized").append(" append");</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Text Blocks (Java 15+)</h4>
<pre><code>// Multi-line strings with text blocks
String json = """
        {
            "name": "Java",
            "version": 21,
            "features": [
                "virtual threads",
                "pattern matching"
            ]
        }
        """;

String html = """
        &lt;html&gt;
            &lt;body&gt;
                &lt;p&gt;Hello, %s!&lt;/p&gt;
            &lt;/body&gt;
        &lt;/html&gt;
        """.formatted(name);

String sql = """
        SELECT u.name, u.email
        FROM users u
        WHERE u.active = true
          AND u.created_at &gt; ?
        ORDER BY u.name
        """;</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Common String Operations</h4>
<pre><code>String s = "  Hello, Java World!  ";

s.trim()                    // "Hello, Java World!"
s.strip()                   // "Hello, Java World!" (Unicode-aware, Java 11+)
s.stripLeading()            // "Hello, Java World!  "
s.stripTrailing()           // "  Hello, Java World!"
s.isBlank()                 // false (Java 11+, checks whitespace-only too)
s.isEmpty()                 // false

"hello".repeat(3)           // "hellohellohello" (Java 11+)
"a\nb\nc".lines().toList()  // ["a", "b", "c"] (Java 11+)

// Checking and searching
"Hello".startsWith("He")    // true
"Hello".endsWith("lo")      // true
"Hello".matches("[A-Za-z]+") // true (regex match)

// Joining strings
String csv = String.join(", ", "a", "b", "c");  // "a, b, c"
String joined = List.of("x", "y").stream()
    .collect(Collectors.joining(", "));           // "x, y"</code></pre>
            </div>

            <!-- Arrays -->
            <div class="subsection">
                <h3 class="subsection-title">Arrays</h3>
                <p class="subsection-description">Fixed-size, zero-indexed containers. For dynamic sizing, use ArrayList instead.</p>

<pre><code>// Single-dimensional arrays
int[] nums = new int[5];                  // [0, 0, 0, 0, 0]
int[] primes = {2, 3, 5, 7, 11};         // literal init
String[] names = new String[]{"A", "B"}; // explicit init

// Multi-dimensional arrays
int[][] grid = new int[3][4];            // 3 rows, 4 cols
int[][] jagged = {                       // ragged array
    {1, 2},
    {3, 4, 5},
    {6}
};

// Access
int first = primes[0];          // 2
int last = primes[primes.length - 1];  // 11
grid[0][1] = 42;

// Iteration
for (int i = 0; i &lt; primes.length; i++) {
    System.out.println(primes[i]);
}
for (int p : primes) {
    System.out.println(p);
}

// java.util.Arrays utility class
import java.util.Arrays;

Arrays.sort(nums);                      // in-place sort
Arrays.sort(names, Comparator.reverseOrder());  // reverse sort
int idx = Arrays.binarySearch(primes, 7);       // 3 (must be sorted)
int[] copy = Arrays.copyOf(primes, 10);         // pad with zeros
int[] range = Arrays.copyOfRange(primes, 1, 4); // [3, 5, 7]
boolean eq = Arrays.equals(primes, copy);       // false
Arrays.fill(nums, -1);                          // all elements = -1
String str = Arrays.toString(primes);           // "[2, 3, 5, 7, 11]"
String deep = Arrays.deepToString(grid);        // nested arrays

// Convert array to List
List&lt;String&gt; list = Arrays.asList(names);          // fixed-size list
List&lt;String&gt; mutable = new ArrayList&lt;&gt;(Arrays.asList(names));

// Convert List to array
String[] arr = list.toArray(new String[0]);</code></pre>
            </div>

            <!-- Comments -->
            <div class="subsection">
                <h3 class="subsection-title">Comments and Javadoc</h3>
<pre><code>// Single-line comment

/*
 * Multi-line comment.
 * Used for longer explanations.
 */

/**
 * Javadoc comment - generates API documentation.
 *
 * &lt;p&gt;Describes the purpose and behavior of a class,
 * method, or field. Supports HTML tags.&lt;/p&gt;
 *
 * @param roast   the type of roast (LIGHT, MEDIUM, DARK)
 * @param ounces  the size of the cup in fluid ounces
 * @return a freshly brewed Coffee instance
 * @throws IllegalArgumentException if ounces is negative
 * @since 2.0
 * @see Roast
 * @author CoffeeTeam
 */
public Coffee brew(Roast roast, int ounces) {
    if (ounces &lt; 0) {
        throw new IllegalArgumentException("ounces must be positive");
    }
    return new Coffee(roast, ounces);
}</code></pre>

<pre><code># Generate Javadoc HTML from source
javadoc -d docs/ -sourcepath src/main/java com.example

# Common Javadoc tags:
# @param name    - describes a parameter
# @return        - describes the return value
# @throws type   - documents an exception
# @see reference - cross-reference to another element
# @since version - when this API was introduced
# @deprecated    - marks as deprecated with explanation
# {@code text}   - inline code formatting
# {@link Class}  - inline hyperlink to another class</code></pre>

                <div class="alert alert-info">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Javadoc Best Practice</p>
                        <p>Write Javadoc for all public classes and methods. Focus on what the method does and why, not how. Document parameters, return values, exceptions, and edge cases. Use <span class="code-inline">{@code}</span> for inline code and <span class="code-inline">{@link}</span> for cross-references.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 04 — OBJECT-ORIENTED PROGRAMMING
         ============================================ -->
    <section id="oop" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">04</p>
                <h2 class="section-title">Object-Oriented Programming</h2>
                <p class="section-description">Classes, inheritance, interfaces, polymorphism, and composition. The pillars of Java's design philosophy.</p>
            </div>

            <!-- Classes & Objects -->
            <div class="subsection">
                <h3 class="subsection-title">Classes &amp; Objects</h3>
                <p class="subsection-description">A class is a blueprint; an object is an instance of that blueprint. Every Java program is built from classes.</p>
<pre><code>public class Coffee {
    // Fields (instance variables)
    private String roast;
    private int strengthMl;
    private boolean decaf;

    // Static field (shared across all instances)
    private static int totalBrewCount = 0;

    // Static initializer block (runs once when class loads)
    static {
        System.out.println("Coffee class loaded");
    }

    // Instance initializer block (runs before every constructor)
    {
        this.decaf = false;  // default for all constructors
    }

    // Default constructor
    public Coffee() {
        this("Medium", 250);  // delegates to parameterized constructor
    }

    // Parameterized constructor
    public Coffee(String roast, int strengthMl) {
        this.roast = roast;
        this.strengthMl = strengthMl;
        totalBrewCount++;
    }

    // Copy constructor
    public Coffee(Coffee other) {
        this.roast = other.roast;
        this.strengthMl = other.strengthMl;
        this.decaf = other.decaf;
        totalBrewCount++;
    }

    // Instance method
    public String describe() {
        return roast + " roast, " + strengthMl + "ml";
    }

    // Static method
    public static int getTotalBrewCount() {
        return totalBrewCount;
    }

    // The 'this' keyword refers to the current instance
    public Coffee withRoast(String roast) {
        this.roast = roast;   // distinguishes field from parameter
        return this;          // enables method chaining
    }
}</code></pre>
<pre><code>// Creating objects
Coffee espresso = new Coffee("Dark", 60);
Coffee latte = new Coffee();              // uses default constructor
Coffee copy = new Coffee(espresso);       // uses copy constructor

// Method chaining with 'this'
Coffee custom = new Coffee().withRoast("Light");

// Static access (no instance needed)
int count = Coffee.getTotalBrewCount();</code></pre>
            </div>

            <!-- Access Modifiers -->
            <div class="subsection">
                <h3 class="subsection-title">Access Modifiers</h3>
                <p class="subsection-description">Control visibility of classes, fields, methods, and constructors.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Modifier</th>
                                <th>Class</th>
                                <th>Package</th>
                                <th>Subclass</th>
                                <th>World</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>public</code></td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                            </tr>
                            <tr>
                                <td><code>protected</code></td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10007;</td>
                            </tr>
                            <tr>
                                <td><em>default</em> (no modifier)</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10007;</td>
                                <td>&#10007;</td>
                            </tr>
                            <tr>
                                <td><code>private</code></td>
                                <td>&#10003;</td>
                                <td>&#10007;</td>
                                <td>&#10007;</td>
                                <td>&#10007;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="alert alert-info">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Rule of Thumb</p>
                        <p>Start with the most restrictive access (<span class="code-inline">private</span>) and only widen when necessary. Fields should almost always be <span class="code-inline">private</span>. Use <span class="code-inline">protected</span> sparingly for extension points.</p>
                    </div>
                </div>
            </div>

            <!-- Encapsulation -->
            <div class="subsection">
                <h3 class="subsection-title">Encapsulation</h3>
                <p class="subsection-description">Hide internal state and expose controlled access through getters and setters.</p>
<pre><code>// Traditional encapsulation with getters/setters
public class BankAccount {
    private String owner;
    private double balance;

    public BankAccount(String owner, double initialBalance) {
        this.owner = owner;
        this.balance = initialBalance;
    }

    // Getter
    public double getBalance() {
        return balance;
    }

    // Setter with validation
    public void deposit(double amount) {
        if (amount &lt;= 0) {
            throw new IllegalArgumentException("Amount must be positive");
        }
        this.balance += amount;
    }

    // No setBalance() - balance can only change through deposit/withdraw
}

// Immutable class (no setters, all fields final)
public final class Money {
    private final String currency;
    private final long cents;

    public Money(String currency, long cents) {
        this.currency = currency;
        this.cents = cents;
    }

    public String getCurrency() { return currency; }
    public long getCents() { return cents; }

    // Returns a NEW instance instead of mutating
    public Money add(Money other) {
        if (!this.currency.equals(other.currency)) {
            throw new IllegalArgumentException("Currency mismatch");
        }
        return new Money(this.currency, this.cents + other.cents);
    }
}</code></pre>
<pre><code>// Record types (Java 16+) — immutable data carriers with less boilerplate
// Automatically generates: constructor, getters, equals, hashCode, toString
public record Point(double x, double y) {
    // Compact constructor for validation
    public Point {
        if (Double.isNaN(x) || Double.isNaN(y)) {
            throw new IllegalArgumentException("Coordinates must not be NaN");
        }
    }

    // Custom method
    public double distanceTo(Point other) {
        return Math.sqrt(Math.pow(this.x - other.x, 2)
                       + Math.pow(this.y - other.y, 2));
    }
}

// Usage
Point p = new Point(3.0, 4.0);
double x = p.x();          // accessor (not getX!)
System.out.println(p);     // Point[x=3.0, y=4.0]</code></pre>
            </div>

            <!-- Inheritance -->
            <div class="subsection">
                <h3 class="subsection-title">Inheritance</h3>
                <p class="subsection-description">Java supports single inheritance via <span class="code-inline">extends</span>. A subclass inherits all non-private members of its parent.</p>
<pre><code>// Superclass
public class Beverage {
    protected String name;
    protected int temperatureC;

    public Beverage(String name, int temperatureC) {
        this.name = name;
        this.temperatureC = temperatureC;
    }

    public String describe() {
        return name + " at " + temperatureC + "C";
    }
}

// Subclass
public class Coffee extends Beverage {
    private String roast;

    public Coffee(String name, int temperatureC, String roast) {
        super(name, temperatureC);  // must be first statement
        this.roast = roast;
    }

    // Method overriding
    @Override
    public String describe() {
        return super.describe() + " (" + roast + " roast)";
    }
}

// Constructor chaining
public class Espresso extends Coffee {
    public Espresso() {
        super("Espresso", 93, "Dark");  // chains to Coffee -&gt; Beverage
    }
}</code></pre>

                <div class="command-grid">
                    <div class="command-card">
                        <h4>final Classes</h4>
                        <p>Cannot be extended (subclassed)</p>
<pre><code>// No class can extend String
public final class String { ... }

// Your own final class
public final class Constants {
    public static final int MAX = 100;
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>final Methods</h4>
                        <p>Cannot be overridden in subclasses</p>
<pre><code>public class Payment {
    // Subclasses cannot change this logic
    public final double calculateTax(
            double amount) {
        return amount * 0.08;
    }
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- Interfaces -->
            <div class="subsection">
                <h3 class="subsection-title">Interfaces</h3>
                <p class="subsection-description">Interfaces define contracts. A class can implement multiple interfaces, enabling a form of multiple inheritance for behavior.</p>
<pre><code>// Interface declaration
public interface Brewable {
    // Abstract method (no body) - must be implemented
    void brew();
    int getStrength();

    // Default method (Java 8+) - provides implementation
    default String describe() {
        return "Brewable drink, strength: " + getStrength();
    }

    // Static method (Java 8+) - called on the interface itself
    static Brewable strongest(Brewable a, Brewable b) {
        return a.getStrength() &gt;= b.getStrength() ? a : b;
    }
}

// Implementing an interface
public class Tea implements Brewable {
    private int steepMinutes;

    @Override
    public void brew() {
        System.out.println("Steeping for " + steepMinutes + " min");
    }

    @Override
    public int getStrength() {
        return steepMinutes * 2;
    }
    // describe() is inherited from default method
}

// Implementing multiple interfaces
public class Chai extends Tea implements Serializable, Comparable&lt;Chai&gt; {
    @Override
    public int compareTo(Chai other) {
        return Integer.compare(this.getStrength(), other.getStrength());
    }
}</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Functional Interfaces &amp; Lambdas</h4>
<pre><code>// A functional interface has exactly ONE abstract method
@FunctionalInterface
public interface CoffeeFilter {
    boolean test(Coffee coffee);

    // Default and static methods don't count
    default CoffeeFilter and(CoffeeFilter other) {
        return c -&gt; this.test(c) &amp;&amp; other.test(c);
    }
}

// Lambda expression replaces anonymous inner class
CoffeeFilter isStrong = coffee -&gt; coffee.getStrength() &gt; 8;
CoffeeFilter isDark = coffee -&gt; coffee.getRoast().equals("Dark");

// Combine functional interfaces
CoffeeFilter strongAndDark = isStrong.and(isDark);

// Built-in functional interfaces (java.util.function)
Predicate&lt;String&gt;   notEmpty = s -&gt; !s.isEmpty();
Function&lt;String, Integer&gt; len = String::length;   // method reference
Consumer&lt;String&gt;    printer = System.out::println;
Supplier&lt;String&gt;    uuid = () -&gt; UUID.randomUUID().toString();
BiFunction&lt;Integer, Integer, Integer&gt; add = (a, b) -&gt; a + b;</code></pre>
            </div>

            <!-- Abstract Classes vs Interfaces -->
            <div class="subsection">
                <h3 class="subsection-title">Abstract Classes vs Interfaces</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Abstract Class</th>
                                <th>Interface</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Inheritance</strong></td>
                                <td>Single (extends one class)</td>
                                <td>Multiple (implements many)</td>
                            </tr>
                            <tr>
                                <td><strong>Constructors</strong></td>
                                <td>Yes</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><strong>Instance fields</strong></td>
                                <td>Yes (any access modifier)</td>
                                <td>No (only <code>public static final</code>)</td>
                            </tr>
                            <tr>
                                <td><strong>Method bodies</strong></td>
                                <td>Abstract and concrete methods</td>
                                <td>Abstract, default, and static</td>
                            </tr>
                            <tr>
                                <td><strong>Access modifiers</strong></td>
                                <td>Any</td>
                                <td>Public only (methods)</td>
                            </tr>
                            <tr>
                                <td><strong>When to use</strong></td>
                                <td>Shared state/code among related classes</td>
                                <td>Contract for unrelated classes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
<pre><code>// Abstract class - shares state and partial implementation
public abstract class HotDrink {
    protected int temperatureC;

    public HotDrink(int temperatureC) {
        this.temperatureC = temperatureC;
    }

    // Concrete method (shared behavior)
    public boolean isTooHot() {
        return temperatureC &gt; 80;
    }

    // Abstract method (subclass must implement)
    public abstract String getIngredients();
}

// Interface - defines capability, no state
public interface Sweetened {
    void addSugar(int spoons);
    int getSugarSpoons();
}</code></pre>
            </div>

            <!-- Polymorphism -->
            <div class="subsection">
                <h3 class="subsection-title">Polymorphism</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <h4>Method Overloading (Compile-time)</h4>
                        <p>Same name, different parameter lists within the same class</p>
<pre><code>public class Barista {
    // Overloaded methods
    public Coffee make() {
        return new Coffee("Medium", 250);
    }
    public Coffee make(String roast) {
        return new Coffee(roast, 250);
    }
    public Coffee make(String roast, int ml) {
        return new Coffee(roast, ml);
    }
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Method Overriding (Runtime)</h4>
                        <p>Subclass provides specific implementation of a superclass method</p>
<pre><code>Beverage drink = new Coffee(
    "Espresso", 93, "Dark");

// Calls Coffee.describe(), not
// Beverage.describe()
// Resolved at runtime based on
// actual object type
System.out.println(drink.describe());

// Covariant return type
class Animal {
    Animal create() { return new Animal(); }
}
class Dog extends Animal {
    @Override
    Dog create() { return new Dog(); } // OK
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- Composition vs Inheritance -->
            <div class="subsection">
                <h3 class="subsection-title">Composition vs Inheritance</h3>
                <div class="tip-box">
                    <p>Favor composition over inheritance. Inheritance creates tight coupling between parent and child. Composition gives you flexible, reusable components that are easier to test and change independently.</p>
                </div>
                <div class="card-grid">
                    <div class="card">
                        <h4>Inheritance Approach</h4>
                        <p>Tightly coupled. Changes to CoffeeMachine break subclass.</p>
<pre><code>// Fragile: locked into a hierarchy
class CoffeeMachine {
    void grindBeans() { ... }
    void heatWater() { ... }
    void brew() {
        grindBeans();
        heatWater();
    }
}

class FancyMachine extends CoffeeMachine {
    void frothMilk() { ... }
    @Override
    void brew() {
        super.brew();
        frothMilk();
    }
}</code></pre>
                    </div>
                    <div class="card">
                        <h4>Composition Approach</h4>
                        <p>Loosely coupled. Swap components independently.</p>
<pre><code>// Flexible: compose from parts
class Grinder { void grind() { ... } }
class Heater { void heat() { ... } }
class Frother { void froth() { ... } }

class FancyMachine {
    private final Grinder grinder;
    private final Heater heater;
    private final Frother frother;

    FancyMachine(Grinder g, Heater h,
                 Frother f) {
        this.grinder = g;
        this.heater = h;
        this.frother = f;
    }
    void brew() {
        grinder.grind();
        heater.heat();
        frother.froth();
    }
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- The final Keyword -->
            <div class="subsection">
                <h3 class="subsection-title">The <code>final</code> Keyword</h3>
                <div class="card-grid">
                    <div class="card">
                        <div class="card-icon">&#128274;</div>
                        <h4>final Variables</h4>
                        <p>Can be assigned exactly once. For primitives, the value cannot change. For objects, the reference cannot change (but the object's contents can).</p>
<pre><code>final int x = 10;
// x = 20;  // COMPILE ERROR

final List&lt;String&gt; list = new ArrayList&lt;&gt;();
list.add("ok");   // contents can change
// list = new ArrayList&lt;&gt;();  // ERROR</code></pre>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128737;</div>
                        <h4>final Methods</h4>
                        <p>Cannot be overridden by subclasses. Use when a method's behavior must remain consistent across the hierarchy.</p>
<pre><code>public class Security {
    public final boolean validate(
            String token) {
        // This logic cannot be changed
        // by any subclass
        return token != null
            &amp;&amp; token.length() &gt; 20;
    }
}</code></pre>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128719;</div>
                        <h4>final Classes</h4>
                        <p>Cannot be extended. Use for immutable value types, security-critical classes, and utility classes.</p>
<pre><code>// String, Integer, etc. are final
public final class ApiKey {
    private final String value;
    public ApiKey(String value) {
        this.value = value;
    }
    public String getValue() {
        return value;
    }
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- Enums -->
            <div class="subsection">
                <h3 class="subsection-title">Enums</h3>
                <p class="subsection-description">Type-safe constants that can carry fields, methods, and constructors. Much more powerful than integer constants.</p>
<pre><code>// Basic enum
public enum Season { SPRING, SUMMER, AUTUMN, WINTER }

// Enum with fields, constructor, and methods
public enum Roast {
    LIGHT("Blonde", 196),
    MEDIUM("House", 210),
    MEDIUM_DARK("Full City", 225),
    DARK("Espresso", 240);

    private final String label;
    private final int tempCelsius;

    // Constructor is implicitly private
    Roast(String label, int tempCelsius) {
        this.label = label;
        this.tempCelsius = tempCelsius;
    }

    public String getLabel() { return label; }
    public int getTempCelsius() { return tempCelsius; }

    // Custom method
    public boolean isHighTemp() {
        return tempCelsius &gt; 220;
    }
}

// Enum with abstract method
public enum Operation {
    ADD  { public double apply(double a, double b) { return a + b; } },
    SUB  { public double apply(double a, double b) { return a - b; } },
    MUL  { public double apply(double a, double b) { return a * b; } },
    DIV  { public double apply(double a, double b) { return a / b; } };

    public abstract double apply(double a, double b);
}</code></pre>
<pre><code>// Using enums
Roast r = Roast.DARK;
String name = r.name();            // "DARK"
int ordinal = r.ordinal();        // 3
Roast parsed = Roast.valueOf("LIGHT");  // Roast.LIGHT
Roast[] all = Roast.values();     // iterate all constants

// Switch on enum
switch (r) {
    case LIGHT  -&gt; System.out.println("Mild");
    case DARK   -&gt; System.out.println("Bold");
    default     -&gt; System.out.println("Balanced");
}

// EnumSet and EnumMap (highly efficient for enum keys)
EnumSet&lt;Roast&gt; lightRoasts = EnumSet.of(Roast.LIGHT, Roast.MEDIUM);
EnumSet&lt;Roast&gt; allRoasts = EnumSet.allOf(Roast.class);

EnumMap&lt;Roast, String&gt; descriptions = new EnumMap&lt;&gt;(Roast.class);
descriptions.put(Roast.DARK, "Rich and smoky");
descriptions.put(Roast.LIGHT, "Bright and fruity");</code></pre>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 05 — COLLECTIONS & GENERICS
         ============================================ -->
    <section id="collections" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">05</p>
                <h2 class="section-title">Collections &amp; Generics</h2>
                <p class="section-description">Java's collection framework, generic types, the Streams API, and Optional. The toolkit for working with groups of objects.</p>
            </div>

            <!-- Collection Hierarchy -->
            <div class="subsection">
                <h3 class="subsection-title">Collection Hierarchy</h3>
                <p class="subsection-description">The Java Collections Framework provides a unified architecture for storing and manipulating groups of objects.</p>
                <div class="card-grid">
                    <div class="card card-featured">
                        <h4>Iterable</h4>
                        <p>Root interface. Enables for-each loops on any collection.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128203;</div>
                        <h4>List</h4>
                        <p>Ordered, indexed, allows duplicates. Implementations: ArrayList, LinkedList, CopyOnWriteArrayList.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#127922;</div>
                        <h4>Set</h4>
                        <p>No duplicates. Implementations: HashSet (unordered), TreeSet (sorted), LinkedHashSet (insertion order).</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128220;</div>
                        <h4>Queue / Deque</h4>
                        <p>FIFO or priority ordering. Implementations: PriorityQueue, ArrayDeque, LinkedList.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128477;</div>
                        <h4>Map (separate hierarchy)</h4>
                        <p>Key-value pairs. Not part of Collection interface. Implementations: HashMap, TreeMap, LinkedHashMap, ConcurrentHashMap.</p>
                    </div>
                </div>

                <div class="alert alert-info" style="margin-top: var(--space-4);">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Immutable Collections (Java 9+)</p>
                        <p>Use factory methods for unmodifiable collections: <span class="code-inline">List.of()</span>, <span class="code-inline">Set.of()</span>, <span class="code-inline">Map.of()</span>. These throw <span class="code-inline">UnsupportedOperationException</span> on any mutating operation.</p>
                    </div>
                </div>
            </div>

            <!-- List Implementations -->
            <div class="subsection">
                <h3 class="subsection-title">List Implementations</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>ArrayList</th>
                                <th>LinkedList</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Backing structure</strong></td>
                                <td>Resizable array</td>
                                <td>Doubly-linked list</td>
                            </tr>
                            <tr>
                                <td><strong>get(index)</strong></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                                <td><span class="badge badge-error">O(n)</span></td>
                            </tr>
                            <tr>
                                <td><strong>add(element)</strong></td>
                                <td><span class="badge badge-success">O(1) amortized</span></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                            </tr>
                            <tr>
                                <td><strong>add(index, element)</strong></td>
                                <td><span class="badge badge-error">O(n)</span></td>
                                <td><span class="badge badge-success">O(1)*</span></td>
                            </tr>
                            <tr>
                                <td><strong>remove(index)</strong></td>
                                <td><span class="badge badge-error">O(n)</span></td>
                                <td><span class="badge badge-success">O(1)*</span></td>
                            </tr>
                            <tr>
                                <td><strong>Memory</strong></td>
                                <td>Compact (array)</td>
                                <td>Higher (node overhead)</td>
                            </tr>
                            <tr>
                                <td><strong>Best for</strong></td>
                                <td>Random access, iteration</td>
                                <td>Frequent insert/remove at ends</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
<pre><code>// ArrayList (most common, default choice)
List&lt;String&gt; coffees = new ArrayList&lt;&gt;();
coffees.add("Espresso");
coffees.add("Latte");
coffees.add(0, "Americano");       // insert at index
String first = coffees.get(0);     // "Americano"
coffees.remove("Latte");           // remove by value
coffees.set(0, "Cappuccino");      // replace at index
int size = coffees.size();         // 1

// Immutable list (Java 9+)
List&lt;String&gt; fixed = List.of("Espresso", "Latte", "Mocha");
// fixed.add("Tea");  // throws UnsupportedOperationException

// Useful operations
Collections.sort(coffees);
Collections.shuffle(coffees);
Collections.reverse(coffees);
int idx = Collections.binarySearch(coffees, "Latte");  // must be sorted
List&lt;String&gt; synced = Collections.synchronizedList(coffees);
List&lt;String&gt; unmod = Collections.unmodifiableList(coffees);</code></pre>
            </div>

            <!-- Set Implementations -->
            <div class="subsection">
                <h3 class="subsection-title">Set Implementations</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>HashSet</th>
                                <th>TreeSet</th>
                                <th>LinkedHashSet</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Order</strong></td>
                                <td>None</td>
                                <td>Sorted (natural/comparator)</td>
                                <td>Insertion order</td>
                            </tr>
                            <tr>
                                <td><strong>add/remove/contains</strong></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                                <td><span class="badge badge-warning">O(log n)</span></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                            </tr>
                            <tr>
                                <td><strong>Null elements</strong></td>
                                <td>One allowed</td>
                                <td>No</td>
                                <td>One allowed</td>
                            </tr>
                            <tr>
                                <td><strong>Backed by</strong></td>
                                <td>HashMap</td>
                                <td>TreeMap (Red-Black tree)</td>
                                <td>LinkedHashMap</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
<pre><code>// HashSet (most common, fastest)
Set&lt;String&gt; tags = new HashSet&lt;&gt;();
tags.add("java");
tags.add("coffee");
tags.add("java");            // duplicate ignored
boolean has = tags.contains("java");  // true

// TreeSet (sorted)
Set&lt;Integer&gt; sorted = new TreeSet&lt;&gt;();
sorted.addAll(List.of(5, 1, 9, 3));
System.out.println(sorted);  // [1, 3, 5, 9]

// LinkedHashSet (maintains insertion order)
Set&lt;String&gt; ordered = new LinkedHashSet&lt;&gt;();
ordered.add("first");
ordered.add("second");
ordered.add("third");
// Iteration order: first, second, third

// Immutable set (Java 9+)
Set&lt;String&gt; immutable = Set.of("a", "b", "c");

// Set operations
Set&lt;Integer&gt; a = new HashSet&lt;&gt;(Set.of(1, 2, 3, 4));
Set&lt;Integer&gt; b = Set.of(3, 4, 5, 6);
a.retainAll(b);  // intersection: {3, 4}
a.addAll(b);     // union
a.removeAll(b);  // difference</code></pre>
            </div>

            <!-- Map Implementations -->
            <div class="subsection">
                <h3 class="subsection-title">Map Implementations</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>HashMap</th>
                                <th>TreeMap</th>
                                <th>LinkedHashMap</th>
                                <th>ConcurrentHashMap</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Order</strong></td>
                                <td>None</td>
                                <td>Key sorted</td>
                                <td>Insertion order</td>
                                <td>None</td>
                            </tr>
                            <tr>
                                <td><strong>get/put</strong></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                                <td><span class="badge badge-warning">O(log n)</span></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                                <td><span class="badge badge-success">O(1)</span></td>
                            </tr>
                            <tr>
                                <td><strong>Null keys</strong></td>
                                <td>One allowed</td>
                                <td>No</td>
                                <td>One allowed</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><strong>Thread-safe</strong></td>
                                <td>No</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
<pre><code>// HashMap (default choice for key-value storage)
Map&lt;String, Integer&gt; prices = new HashMap&lt;&gt;();
prices.put("Espresso", 350);
prices.put("Latte", 500);
prices.put("Mocha", 550);

int price = prices.get("Latte");           // 500
int safe = prices.getOrDefault("Tea", 0);  // 0 (key not found)
prices.putIfAbsent("Espresso", 999);       // no change (key exists)

// Iteration
for (Map.Entry&lt;String, Integer&gt; entry : prices.entrySet()) {
    System.out.println(entry.getKey() + ": " + entry.getValue());
}
prices.forEach((k, v) -&gt; System.out.println(k + ": " + v));

// Compute methods
prices.compute("Latte", (k, v) -&gt; v + 50);       // Latte: 550
prices.computeIfAbsent("Tea", k -&gt; 300);          // adds Tea: 300
prices.merge("Espresso", 100, Integer::sum);       // Espresso: 450

// Immutable map (Java 9+)
Map&lt;String, Integer&gt; fixed = Map.of("a", 1, "b", 2, "c", 3);

// Map.ofEntries for more than 10 entries
Map&lt;String, Integer&gt; big = Map.ofEntries(
    Map.entry("Espresso", 350),
    Map.entry("Latte", 500),
    Map.entry("Mocha", 550)
);</code></pre>
            </div>

            <!-- Queue & Deque -->
            <div class="subsection">
                <h3 class="subsection-title">Queue &amp; Deque</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <h4>PriorityQueue</h4>
                        <p>Elements ordered by natural ordering or a Comparator. Not FIFO.</p>
<pre><code>// Min-heap by default
Queue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;();
minHeap.offer(5);
minHeap.offer(1);
minHeap.offer(3);
minHeap.poll();  // 1 (smallest)
minHeap.peek();  // 3

// Max-heap
Queue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(
    Comparator.reverseOrder()
);</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>ArrayDeque</h4>
                        <p>Double-ended queue. Use as stack or queue. Faster than Stack and LinkedList.</p>
<pre><code>// As a Stack (LIFO)
Deque&lt;String&gt; stack = new ArrayDeque&lt;&gt;();
stack.push("first");
stack.push("second");
stack.pop();   // "second"
stack.peek();  // "first"

// As a Queue (FIFO)
Deque&lt;String&gt; queue = new ArrayDeque&lt;&gt;();
queue.offer("first");
queue.offer("second");
queue.poll();  // "first"
queue.peek();  // "second"</code></pre>
                    </div>
                </div>
            </div>

            <!-- Generics -->
            <div class="subsection">
                <h3 class="subsection-title">Generics</h3>
                <p class="subsection-description">Enable type-safe collections and reusable classes/methods without casting. Checked at compile time, erased at runtime.</p>
<pre><code>// Generic class
public class Box&lt;T&gt; {
    private T content;

    public void put(T item) { this.content = item; }
    public T get() { return content; }
}

Box&lt;String&gt; stringBox = new Box&lt;&gt;();
stringBox.put("Coffee");
String s = stringBox.get();  // no cast needed

// Generic method
public static &lt;T&gt; T firstOrNull(List&lt;T&gt; list) {
    return list.isEmpty() ? null : list.get(0);
}

String first = firstOrNull(List.of("a", "b"));  // type inferred

// Bounded type parameter
public static &lt;T extends Comparable&lt;T&gt;&gt; T max(T a, T b) {
    return a.compareTo(b) &gt;= 0 ? a : b;
}

// Multiple bounds
public static &lt;T extends Serializable &amp; Comparable&lt;T&gt;&gt; void process(T item) {
    // T must implement BOTH Serializable and Comparable
}</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Wildcards</h4>
<pre><code>// Upper bounded wildcard: ? extends T
// "Anything that IS-A Number" - read-only (producer)
public static double sum(List&lt;? extends Number&gt; numbers) {
    double total = 0;
    for (Number n : numbers) {
        total += n.doubleValue();
    }
    return total;
}
sum(List.of(1, 2, 3));          // List&lt;Integer&gt; works
sum(List.of(1.5, 2.5));         // List&lt;Double&gt; works

// Lower bounded wildcard: ? super T
// "Anything that is a supertype of Integer" - write-only (consumer)
public static void addNumbers(List&lt;? super Integer&gt; list) {
    list.add(1);
    list.add(2);
}
List&lt;Number&gt; nums = new ArrayList&lt;&gt;();
addNumbers(nums);   // works: Number is supertype of Integer

// Unbounded wildcard: ?
// "Anything" - useful for methods that don't care about type
public static void printAll(List&lt;?&gt; list) {
    for (Object item : list) {
        System.out.println(item);
    }
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Type Erasure</p>
                        <p>Generics are a compile-time feature. At runtime, <span class="code-inline">List&lt;String&gt;</span> and <span class="code-inline">List&lt;Integer&gt;</span> are both just <span class="code-inline">List</span>. You cannot use <span class="code-inline">instanceof</span> with generic types or create generic arrays directly.</p>
                    </div>
                </div>
            </div>

            <!-- Streams API -->
            <div class="subsection">
                <h3 class="subsection-title">Streams API</h3>
                <p class="subsection-description">Declarative, functional-style operations on collections. Lazy evaluation with intermediate and terminal operations.</p>
<pre><code>// Creating streams
Stream&lt;String&gt; fromList = List.of("a", "b", "c").stream();
Stream&lt;String&gt; fromArray = Arrays.stream(new String[]{"x", "y"});
Stream&lt;Integer&gt; fromOf = Stream.of(1, 2, 3);
Stream&lt;Integer&gt; generated = Stream.iterate(0, n -&gt; n + 2).limit(5);
IntStream range = IntStream.rangeClosed(1, 10);  // 1 to 10</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Intermediate Operations (lazy, return a Stream)</h4>
<pre><code>List&lt;String&gt; coffees = List.of(
    "Espresso", "Latte", "Mocha", "Espresso", "Cappuccino", "Latte"
);

coffees.stream()
    .filter(c -&gt; c.length() &gt; 5)          // keep matching elements
    .map(String::toUpperCase)               // transform each element
    .distinct()                             // remove duplicates
    .sorted()                               // natural order sort
    .peek(System.out::println)              // debug: see elements pass through
    .limit(3)                               // take first 3
    .skip(1)                                // skip first 1
    .collect(Collectors.toList());          // terminal: collect results

// flatMap: flatten nested structures
List&lt;List&lt;String&gt;&gt; nested = List.of(
    List.of("a", "b"), List.of("c", "d")
);
List&lt;String&gt; flat = nested.stream()
    .flatMap(Collection::stream)            // flatten to single stream
    .collect(Collectors.toList());          // ["a", "b", "c", "d"]</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Terminal Operations (eager, produce a result)</h4>
<pre><code>List&lt;Integer&gt; nums = List.of(3, 1, 4, 1, 5, 9, 2, 6);

// collect - gather results into a collection
List&lt;Integer&gt; evens = nums.stream()
    .filter(n -&gt; n % 2 == 0)
    .collect(Collectors.toList());

// forEach - perform action on each element
nums.stream().forEach(System.out::println);

// reduce - combine elements into a single value
int sum = nums.stream().reduce(0, Integer::sum);          // 31
Optional&lt;Integer&gt; max = nums.stream().reduce(Integer::max); // 9

// count, min, max
long count = nums.stream().filter(n -&gt; n &gt; 3).count();   // 3

// findFirst, findAny
Optional&lt;Integer&gt; first = nums.stream()
    .filter(n -&gt; n &gt; 5).findFirst();                      // Optional[9]

// anyMatch, allMatch, noneMatch
boolean hasNeg = nums.stream().anyMatch(n -&gt; n &lt; 0);     // false
boolean allPos = nums.stream().allMatch(n -&gt; n &gt; 0);     // true</code></pre>

                <h4 style="margin-top: var(--space-5); margin-bottom: var(--space-3); color: var(--mocha);">Collectors</h4>
<pre><code>List&lt;String&gt; names = List.of("Alice", "Bob", "Charlie", "Alice", "Dave");

// toList, toSet, toMap
List&lt;String&gt; list = names.stream().collect(Collectors.toList());
Set&lt;String&gt; set = names.stream().collect(Collectors.toSet());
Map&lt;String, Integer&gt; nameLen = names.stream().distinct()
    .collect(Collectors.toMap(n -&gt; n, String::length));

// joining
String joined = names.stream()
    .collect(Collectors.joining(", ", "[", "]"));  // [Alice, Bob, ...]

// groupingBy
Map&lt;Integer, List&lt;String&gt;&gt; byLength = names.stream()
    .collect(Collectors.groupingBy(String::length));
// {3=[Bob], 4=[Dave], 5=[Alice, Alice], 7=[Charlie]}

// partitioningBy
Map&lt;Boolean, List&lt;String&gt;&gt; parts = names.stream()
    .collect(Collectors.partitioningBy(n -&gt; n.length() &gt; 4));

// counting, summarizing
Map&lt;Integer, Long&gt; countByLen = names.stream()
    .collect(Collectors.groupingBy(String::length, Collectors.counting()));</code></pre>

                <div class="tip-box">
                    <p>Use <span class="code-inline">.parallelStream()</span> or <span class="code-inline">.parallel()</span> for CPU-intensive operations on large datasets. Avoid parallel streams for I/O-bound work or small collections where threading overhead outweighs the benefit.</p>
                </div>
            </div>

            <!-- Optional -->
            <div class="subsection">
                <h3 class="subsection-title">Optional</h3>
                <p class="subsection-description">A container that may or may not contain a value. Eliminates null checks and makes "absence" explicit in the API.</p>
<pre><code>// Creating Optional
Optional&lt;String&gt; present = Optional.of("Coffee");      // must not be null
Optional&lt;String&gt; nullable = Optional.ofNullable(null);  // may be null
Optional&lt;String&gt; empty = Optional.empty();               // always empty

// Checking and extracting values
present.isPresent()            // true
present.isEmpty()              // false (Java 11+)
present.get()                  // "Coffee" (throws if empty!)

// Safe extraction
present.orElse("Tea")                          // "Coffee"
empty.orElse("Tea")                            // "Tea"
empty.orElseGet(() -&gt; fetchDefault())          // lazy evaluation
empty.orElseThrow()                            // NoSuchElementException
empty.orElseThrow(() -&gt; new CustomException()) // custom exception

// Conditional actions
present.ifPresent(System.out::println);        // prints "Coffee"
present.ifPresentOrElse(                       // Java 9+
    System.out::println,
    () -&gt; System.out.println("Nothing")
);

// Transformations (functional chaining)
Optional&lt;String&gt; upper = present.map(String::toUpperCase);  // Optional["COFFEE"]
Optional&lt;String&gt; filtered = present.filter(s -&gt; s.length() &gt; 3);

// flatMap for nested Optionals
Optional&lt;Optional&lt;String&gt;&gt; nested = Optional.of(Optional.of("inner"));
Optional&lt;String&gt; flat = nested.flatMap(o -&gt; o);  // Optional["inner"]</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Optional Best Practices</p>
                        <p>Use Optional as a return type for methods that may not have a result. Do not use it for fields, method parameters, or collections. Never call <span class="code-inline">.get()</span> without checking <span class="code-inline">.isPresent()</span> first &mdash; prefer <span class="code-inline">.orElse()</span>, <span class="code-inline">.map()</span>, or <span class="code-inline">.ifPresent()</span> instead.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 06 — EXCEPTION HANDLING & I/O
         ============================================ -->
    <section id="exceptions-io" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">06</p>
                <h2 class="section-title">Exception Handling &amp; I/O</h2>
                <p class="section-description">Graceful error handling, checked and unchecked exceptions, and file I/O with both classic java.io and modern java.nio.</p>
            </div>

            <!-- Exception Hierarchy -->
            <div class="subsection">
                <h3 class="subsection-title">Exception Hierarchy</h3>
                <p class="subsection-description">All exceptions descend from Throwable. Understanding the hierarchy determines how and when you must handle errors.</p>
                <div class="card-grid">
                    <div class="card card-featured">
                        <h4>Throwable</h4>
                        <p>The root. Everything that can be thrown and caught extends this.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128680;</div>
                        <h4>Error</h4>
                        <p>Serious JVM problems you should NOT catch. OutOfMemoryError, StackOverflowError, etc.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#9888;</div>
                        <h4>Exception (checked)</h4>
                        <p>Must be caught or declared with <span class="code-inline">throws</span>. IOException, SQLException, ClassNotFoundException.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">&#128165;</div>
                        <h4>RuntimeException (unchecked)</h4>
                        <p>Not required to catch. Programming errors. NullPointerException, IllegalArgumentException, IndexOutOfBoundsException.</p>
                    </div>
                </div>
            </div>

            <!-- Try/Catch/Finally -->
            <div class="subsection">
                <h3 class="subsection-title">Try / Catch / Finally</h3>
<pre><code>// Basic try-catch-finally
try {
    FileReader reader = new FileReader("config.properties");
    // read file...
} catch (FileNotFoundException e) {
    System.err.println("File not found: " + e.getMessage());
} catch (IOException e) {
    System.err.println("IO error: " + e.getMessage());
} finally {
    // ALWAYS executes (cleanup code)
    System.out.println("Cleanup complete");
}

// Multi-catch (Java 7+) — single block for multiple exception types
try {
    processData(input);
} catch (NumberFormatException | IllegalArgumentException e) {
    System.err.println("Bad input: " + e.getMessage());
}

// Try-with-resources (Java 7+) — auto-closes AutoCloseable resources
try (FileReader reader = new FileReader("data.txt");
     BufferedReader br = new BufferedReader(reader)) {
    String line;
    while ((line = br.readLine()) != null) {
        System.out.println(line);
    }
}  // reader and br are automatically closed here, even on exception

// Try-with-resources with existing variable (Java 9+)
FileReader reader = new FileReader("data.txt");
try (reader) {
    // use reader...
}  // auto-closed</code></pre>
            </div>

            <!-- Checked vs Unchecked -->
            <div class="subsection">
                <h3 class="subsection-title">Checked vs Unchecked Exceptions</h3>
                <div class="table-wrapper overflow-x">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Checked Exceptions</th>
                                <th>Unchecked Exceptions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Extends</strong></td>
                                <td><code>Exception</code></td>
                                <td><code>RuntimeException</code></td>
                            </tr>
                            <tr>
                                <td><strong>Compiler enforces</strong></td>
                                <td>Yes (must catch or declare)</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><strong>Common examples</strong></td>
                                <td><code>IOException</code>, <code>SQLException</code>, <code>ClassNotFoundException</code>, <code>InterruptedException</code></td>
                                <td><code>NullPointerException</code>, <code>IllegalArgumentException</code>, <code>IndexOutOfBoundsException</code>, <code>ClassCastException</code></td>
                            </tr>
                            <tr>
                                <td><strong>When to use</strong></td>
                                <td>Recoverable conditions (file not found, network timeout)</td>
                                <td>Programming errors (null access, bad argument)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Custom Exceptions -->
            <div class="subsection">
                <h3 class="subsection-title">Custom Exceptions</h3>
<pre><code>// Custom checked exception
public class BrewException extends Exception {
    private final String beanType;

    public BrewException(String message, String beanType) {
        super(message);
        this.beanType = beanType;
    }

    public BrewException(String message, Throwable cause) {
        super(message, cause);  // wrap the original exception
        this.beanType = "unknown";
    }

    public String getBeanType() { return beanType; }
}

// Custom unchecked exception
public class InvalidOrderException extends RuntimeException {
    public InvalidOrderException(String message) {
        super(message);
    }
}

// Usage
public Coffee brew(String bean) throws BrewException {
    if (bean == null) {
        throw new InvalidOrderException("Bean type required");  // unchecked
    }
    try {
        return grindAndBrew(bean);
    } catch (MachineException e) {
        throw new BrewException("Brewing failed for " + bean, e);  // checked, wraps cause
    }
}</code></pre>
            </div>

            <!-- throw vs throws -->
            <div class="subsection">
                <h3 class="subsection-title">throw vs throws</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <h4><code>throw</code> &mdash; throws an exception</h4>
                        <p>Used inside a method body to actually throw an exception object.</p>
<pre><code>public void setAge(int age) {
    if (age &lt; 0) {
        throw new IllegalArgumentException(
            "Age cannot be negative: " + age
        );
    }
    this.age = age;
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4><code>throws</code> &mdash; declares exceptions</h4>
                        <p>Used in a method signature to declare which checked exceptions may be thrown.</p>
<pre><code>// Caller must handle or propagate
public String readFile(String path)
        throws IOException,
               FileNotFoundException {
    return Files.readString(Path.of(path));
}

// Calling code
try {
    String data = readFile("config.txt");
} catch (IOException e) {
    log.error("Read failed", e);
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- File I/O with java.io -->
            <div class="subsection">
                <h3 class="subsection-title">File I/O with java.io</h3>
                <p class="subsection-description">The classic I/O library. Stream-based, blocking. Still widely used for byte/character streams.</p>
<pre><code>// Reading text with BufferedReader
try (BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
    String line;
    while ((line = br.readLine()) != null) {
        System.out.println(line);
    }
}

// Writing text with BufferedWriter
try (BufferedWriter bw = new BufferedWriter(new FileWriter("output.txt"))) {
    bw.write("Line 1");
    bw.newLine();
    bw.write("Line 2");
}

// Appending to a file
try (FileWriter fw = new FileWriter("log.txt", true)) {  // true = append
    fw.write("New log entry\n");
}

// Reading/writing bytes
try (FileInputStream fis = new FileInputStream("image.png");
     FileOutputStream fos = new FileOutputStream("copy.png")) {
    byte[] buffer = new byte[8192];
    int bytesRead;
    while ((bytesRead = fis.read(buffer)) != -1) {
        fos.write(buffer, 0, bytesRead);
    }
}

// Object serialization (java.io)
try (ObjectOutputStream oos = new ObjectOutputStream(
        new FileOutputStream("data.ser"))) {
    oos.writeObject(myObject);
}

try (ObjectInputStream ois = new ObjectInputStream(
        new FileInputStream("data.ser"))) {
    MyClass obj = (MyClass) ois.readObject();
}</code></pre>
            </div>

            <!-- File I/O with java.nio -->
            <div class="subsection">
                <h3 class="subsection-title">File I/O with java.nio</h3>
                <p class="subsection-description">The modern I/O library (Java 7+). Path-based, with powerful utility methods in the Files class. Preferred for new code.</p>
<pre><code>import java.nio.file.*;

// Path creation
Path path = Path.of("src", "main", "data.txt");    // Java 11+
Path path2 = Paths.get("/home/user/docs/file.txt"); // Java 7+
Path home = Path.of(System.getProperty("user.home"));

// Reading files (simple convenience methods)
String content = Files.readString(Path.of("config.txt"));           // Java 11+
List&lt;String&gt; lines = Files.readAllLines(Path.of("data.csv"));      // Java 7+
byte[] bytes = Files.readAllBytes(Path.of("image.png"));            // Java 7+

// Writing files
Files.writeString(Path.of("output.txt"), "Hello, NIO!");            // Java 11+
Files.write(Path.of("lines.txt"), List.of("Line 1", "Line 2"));    // Java 7+
Files.write(Path.of("log.txt"), "append\n".getBytes(),
    StandardOpenOption.APPEND, StandardOpenOption.CREATE);           // append

// Listing and walking directories
try (Stream&lt;Path&gt; entries = Files.list(Path.of("."))) {
    entries.filter(Files::isRegularFile)
           .forEach(System.out::println);
}

try (Stream&lt;Path&gt; tree = Files.walk(Path.of("src"), 3)) {  // max depth 3
    tree.filter(p -&gt; p.toString().endsWith(".java"))
        .forEach(System.out::println);
}

// File operations
Files.copy(source, target, StandardCopyOption.REPLACE_EXISTING);
Files.move(source, target, StandardCopyOption.ATOMIC_MOVE);
Files.delete(path);                  // throws if not exists
Files.deleteIfExists(path);          // returns boolean

// File attributes
boolean exists = Files.exists(path);
boolean isDir = Files.isDirectory(path);
long size = Files.size(path);
FileTime modified = Files.getLastModifiedTime(path);

// Creating directories and temp files
Files.createDirectories(Path.of("a/b/c"));   // creates all parents
Path temp = Files.createTempFile("prefix-", ".tmp");
Path tempDir = Files.createTempDirectory("myapp-");</code></pre>

                <div class="table-wrapper overflow-x" style="margin-top: var(--space-5);">
                    <table class="table comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>java.io</th>
                                <th>java.nio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>File representation</strong></td>
                                <td><code>File</code></td>
                                <td><code>Path</code></td>
                            </tr>
                            <tr>
                                <td><strong>Read/write</strong></td>
                                <td>Streams (byte/char)</td>
                                <td><code>Files</code> utility class</td>
                            </tr>
                            <tr>
                                <td><strong>Directory listing</strong></td>
                                <td><code>File.listFiles()</code> (eager, returns array)</td>
                                <td><code>Files.list()</code> (lazy, returns Stream)</td>
                            </tr>
                            <tr>
                                <td><strong>Symbolic links</strong></td>
                                <td>Limited support</td>
                                <td>Full support</td>
                            </tr>
                            <tr>
                                <td><strong>File watching</strong></td>
                                <td>Not supported</td>
                                <td><code>WatchService</code></td>
                            </tr>
                            <tr>
                                <td><strong>Recommended</strong></td>
                                <td>Legacy code only</td>
                                <td>All new code</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Serialization -->
            <div class="subsection">
                <h3 class="subsection-title">Serialization</h3>
                <p class="subsection-description">Converting objects to byte streams for storage or transmission. Implement <span class="code-inline">Serializable</span> to opt in.</p>
<pre><code>import java.io.*;

public class UserProfile implements Serializable {
    // Unique ID for version control of serialized class
    private static final long serialVersionUID = 1L;

    private String username;
    private String email;
    private transient String password;  // transient = excluded from serialization

    public UserProfile(String username, String email, String password) {
        this.username = username;
        this.email = email;
        this.password = password;
    }

    @Override
    public String toString() {
        return username + " (" + email + ")";
    }
}

// Serialize (write object to file)
UserProfile user = new UserProfile("duke", "duke@java.com", "secret123");
try (ObjectOutputStream oos = new ObjectOutputStream(
        new FileOutputStream("user.ser"))) {
    oos.writeObject(user);
}

// Deserialize (read object from file)
try (ObjectInputStream ois = new ObjectInputStream(
        new FileInputStream("user.ser"))) {
    UserProfile loaded = (UserProfile) ois.readObject();
    System.out.println(loaded);           // duke (duke@java.com)
    System.out.println(loaded.password);  // null (transient field)
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Serialization Caution</p>
                        <p>Java serialization has known security vulnerabilities. For new projects, prefer JSON (Jackson, Gson) or Protocol Buffers. Always define <span class="code-inline">serialVersionUID</span> to prevent <span class="code-inline">InvalidClassException</span> when class structure changes. Mark sensitive fields <span class="code-inline">transient</span>.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 07 — CONCURRENCY & THREADS
         ============================================ -->
    <section id="concurrency" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">07</p>
                <h2 class="section-title">Concurrency &amp; Threads</h2>
                <p class="section-description">Multithreaded programming in Java. From basic thread creation to lock-free atomic operations and the modern CompletableFuture API.</p>
            </div>

            <!-- Thread Basics -->
            <div class="subsection">
                <h3 class="subsection-title">Thread Basics</h3>
                <p class="subsection-description">Two ways to create threads: extending <span class="code-inline">Thread</span> or implementing <span class="code-inline">Runnable</span>. The <span class="code-inline">Runnable</span> approach is preferred because Java only allows single inheritance.</p>
<pre><code>// Approach 1: Extend Thread (less flexible)
class BrewThread extends Thread {
    @Override
    public void run() {
        System.out.println(getName() + " is brewing coffee...");
    }
}

// Approach 2: Implement Runnable (preferred)
class BrewTask implements Runnable {
    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName() + " is grinding beans...");
    }
}

// Approach 3: Lambda (cleanest for simple tasks)
Runnable pourTask = () -&gt; System.out.println("Pouring...");

// Starting threads
BrewThread t1 = new BrewThread();
t1.setName("Barista-1");
t1.start();  // start() creates a new OS thread; never call run() directly

Thread t2 = new Thread(new BrewTask(), "Barista-2");
t2.start();

Thread t3 = new Thread(pourTask, "Barista-3");
t3.start();</code></pre>

                <p class="subsection-description" style="margin-top: var(--space-5);">Thread lifecycle states &mdash; a thread moves through these states during its life:</p>
                <div class="card-grid">
                    <div class="card">
                        <h4>NEW</h4>
                        <p>Thread object created but <span class="code-inline">start()</span> not yet called. No OS thread allocated.</p>
                    </div>
                    <div class="card">
                        <h4>RUNNABLE</h4>
                        <p>After <span class="code-inline">start()</span>. Running or ready to run. The OS scheduler decides when it actually executes.</p>
                    </div>
                    <div class="card">
                        <h4>BLOCKED</h4>
                        <p>Waiting to acquire a monitor lock (e.g., trying to enter a <span class="code-inline">synchronized</span> block held by another thread).</p>
                    </div>
                    <div class="card">
                        <h4>WAITING</h4>
                        <p>Indefinitely waiting for another thread. Caused by <span class="code-inline">wait()</span>, <span class="code-inline">join()</span>, or <span class="code-inline">LockSupport.park()</span>.</p>
                    </div>
                    <div class="card">
                        <h4>TIMED_WAITING</h4>
                        <p>Waiting with a timeout. Caused by <span class="code-inline">sleep(ms)</span>, <span class="code-inline">wait(ms)</span>, or <span class="code-inline">join(ms)</span>.</p>
                    </div>
                    <div class="card">
                        <h4>TERMINATED</h4>
                        <p>The <span class="code-inline">run()</span> method completed (normally or via exception). Thread cannot be restarted.</p>
                    </div>
                </div>

<pre><code>// Joining threads — wait for completion
Thread worker = new Thread(() -&gt; {
    try {
        Thread.sleep(2000);  // simulate work
        System.out.println("Work done!");
    } catch (InterruptedException e) {
        Thread.currentThread().interrupt();  // restore interrupt flag
    }
});

worker.start();
System.out.println("Waiting for worker...");
worker.join();  // blocks until worker finishes (or is interrupted)
System.out.println("Worker finished!");

// Daemon threads — background threads that don't prevent JVM shutdown
Thread daemon = new Thread(() -&gt; {
    while (true) {
        System.out.println("Background cleanup...");
        Thread.sleep(5000);
    }
});
daemon.setDaemon(true);  // must set BEFORE start()
daemon.start();</code></pre>
            </div>

            <!-- Synchronization -->
            <div class="subsection">
                <h3 class="subsection-title">Synchronization</h3>
                <p class="subsection-description">When multiple threads access shared mutable state, you must synchronize access. Java uses intrinsic locks (monitors) via the <span class="code-inline">synchronized</span> keyword.</p>
<pre><code>// Synchronized method — locks on 'this' (the instance)
public class CoffeeCounter {
    private int count = 0;

    public synchronized void brew() {
        count++;  // thread-safe: only one thread at a time
    }

    public synchronized int getCount() {
        return count;
    }
}

// Synchronized block — more granular locking
public class CoffeeShop {
    private final List&lt;String&gt; orders = new ArrayList&lt;&gt;();
    private final Object lock = new Object();  // dedicated lock object

    public void addOrder(String order) {
        // Only the critical section is locked
        synchronized (lock) {
            orders.add(order);
        }
        // Non-critical code runs without holding the lock
        System.out.println("Order placed: " + order);
    }

    public List&lt;String&gt; getOrders() {
        synchronized (lock) {
            return new ArrayList&lt;&gt;(orders);  // return a copy
        }
    }
}</code></pre>

<pre><code>// volatile — ensures visibility across threads (no caching)
public class ShutdownFlag {
    private volatile boolean running = true;  // visible to all threads

    public void stop() {
        running = false;  // write is immediately visible to readers
    }

    public void doWork() {
        while (running) {           // reads latest value every iteration
            processNextOrder();
        }
    }
}

// volatile guarantees visibility but NOT atomicity
// Use synchronized or Atomic* for compound operations (check-then-act, read-modify-write)</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Deadlock</p>
                        <p>Deadlock occurs when two or more threads are each waiting for a lock held by the other. Thread A holds Lock 1 and waits for Lock 2, while Thread B holds Lock 2 and waits for Lock 1. Neither can proceed. Prevent deadlocks by always acquiring locks in a consistent, predefined order.</p>
                    </div>
                </div>
            </div>

            <!-- ExecutorService -->
            <div class="subsection">
                <h3 class="subsection-title">ExecutorService</h3>
                <p class="subsection-description">Thread pools manage a reusable set of threads. Instead of creating threads manually, submit tasks to an executor. This improves performance and resource management.</p>
<pre><code>import java.util.concurrent.*;

// Fixed pool — bounded number of threads
ExecutorService fixed = Executors.newFixedThreadPool(4);

// Cached pool — creates threads as needed, reuses idle ones
ExecutorService cached = Executors.newCachedThreadPool();

// Single thread — guarantees sequential execution
ExecutorService single = Executors.newSingleThreadExecutor();

// Scheduled — for delayed and periodic tasks
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(2);

// Submitting tasks
fixed.execute(() -&gt; System.out.println("Fire and forget"));

Future&lt;String&gt; future = fixed.submit(() -&gt; {
    Thread.sleep(1000);
    return "Espresso ready!";
});

// Scheduled tasks
scheduler.schedule(() -&gt; System.out.println("Delayed!"), 5, TimeUnit.SECONDS);
scheduler.scheduleAtFixedRate(
    () -&gt; System.out.println("Every 10s"), 0, 10, TimeUnit.SECONDS
);</code></pre>

<pre><code>// Proper shutdown pattern
ExecutorService pool = Executors.newFixedThreadPool(4);
try {
    // submit tasks...
    pool.submit(() -&gt; brewCoffee("Latte"));
    pool.submit(() -&gt; brewCoffee("Mocha"));
} finally {
    pool.shutdown();  // no new tasks accepted, existing tasks finish
    try {
        if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {
            pool.shutdownNow();  // forcefully interrupt running tasks
            if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {
                System.err.println("Pool did not terminate!");
            }
        }
    } catch (InterruptedException e) {
        pool.shutdownNow();
        Thread.currentThread().interrupt();
    }
}

// Java 19+ try-with-resources (auto-closes on scope exit)
try (var pool2 = Executors.newFixedThreadPool(4)) {
    pool2.submit(() -&gt; brewCoffee("Americano"));
}  // automatically shuts down and awaits termination</code></pre>
            </div>

            <!-- Callable & Future -->
            <div class="subsection">
                <h3 class="subsection-title">Callable &amp; Future</h3>
                <p class="subsection-description"><span class="code-inline">Callable</span> is like <span class="code-inline">Runnable</span> but returns a result and can throw checked exceptions. <span class="code-inline">Future</span> represents the pending result.</p>
                <div class="card-grid">
                    <div class="card">
                        <h4>Runnable</h4>
                        <p>No return value. Cannot throw checked exceptions. Use for fire-and-forget tasks.</p>
<pre><code>Runnable task = () -&gt; {
    System.out.println("Working");
};
executor.execute(task);</code></pre>
                    </div>
                    <div class="card">
                        <h4>Callable&lt;T&gt;</h4>
                        <p>Returns a value of type T. Can throw checked exceptions. Use when you need a result.</p>
<pre><code>Callable&lt;Double&gt; task = () -&gt; {
    return calculatePrice();
};
Future&lt;Double&gt; f = executor.submit(task);</code></pre>
                    </div>
                </div>

<pre><code>// Future methods
ExecutorService pool = Executors.newFixedThreadPool(2);

Future&lt;String&gt; order = pool.submit(() -&gt; {
    Thread.sleep(2000);
    return "Cappuccino";
});

order.isDone();               // false — still running
order.cancel(true);           // attempt to cancel (true = may interrupt)
order.isCancelled();          // check if cancelled

// get() blocks until result is available
String result = order.get();  // blocks here...
System.out.println(result);   // "Cappuccino"

// get() with timeout — throws TimeoutException if too slow
String result2 = order.get(5, TimeUnit.SECONDS);

// Handling exceptions from Callable
Future&lt;String&gt; failing = pool.submit(() -&gt; {
    throw new RuntimeException("Machine broken!");
});

try {
    failing.get();  // ExecutionException wraps the original exception
} catch (ExecutionException e) {
    Throwable cause = e.getCause();  // RuntimeException: Machine broken!
    System.err.println("Task failed: " + cause.getMessage());
}</code></pre>
            </div>

            <!-- CompletableFuture -->
            <div class="subsection">
                <h3 class="subsection-title">CompletableFuture</h3>
                <p class="subsection-description">Java 8 introduced <span class="code-inline">CompletableFuture</span> for composable, non-blocking asynchronous programming. Chain operations, combine results, and handle errors declaratively.</p>
<pre><code>import java.util.concurrent.CompletableFuture;

// Creating — runs on ForkJoinPool.commonPool() by default
CompletableFuture&lt;String&gt; cf1 = CompletableFuture.supplyAsync(() -&gt; {
    return fetchBeans("Colombian");  // returns a value
});

CompletableFuture&lt;Void&gt; cf2 = CompletableFuture.runAsync(() -&gt; {
    cleanMachine();  // no return value
});

// Chaining — thenApply transforms the result (like map)
CompletableFuture&lt;String&gt; order = CompletableFuture
    .supplyAsync(() -&gt; "beans")
    .thenApply(beans -&gt; grind(beans))           // String -&gt; String
    .thenApply(grounds -&gt; brew(grounds))         // String -&gt; String
    .thenApply(coffee -&gt; addMilk(coffee));       // String -&gt; String

// thenCompose — for chaining futures (like flatMap)
CompletableFuture&lt;String&gt; pipeline = CompletableFuture
    .supplyAsync(() -&gt; selectBeans())
    .thenCompose(beans -&gt; roastAsync(beans))     // returns CompletableFuture
    .thenCompose(roasted -&gt; brewAsync(roasted)); // returns CompletableFuture

// thenCombine — combine two independent futures
CompletableFuture&lt;String&gt; coffee = brewAsync("espresso");
CompletableFuture&lt;String&gt; milk = steamAsync("oat milk");
CompletableFuture&lt;String&gt; latte = coffee.thenCombine(milk,
    (c, m) -&gt; c + " + " + m);  // "espresso + oat milk"</code></pre>

<pre><code>// Error handling
CompletableFuture&lt;String&gt; safe = CompletableFuture
    .supplyAsync(() -&gt; riskyOperation())
    .exceptionally(ex -&gt; {
        System.err.println("Failed: " + ex.getMessage());
        return "default value";  // fallback
    });

// handle — receives both result and exception
CompletableFuture&lt;String&gt; handled = CompletableFuture
    .supplyAsync(() -&gt; riskyOperation())
    .handle((result, ex) -&gt; {
        if (ex != null) return "fallback";
        return result.toUpperCase();
    });

// Combining multiple futures
CompletableFuture&lt;String&gt; f1 = CompletableFuture.supplyAsync(() -&gt; "Latte");
CompletableFuture&lt;String&gt; f2 = CompletableFuture.supplyAsync(() -&gt; "Mocha");
CompletableFuture&lt;String&gt; f3 = CompletableFuture.supplyAsync(() -&gt; "Flat White");

// allOf — wait for ALL to complete
CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(f1, f2, f3);
all.thenRun(() -&gt; System.out.println("All orders ready!"));

// anyOf — wait for FIRST to complete
CompletableFuture&lt;Object&gt; fastest = CompletableFuture.anyOf(f1, f2, f3);
fastest.thenAccept(result -&gt; System.out.println("First ready: " + result));</code></pre>
            </div>

            <!-- Concurrent Collections -->
            <div class="subsection">
                <h3 class="subsection-title">Concurrent Collections</h3>
                <p class="subsection-description">Thread-safe collections from <span class="code-inline">java.util.concurrent</span>. These avoid the coarse-grained locking of <span class="code-inline">Collections.synchronizedList()</span> and deliver better throughput.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Collection</th>
                                <th>Thread-Safe Alternative To</th>
                                <th>Strategy</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>ConcurrentHashMap</code></td>
                                <td><code>HashMap</code></td>
                                <td>Segment-level locking; high read concurrency</td>
                            </tr>
                            <tr>
                                <td><code>CopyOnWriteArrayList</code></td>
                                <td><code>ArrayList</code></td>
                                <td>Copies entire array on write; ideal for read-heavy use</td>
                            </tr>
                            <tr>
                                <td><code>BlockingQueue</code></td>
                                <td><code>Queue</code></td>
                                <td>Blocks on take/put; producer-consumer pattern</td>
                            </tr>
                            <tr>
                                <td><code>ConcurrentLinkedQueue</code></td>
                                <td><code>LinkedList</code></td>
                                <td>Lock-free CAS-based; non-blocking</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code>import java.util.concurrent.*;

// ConcurrentHashMap — safe concurrent reads and writes
ConcurrentHashMap&lt;String, Integer&gt; menu = new ConcurrentHashMap&lt;&gt;();
menu.put("Espresso", 3);
menu.put("Latte", 5);
menu.computeIfAbsent("Mocha", k -&gt; 4);      // atomic check-and-insert
menu.merge("Espresso", 1, Integer::sum);      // atomic read-modify-write

// CopyOnWriteArrayList — thread-safe iteration without ConcurrentModificationException
CopyOnWriteArrayList&lt;String&gt; subscribers = new CopyOnWriteArrayList&lt;&gt;();
subscribers.add("alice@coffee.com");
subscribers.add("bob@coffee.com");
for (String s : subscribers) {
    // safe to iterate even if another thread adds/removes
}

// BlockingQueue — producer-consumer pattern
BlockingQueue&lt;String&gt; orderQueue = new LinkedBlockingQueue&lt;&gt;(100);

// Producer thread
orderQueue.put("Latte");       // blocks if queue is full

// Consumer thread
String order = orderQueue.take();  // blocks if queue is empty</code></pre>
            </div>

            <!-- Atomic Variables -->
            <div class="subsection">
                <h3 class="subsection-title">Atomic Variables</h3>
                <p class="subsection-description">Lock-free thread-safe operations on single variables using CPU-level compare-and-swap (CAS). Found in <span class="code-inline">java.util.concurrent.atomic</span>.</p>
<pre><code>import java.util.concurrent.atomic.*;

// AtomicInteger — thread-safe counter without synchronized
AtomicInteger orderCount = new AtomicInteger(0);
orderCount.incrementAndGet();         // atomic i++, returns new value
orderCount.getAndIncrement();         // atomic i++, returns old value
orderCount.addAndGet(5);              // atomic i += 5
orderCount.compareAndSet(6, 0);       // set to 0 only if current value is 6

// AtomicLong — same API, 64-bit
AtomicLong totalRevenue = new AtomicLong(0L);
totalRevenue.addAndGet(450L);

// AtomicReference — for reference types
AtomicReference&lt;String&gt; currentSpecial = new AtomicReference&lt;&gt;("Mocha");
currentSpecial.set("Pumpkin Spice Latte");
currentSpecial.compareAndSet("Pumpkin Spice Latte", "Gingerbread Latte");

// AtomicBoolean — for flags
AtomicBoolean shopOpen = new AtomicBoolean(true);
if (shopOpen.compareAndSet(true, false)) {
    System.out.println("Shop closed for the day.");
}

// Use Atomic* when you need thread-safe single-variable operations
// without the overhead of synchronized blocks</code></pre>
            </div>

            <!-- Common Pitfalls -->
            <div class="subsection">
                <h3 class="subsection-title">Common Pitfalls</h3>
                <p class="subsection-description">Concurrency bugs are notoriously difficult to reproduce and debug. Know these patterns to avoid them.</p>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Race Condition</p>
                        <p>When the correctness of a program depends on thread timing. Classic example: two threads doing <span class="code-inline">count++</span> on a shared <span class="code-inline">int</span>. The read-modify-write is not atomic &mdash; both threads may read the same value and write the same incremented value, losing an update. Fix: use <span class="code-inline">synchronized</span>, <span class="code-inline">AtomicInteger</span>, or a <span class="code-inline">Lock</span>.</p>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Thread Starvation</p>
                        <p>A thread is perpetually denied access to resources it needs. Can happen when high-priority threads always run first, or when a thread pool is too small and long-running tasks block shorter ones. Fix: use fair locks (<span class="code-inline">new ReentrantLock(true)</span>), properly size thread pools, and avoid holding locks during I/O.</p>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Visibility Issue</p>
                        <p>Without synchronization or <span class="code-inline">volatile</span>, changes made by one thread may never be visible to another thread. The JVM is allowed to cache variable values in CPU registers or reorder instructions. Fix: use <span class="code-inline">volatile</span> for simple flags, <span class="code-inline">synchronized</span> for compound operations, or classes from <span class="code-inline">java.util.concurrent</span>.</p>
                    </div>
                </div>

                <div class="tip-box">
                    <p>Prefer higher-level concurrency utilities (<span class="code-inline">ExecutorService</span>, <span class="code-inline">CompletableFuture</span>, concurrent collections) over raw threads and <span class="code-inline">synchronized</span>. They are harder to misuse and easier to reason about. When you do need low-level control, consider <span class="code-inline">java.util.concurrent.locks.ReentrantLock</span> over intrinsic locks for its tryLock, fairness, and multiple-condition support.</p>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 08 — MODERN JAVA (17-21+)
         ============================================ -->
    <section id="modern-java" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">08</p>
                <h2 class="section-title">Modern Java (17&ndash;21+)</h2>
                <p class="section-description">Java has evolved rapidly since the six-month release cadence began. Records, sealed classes, pattern matching, virtual threads, and more.</p>
            </div>

            <!-- Version Timeline -->
            <div class="subsection">
                <h3 class="subsection-title">Version Timeline</h3>
                <p class="subsection-description">Key features introduced in each major release. LTS versions receive long-term security patches and are the standard choice for production.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Version</th>
                                <th>Released</th>
                                <th>Type</th>
                                <th>Key Features</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Java 8</strong></td>
                                <td>Mar 2014</td>
                                <td><span class="badge badge-warning">Legacy LTS</span></td>
                                <td>Lambdas, Streams, Optional, default methods, java.time</td>
                            </tr>
                            <tr>
                                <td><strong>Java 9</strong></td>
                                <td>Sep 2017</td>
                                <td><span class="badge badge-info">Feature</span></td>
                                <td>Modules (JPMS), JShell, private interface methods</td>
                            </tr>
                            <tr>
                                <td><strong>Java 10</strong></td>
                                <td>Mar 2018</td>
                                <td><span class="badge badge-info">Feature</span></td>
                                <td><code>var</code> local variable type inference</td>
                            </tr>
                            <tr>
                                <td><strong>Java 11</strong></td>
                                <td>Sep 2018</td>
                                <td><span class="badge badge-success">LTS</span></td>
                                <td>HTTP Client, single-file execution, String methods</td>
                            </tr>
                            <tr>
                                <td><strong>Java 14</strong></td>
                                <td>Mar 2020</td>
                                <td><span class="badge badge-info">Feature</span></td>
                                <td>Switch expressions, helpful NPEs, Records (preview)</td>
                            </tr>
                            <tr>
                                <td><strong>Java 15</strong></td>
                                <td>Sep 2020</td>
                                <td><span class="badge badge-info">Feature</span></td>
                                <td>Text blocks, sealed classes (preview), hidden classes</td>
                            </tr>
                            <tr>
                                <td><strong>Java 16</strong></td>
                                <td>Mar 2021</td>
                                <td><span class="badge badge-info">Feature</span></td>
                                <td>Records (final), pattern matching instanceof, Stream.toList()</td>
                            </tr>
                            <tr>
                                <td><strong>Java 17</strong></td>
                                <td>Sep 2021</td>
                                <td><span class="badge badge-success">LTS</span></td>
                                <td>Sealed classes (final), pattern matching switch (preview)</td>
                            </tr>
                            <tr>
                                <td><strong>Java 21</strong></td>
                                <td>Sep 2023</td>
                                <td><span class="badge badge-caramel">Latest LTS</span></td>
                                <td>Virtual threads, pattern matching switch (final), sequenced collections, record patterns</td>
                            </tr>
                            <tr>
                                <td><strong>Java 22+</strong></td>
                                <td>Mar 2024+</td>
                                <td><span class="badge badge-info">Feature</span></td>
                                <td>Unnamed variables, statements before super(), stream gatherers</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Records -->
            <div class="subsection">
                <h3 class="subsection-title">Records (Java 16+)</h3>
                <p class="subsection-description">Compact syntax for immutable data carriers. The compiler generates <span class="code-inline">equals()</span>, <span class="code-inline">hashCode()</span>, <span class="code-inline">toString()</span>, and accessor methods automatically.</p>
<pre><code>// Before records — verbose boilerplate
public class CoffeeOrderOld {
    private final String drink;
    private final int size;
    private final double price;

    public CoffeeOrderOld(String drink, int size, double price) {
        this.drink = drink;
        this.size = size;
        this.price = price;
    }
    // ... equals(), hashCode(), toString(), getters — ~50 lines
}

// With records — one line!
public record CoffeeOrder(String drink, int size, double price) {}

// Usage
CoffeeOrder order = new CoffeeOrder("Latte", 16, 5.50);
order.drink();     // "Latte" — accessor method (no 'get' prefix)
order.size();      // 16
order.price();     // 5.50
order.toString();  // CoffeeOrder[drink=Latte, size=16, price=5.5]</code></pre>

<pre><code>// Compact canonical constructor — validation without repeating params
public record CoffeeOrder(String drink, int size, double price) {
    public CoffeeOrder {
        if (drink == null || drink.isBlank()) throw new IllegalArgumentException("Drink required");
        if (price &lt; 0) throw new IllegalArgumentException("Price must be non-negative");
        drink = drink.trim();  // can reassign parameters before final assignment
    }
}

// Custom methods on records
public record CoffeeOrder(String drink, int size, double price) {
    public double totalWithTax(double taxRate) {
        return price * (1 + taxRate);
    }

    public static CoffeeOrder espresso() {
        return new CoffeeOrder("Espresso", 8, 3.00);
    }
}

// Records can implement interfaces (but cannot extend classes)
public record CoffeeOrder(String drink, int size, double price)
    implements Comparable&lt;CoffeeOrder&gt; {

    @Override
    public int compareTo(CoffeeOrder other) {
        return Double.compare(this.price, other.price);
    }
}</code></pre>

                <div class="tip-box">
                    <p>Use records for DTOs, API responses, value objects, and any class whose identity is defined entirely by its data. Do not use records for entities with mutable state, JPA entities (which need a no-arg constructor), or classes that need inheritance.</p>
                </div>
            </div>

            <!-- Sealed Classes -->
            <div class="subsection">
                <h3 class="subsection-title">Sealed Classes (Java 17+)</h3>
                <p class="subsection-description">Restrict which classes can extend a class or implement an interface. Enables exhaustive pattern matching in switch expressions.</p>
<pre><code>// sealed — only permitted subclasses can extend
public sealed interface Beverage permits Coffee, Tea, Juice {}

// Each subclass must be final, sealed, or non-sealed
public final class Coffee implements Beverage {
    private final String roast;
    public Coffee(String roast) { this.roast = roast; }
    public String roast() { return roast; }
}

public final class Tea implements Beverage {
    private final String variety;
    public Tea(String variety) { this.variety = variety; }
    public String variety() { return variety; }
}

// non-sealed opens the hierarchy again
public non-sealed class Juice implements Beverage {
    // anyone can extend Juice
}

// Exhaustive switch — compiler verifies all cases covered
public String describe(Beverage b) {
    return switch (b) {
        case Coffee c -&gt; "Coffee: " + c.roast() + " roast";
        case Tea t    -&gt; "Tea: " + t.variety();
        case Juice j  -&gt; "Fresh juice";
        // no default needed — all permitted subtypes covered
    };
}</code></pre>

<pre><code>// Sealed classes with records — powerful combination
public sealed interface Shape
    permits Circle, Rectangle, Triangle {}

public record Circle(double radius) implements Shape {}
public record Rectangle(double width, double height) implements Shape {}
public record Triangle(double base, double height) implements Shape {}

public double area(Shape shape) {
    return switch (shape) {
        case Circle c    -&gt; Math.PI * c.radius() * c.radius();
        case Rectangle r -&gt; r.width() * r.height();
        case Triangle t  -&gt; 0.5 * t.base() * t.height();
    };
}</code></pre>
            </div>

            <!-- Pattern Matching -->
            <div class="subsection">
                <h3 class="subsection-title">Pattern Matching</h3>
                <p class="subsection-description">Eliminate verbose casting and type-checking boilerplate. Java progressively added pattern matching across multiple versions.</p>
<pre><code>// Pattern matching for instanceof (Java 16+)
// Before — manual cast
if (obj instanceof String) {
    String s = (String) obj;
    System.out.println(s.length());
}

// After — binding variable in one step
if (obj instanceof String s) {
    System.out.println(s.length());  // s is already cast
}

// Works with && (but not ||)
if (obj instanceof String s &amp;&amp; s.length() &gt; 5) {
    System.out.println("Long string: " + s);
}</code></pre>

<pre><code>// Pattern matching for switch (Java 21)
static String formatObj(Object obj) {
    return switch (obj) {
        case Integer i    -&gt; "int: " + i;
        case Long l       -&gt; "long: " + l;
        case Double d     -&gt; "double: " + d;
        case String s     -&gt; "string: " + s;
        case int[] arr    -&gt; "array of length " + arr.length;
        case null         -&gt; "null value";
        default           -&gt; "unknown: " + obj.getClass().getName();
    };
}

// Guarded patterns — add conditions with 'when'
static String categorize(Object obj) {
    return switch (obj) {
        case Integer i when i &lt; 0  -&gt; "negative int";
        case Integer i when i == 0 -&gt; "zero";
        case Integer i             -&gt; "positive int: " + i;
        case String s when s.isBlank() -&gt; "blank string";
        case String s              -&gt; "string: " + s;
        default                    -&gt; "other";
    };
}

// Record patterns — destructure records in one step (Java 21)
record Point(int x, int y) {}
record Line(Point start, Point end) {}

static String describePoint(Object obj) {
    return switch (obj) {
        case Point(int x, int y) -&gt; "Point at (" + x + ", " + y + ")";
        case Line(Point(int x1, int y1), Point(int x2, int y2)) -&gt;
            "Line from (" + x1 + "," + y1 + ") to (" + x2 + "," + y2 + ")";
        default -&gt; "not a shape";
    };
}</code></pre>
            </div>

            <!-- Switch Expressions -->
            <div class="subsection">
                <h3 class="subsection-title">Switch Expressions (Java 14+)</h3>
                <p class="subsection-description">Switch is now an expression that returns a value. Arrow syntax eliminates fall-through bugs and the <span class="code-inline">yield</span> keyword handles complex cases.</p>
<pre><code>// Traditional switch statement (still valid)
switch (size) {
    case "S": price = 3.00; break;
    case "M": price = 4.00; break;
    case "L": price = 5.00; break;
    default:  price = 4.00; break;
}

// Switch expression with arrow syntax — no break, no fall-through
double price = switch (size) {
    case "S" -&gt; 3.00;
    case "M" -&gt; 4.00;
    case "L" -&gt; 5.00;
    default  -&gt; 4.00;
};  // note the semicolon — it's an expression assigned to a variable

// Multiple case labels
String category = switch (day) {
    case MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY -&gt; "Weekday";
    case SATURDAY, SUNDAY -&gt; "Weekend";
};

// yield — for multi-line case blocks
String description = switch (roast) {
    case "light" -&gt; "Bright and acidic";
    case "medium" -&gt; "Balanced flavor";
    case "dark" -&gt; {
        String base = "Bold and smoky";
        yield base + " — our signature";  // yield returns from the block
    }
    default -&gt; "Unknown roast";
};

// Exhaustiveness — enums and sealed types don't need a default
enum Size { SMALL, MEDIUM, LARGE }
String label = switch (size) {
    case SMALL  -&gt; "S";
    case MEDIUM -&gt; "M";
    case LARGE  -&gt; "L";
    // no default needed — all cases covered
};</code></pre>
            </div>

            <!-- Text Blocks -->
            <div class="subsection">
                <h3 class="subsection-title">Text Blocks (Java 15+)</h3>
                <p class="subsection-description">Multi-line string literals using triple quotes. Indentation is managed automatically, and common escape sequences work as expected.</p>
<pre><code>// Before text blocks — painful concatenation
String json = "{\n" +
    "  \"drink\": \"Latte\",\n" +
    "  \"size\": 16,\n" +
    "  \"price\": 5.50\n" +
    "}";

// With text blocks — natural formatting
String json = """
        {
          "drink": "Latte",
          "size": 16,
          "price": 5.50
        }
        """;

// SQL queries
String sql = """
        SELECT c.name, c.price
        FROM coffees c
        WHERE c.roast = 'dark'
          AND c.price &lt; 6.00
        ORDER BY c.price DESC
        """;

// HTML templates
String html = """
        &lt;div class="order"&gt;
            &lt;h2&gt;%s&lt;/h2&gt;
            &lt;p&gt;Price: $%.2f&lt;/p&gt;
        &lt;/div&gt;
        """.formatted("Mocha", 4.75);

// Escape sequences in text blocks
String escaped = """
        Line 1\
        continues here    \s
        "quotes work fine"
        """;
// \  at end of line = no newline (join lines)
// \s = preserve trailing space (space is significant)</code></pre>
            </div>

            <!-- Virtual Threads -->
            <div class="subsection">
                <h3 class="subsection-title">Virtual Threads (Java 21)</h3>
                <p class="subsection-description">Lightweight threads managed by the JVM, not the OS. Create millions of threads with minimal overhead. Ideal for I/O-bound workloads like web servers and database calls.</p>
<pre><code>// Creating virtual threads
Thread vt = Thread.ofVirtual()
    .name("barista-", 1)       // naming pattern: barista-1, barista-2, ...
    .start(() -&gt; {
        System.out.println(Thread.currentThread());
    });

// Simple one-liner
Thread.startVirtualThread(() -&gt; processOrder());

// ExecutorService with virtual threads (preferred for production)
try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {
    // Each task gets its own virtual thread — no pool limit!
    for (int i = 0; i &lt; 100_000; i++) {
        executor.submit(() -&gt; {
            // I/O-bound work: HTTP call, DB query, file read
            String result = fetchFromDatabase();
            return result;
        });
    }
}  // waits for all tasks to complete</code></pre>

                <div class="card-grid">
                    <div class="card">
                        <h4>Platform Threads</h4>
                        <p>1:1 mapping to OS threads. Heavy (~1MB stack). Limited to thousands. Good for CPU-bound work.</p>
<pre><code>// Expensive — OS allocates real thread
Thread.ofPlatform()
    .name("worker")
    .start(task);</code></pre>
                    </div>
                    <div class="card">
                        <h4>Virtual Threads</h4>
                        <p>Many-to-one on carrier threads. Lightweight (~1KB). Scale to millions. Ideal for I/O-bound work.</p>
<pre><code>// Cheap — JVM manages scheduling
Thread.ofVirtual()
    .name("handler")
    .start(task);</code></pre>
                    </div>
                </div>

                <div class="alert alert-info" style="margin-top: var(--space-4);">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Migration Tips</p>
                        <p>Virtual threads are best for I/O-bound tasks (HTTP requests, DB queries, file I/O). Avoid them for CPU-heavy computation &mdash; use platform thread pools for that. Do not pool virtual threads; create a new one per task. Avoid <span class="code-inline">synchronized</span> blocks with I/O inside them (use <span class="code-inline">ReentrantLock</span> instead) as they can pin the carrier thread.</p>
                    </div>
                </div>
            </div>

            <!-- Helpful NullPointerExceptions -->
            <div class="subsection">
                <h3 class="subsection-title">Helpful NullPointerExceptions (Java 14+)</h3>
                <p class="subsection-description">The JVM now tells you exactly which variable was null in a chain, instead of leaving you guessing.</p>
                <div class="card-grid">
                    <div class="card">
                        <h4>Before Java 14</h4>
<pre><code>order.getCustomer().getAddress().getCity()

// Exception:
// NullPointerException
//   at App.main(App.java:42)
// Which was null? order? customer?
// address? You have to debug it.</code></pre>
                    </div>
                    <div class="card">
                        <h4>Java 14+</h4>
<pre><code>order.getCustomer().getAddress().getCity()

// Exception:
// NullPointerException: Cannot invoke
// "Address.getCity()" because the return
// value of "Customer.getAddress()"
// is null</code></pre>
                    </div>
                </div>
                <p class="subsection-description" style="margin-top: var(--space-4);">Enabled by default since Java 14. Enable explicitly on older builds with <span class="code-inline">-XX:+ShowCodeDetailsInExceptionMessages</span>.</p>
            </div>

            <!-- Unnamed Variables -->
            <div class="subsection">
                <h3 class="subsection-title">Unnamed Variables (Java 22)</h3>
                <p class="subsection-description">Use <span class="code-inline">_</span> (underscore) for variables you must declare but never use. Communicates intent clearly and avoids compiler warnings.</p>
<pre><code>// try-catch — you don't use the exception variable
try {
    int port = Integer.parseInt(input);
} catch (NumberFormatException _) {
    System.out.println("Invalid port number, using default");
}

// Enhanced for-each — you only care about the count
int count = 0;
for (String _ : orderList) {
    count++;
}

// Lambda parameters you don't need
BiFunction&lt;String, Integer, String&gt; format = (name, _) -&gt;
    "Customer: " + name;

// Map iteration — only need the value
for (var _ : map.entrySet()) {
    // process without naming the variable
}

// Pattern matching — ignore some components
if (obj instanceof Point(int x, int _)) {
    System.out.println("x = " + x);  // y is irrelevant
}

// Switch with unused binding
switch (shape) {
    case Circle _   -&gt; "round";
    case Rectangle _ -&gt; "rectangular";
}</code></pre>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 09 — BUILD TOOLS
         ============================================ -->
    <section id="build-tools" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">09</p>
                <h2 class="section-title">Build Tools</h2>
                <p class="section-description">Maven and Gradle automate compiling, testing, packaging, and dependency management. Every production Java project uses one or the other.</p>
            </div>

            <!-- Maven Basics -->
            <div class="subsection">
                <h3 class="subsection-title">Maven Basics</h3>
                <p class="subsection-description">Maven uses an XML-based <span class="code-inline">pom.xml</span> (Project Object Model) and a convention-over-configuration philosophy. Everything follows a lifecycle of phases.</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;!-- Project coordinates (the unique ID) --&gt;
    &lt;groupId&gt;com.coffeeshop&lt;/groupId&gt;
    &lt;artifactId&gt;barista-api&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;java.version&gt;21&lt;/java.version&gt;
        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;!-- Compile dependency --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
            &lt;artifactId&gt;guava&lt;/artifactId&gt;
            &lt;version&gt;33.0.0-jre&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- Test dependency --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;
            &lt;version&gt;5.10.2&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.12.1&lt;/version&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>

                <p class="subsection-description" style="margin-top: var(--space-5);">Maven Lifecycle Phases &mdash; each phase executes all preceding phases automatically:</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Phase</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>clean</code></td>
                                <td>Deletes <span class="code-inline">target/</span> directory</td>
                            </tr>
                            <tr>
                                <td><code>validate</code></td>
                                <td>Validates project structure and POM</td>
                            </tr>
                            <tr>
                                <td><code>compile</code></td>
                                <td>Compiles main source code to <span class="code-inline">target/classes/</span></td>
                            </tr>
                            <tr>
                                <td><code>test</code></td>
                                <td>Runs unit tests via Surefire plugin</td>
                            </tr>
                            <tr>
                                <td><code>package</code></td>
                                <td>Packages compiled code into JAR/WAR</td>
                            </tr>
                            <tr>
                                <td><code>verify</code></td>
                                <td>Runs integration tests and quality checks</td>
                            </tr>
                            <tr>
                                <td><code>install</code></td>
                                <td>Installs artifact to local <span class="code-inline">~/.m2/repository</span></td>
                            </tr>
                            <tr>
                                <td><code>deploy</code></td>
                                <td>Uploads artifact to remote repository</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code># Common Maven commands
mvn clean install              # Clean, compile, test, package, install to local repo
mvn test                       # Compile and run tests only
mvn package -DskipTests        # Package without running tests
mvn dependency:tree             # Show dependency hierarchy
mvn versions:display-dependency-updates  # Check for newer dependencies
mvn clean install -U           # Force update snapshots from remote
mvn help:effective-pom         # Show the fully resolved POM</code></pre>
            </div>

            <!-- Maven Dependency Management -->
            <div class="subsection">
                <h3 class="subsection-title">Maven Dependency Management</h3>
                <p class="subsection-description">Dependencies are declared with a scope that controls when they are available and whether they are included in the final artifact.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Scope</th>
                                <th>Compile Classpath</th>
                                <th>Test Classpath</th>
                                <th>Runtime Classpath</th>
                                <th>Packaged</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>compile</code> (default)</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                            </tr>
                            <tr>
                                <td><code>provided</code></td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10007;</td>
                                <td>&#10007;</td>
                            </tr>
                            <tr>
                                <td><code>test</code></td>
                                <td>&#10007;</td>
                                <td>&#10003;</td>
                                <td>&#10007;</td>
                                <td>&#10007;</td>
                            </tr>
                            <tr>
                                <td><code>runtime</code></td>
                                <td>&#10007;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                            </tr>
                            <tr>
                                <td><code>system</code></td>
                                <td>&#10003;</td>
                                <td>&#10003;</td>
                                <td>&#10007;</td>
                                <td>&#10007;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code>&lt;!-- BOM (Bill of Materials) — centralize dependency versions --&gt;
&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
            &lt;version&gt;3.2.2&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;

&lt;!-- Now child dependencies don't need &lt;version&gt; --&gt;
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;!-- version inherited from BOM --&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;!-- Exclusions — remove transitive dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;some-library&lt;/artifactId&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;commons-logging&lt;/groupId&gt;
            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;</code></pre>
            </div>

            <!-- Gradle Basics -->
            <div class="subsection">
                <h3 class="subsection-title">Gradle Basics</h3>
                <p class="subsection-description">Gradle uses a Groovy or Kotlin DSL instead of XML. It is faster than Maven (incremental builds, build cache) and more flexible.</p>

                <div class="card-grid">
                    <div class="card">
                        <h4>Groovy DSL (build.gradle)</h4>
<pre><code>plugins {
    id 'java'
    id 'application'
}

group = 'com.coffeeshop'
version = '1.0.0'

java {
    toolchain {
        languageVersion =
            JavaLanguageVersion.of(21)
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'com.google.guava:guava:33.0.0-jre'
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.2'
}

application {
    mainClass = 'com.coffeeshop.App'
}

test {
    useJUnitPlatform()
}</code></pre>
                    </div>
                    <div class="card">
                        <h4>Kotlin DSL (build.gradle.kts)</h4>
<pre><code>plugins {
    java
    application
}

group = "com.coffeeshop"
version = "1.0.0"

java {
    toolchain {
        languageVersion.set(
            JavaLanguageVersion.of(21)
        )
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation("com.google.guava:guava:33.0.0-jre")
    testImplementation("org.junit.jupiter:junit-jupiter:5.10.2")
}

application {
    mainClass.set("com.coffeeshop.App")
}

tasks.test {
    useJUnitPlatform()
}</code></pre>
                    </div>
                </div>

<pre><code># Common Gradle commands
gradle build                   # Compile, test, and package
gradle test                    # Run tests only
gradle clean build             # Delete build/ then rebuild
gradle dependencies            # Show dependency tree
gradle tasks                   # List all available tasks
gradle build -x test           # Build without running tests
gradle --refresh-dependencies  # Force re-download dependencies
gradle wrapper --gradle-version 8.5  # Update wrapper version</code></pre>
            </div>

            <!-- Gradle Dependency Management -->
            <div class="subsection">
                <h3 class="subsection-title">Gradle Dependency Management</h3>
                <p class="subsection-description">Gradle uses named configurations instead of Maven scopes. The most common ones map closely to Maven equivalents.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Gradle Configuration</th>
                                <th>Maven Equivalent</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>implementation</code></td>
                                <td><code>compile</code></td>
                                <td>Internal dependency; not exposed to consumers</td>
                            </tr>
                            <tr>
                                <td><code>api</code></td>
                                <td><code>compile</code></td>
                                <td>Exposed to consumers (requires <span class="code-inline">java-library</span> plugin)</td>
                            </tr>
                            <tr>
                                <td><code>compileOnly</code></td>
                                <td><code>provided</code></td>
                                <td>Available at compile time only (e.g., annotations)</td>
                            </tr>
                            <tr>
                                <td><code>runtimeOnly</code></td>
                                <td><code>runtime</code></td>
                                <td>Available at runtime only (e.g., JDBC drivers)</td>
                            </tr>
                            <tr>
                                <td><code>testImplementation</code></td>
                                <td><code>test</code></td>
                                <td>Available during test compilation and execution</td>
                            </tr>
                            <tr>
                                <td><code>testRuntimeOnly</code></td>
                                <td><code>test</code> + <code>runtime</code></td>
                                <td>Available at test runtime only (e.g., test engines)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code>// Gradle dependency declarations
dependencies {
    // Compile + runtime (hidden from consumers)
    implementation 'com.google.guava:guava:33.0.0-jre'

    // Compile + runtime (exposed to consumers of this library)
    api 'org.apache.commons:commons-lang3:3.14.0'

    // Compile only (provided at runtime by container)
    compileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.0'

    // Runtime only (not needed at compile time)
    runtimeOnly 'org.postgresql:postgresql:42.7.1'

    // Test dependencies
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.2'
    testImplementation 'org.mockito:mockito-core:5.10.0'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'

    // Platform (BOM) — version alignment
    implementation platform('org.springframework.boot:spring-boot-dependencies:3.2.2')
    implementation 'org.springframework.boot:spring-boot-starter-web'  // no version needed
}</code></pre>
            </div>

            <!-- Maven vs Gradle -->
            <div class="subsection">
                <h3 class="subsection-title">Maven vs Gradle</h3>
                <p class="subsection-description">Both are mature, well-supported build tools. Choose based on your team's experience and project requirements.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Maven</th>
                                <th>Gradle</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Config Format</strong></td>
                                <td>XML (<span class="code-inline">pom.xml</span>)</td>
                                <td>Groovy/Kotlin DSL</td>
                            </tr>
                            <tr>
                                <td><strong>Build Speed</strong></td>
                                <td>Slower (no incremental build by default)</td>
                                <td>Faster (incremental, build cache, daemon)</td>
                            </tr>
                            <tr>
                                <td><strong>Flexibility</strong></td>
                                <td>Rigid convention-over-configuration</td>
                                <td>Highly customizable with scripting</td>
                            </tr>
                            <tr>
                                <td><strong>Learning Curve</strong></td>
                                <td>Lower (strict conventions)</td>
                                <td>Steeper (flexibility = more decisions)</td>
                            </tr>
                            <tr>
                                <td><strong>Market Share</strong></td>
                                <td>~60% of Java projects</td>
                                <td>~35% of Java projects (growing)</td>
                            </tr>
                            <tr>
                                <td><strong>IDE Support</strong></td>
                                <td>Excellent in all IDEs</td>
                                <td>Excellent in all IDEs</td>
                            </tr>
                            <tr>
                                <td><strong>Multi-module</strong></td>
                                <td>Parent POM + modules</td>
                                <td>settings.gradle + subprojects</td>
                            </tr>
                            <tr>
                                <td><strong>Dependency Mgmt</strong></td>
                                <td>Scopes (compile, test, provided)</td>
                                <td>Configurations (implementation, api, compileOnly)</td>
                            </tr>
                            <tr>
                                <td><strong>Best For</strong></td>
                                <td>Enterprise, Spring Boot, standardized teams</td>
                                <td>Android, multi-module, performance-critical builds</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="tip-box">
                    <p>If you are starting a new project and have no strong preference, Spring Initializr defaults to Gradle with Kotlin DSL. For enterprise environments, Maven is still the safe default. Either way, always commit the wrapper (<span class="code-inline">mvnw</span> / <span class="code-inline">gradlew</span>) so everyone builds with the same version.</p>
                </div>
            </div>

            <!-- Project Structure -->
            <div class="subsection">
                <h3 class="subsection-title">Standard Project Structure</h3>
                <p class="subsection-description">Both Maven and Gradle follow the same directory layout by default. This is the standard that all Java IDEs, CI tools, and frameworks expect.</p>
<pre><code>my-project/
├── pom.xml                       # Maven config (or build.gradle for Gradle)
├── mvnw / gradlew                # Wrapper scripts (commit these!)
├── src/
│   ├── main/
│   │   ├── java/                 # Application source code
│   │   │   └── com/coffeeshop/
│   │   │       ├── App.java
│   │   │       ├── model/
│   │   │       │   └── Coffee.java
│   │   │       ├── service/
│   │   │       │   └── BrewService.java
│   │   │       └── controller/
│   │   │           └── OrderController.java
│   │   └── resources/            # Configuration and static files
│   │       ├── application.yml
│   │       ├── logback.xml
│   │       └── db/migration/
│   └── test/
│       ├── java/                 # Test source code (mirrors main/java structure)
│       │   └── com/coffeeshop/
│       │       ├── model/
│       │       │   └── CoffeeTest.java
│       │       └── service/
│       │           └── BrewServiceTest.java
│       └── resources/            # Test-specific config
│           └── application-test.yml
└── target/ (Maven) / build/ (Gradle)   # Generated output (never commit)</code></pre>

                <div class="alert alert-info" style="margin-top: var(--space-4);">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Package Naming</p>
                        <p>Java convention is reverse domain name: <span class="code-inline">com.company.project</span>. Package names match directory structure. Test packages should mirror main packages so tests can access package-private members.</p>
                    </div>
                </div>
            </div>

            <!-- Useful Plugins -->
            <div class="subsection">
                <h3 class="subsection-title">Useful Plugins</h3>
                <p class="subsection-description">Common plugins for code quality, packaging, and framework support. Both Maven and Gradle have equivalents for most tasks.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Purpose</th>
                                <th>Maven Plugin</th>
                                <th>Gradle Plugin</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Compiler</strong></td>
                                <td><code>maven-compiler-plugin</code></td>
                                <td><code>java</code> (built-in)</td>
                            </tr>
                            <tr>
                                <td><strong>Unit Tests</strong></td>
                                <td><code>maven-surefire-plugin</code></td>
                                <td><code>test</code> task (built-in)</td>
                            </tr>
                            <tr>
                                <td><strong>Integration Tests</strong></td>
                                <td><code>maven-failsafe-plugin</code></td>
                                <td><code>jvm-test-suite</code></td>
                            </tr>
                            <tr>
                                <td><strong>Code Formatting</strong></td>
                                <td><code>spotless-maven-plugin</code></td>
                                <td><code>com.diffplug.spotless</code></td>
                            </tr>
                            <tr>
                                <td><strong>Static Analysis</strong></td>
                                <td><code>maven-checkstyle-plugin</code></td>
                                <td><code>checkstyle</code></td>
                            </tr>
                            <tr>
                                <td><strong>Fat JAR</strong></td>
                                <td><code>maven-shade-plugin</code></td>
                                <td><code>com.github.johnrengelman.shadow</code></td>
                            </tr>
                            <tr>
                                <td><strong>Spring Boot</strong></td>
                                <td><code>spring-boot-maven-plugin</code></td>
                                <td><code>org.springframework.boot</code></td>
                            </tr>
                            <tr>
                                <td><strong>Code Coverage</strong></td>
                                <td><code>jacoco-maven-plugin</code></td>
                                <td><code>jacoco</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code>&lt;!-- Maven: Fat JAR with shade plugin --&gt;
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.5.1&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;
            &lt;configuration&gt;
                &lt;transformers&gt;
                    &lt;transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"&gt;
                        &lt;mainClass&gt;com.coffeeshop.App&lt;/mainClass&gt;
                    &lt;/transformer&gt;
                &lt;/transformers&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</code></pre>

<pre><code>// Gradle: Fat JAR with shadow plugin
plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

jar {
    manifest {
        attributes 'Main-Class': 'com.coffeeshop.App'
    }
}

// Run: gradle shadowJar
// Output: build/libs/barista-api-1.0.0-all.jar</code></pre>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 10 — TESTING
         ============================================ -->
    <section id="testing" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">10</p>
                <h2 class="section-title">Testing</h2>
                <p class="section-description">JUnit 5, Mockito, parameterized tests, and integration testing. Write tests that catch bugs before your users do.</p>
            </div>

            <!-- JUnit 5 Basics -->
            <div class="subsection">
                <h3 class="subsection-title">JUnit 5 Basics</h3>
                <p class="subsection-description">JUnit 5 (Jupiter) is the standard testing framework for Java. Test classes and methods don't need to be public. Each test method gets a fresh instance of the test class.</p>
<pre><code>import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;

class CoffeeServiceTest {

    private CoffeeService service;

    @BeforeAll
    static void setupOnce() {
        // Runs once before ALL tests in this class
        // Must be static (shared setup like DB connections)
        System.out.println("Starting test suite");
    }

    @BeforeEach
    void setUp() {
        // Runs before EACH test method (fresh state)
        service = new CoffeeService(new InMemoryRepo());
    }

    @Test
    @DisplayName("should brew a valid espresso order")
    void brewValidOrder() {
        Coffee result = service.brew("espresso", Size.SMALL);

        assertNotNull(result);
        assertEquals("espresso", result.getType());
        assertEquals(Size.SMALL, result.getSize());
    }

    @Test
    @DisplayName("should reject null bean type")
    void rejectNullBean() {
        assertThrows(IllegalArgumentException.class, () -&gt; {
            service.brew(null, Size.MEDIUM);
        });
    }

    @Test
    @Disabled("Pending barista API integration")
    void shouldConnectToBaristaApi() {
        // Skipped — not yet implemented
    }

    @AfterEach
    void tearDown() {
        // Runs after EACH test method (cleanup)
        service.shutdown();
    }

    @AfterAll
    static void cleanupOnce() {
        // Runs once after ALL tests in this class
        System.out.println("Test suite complete");
    }
}</code></pre>

                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Annotation</th>
                                <th>Scope</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>@Test</code></td>
                                <td>Method</td>
                                <td>Marks a test method</td>
                            </tr>
                            <tr>
                                <td><code>@DisplayName</code></td>
                                <td>Class / Method</td>
                                <td>Human-readable name in test reports</td>
                            </tr>
                            <tr>
                                <td><code>@BeforeEach</code></td>
                                <td>Method</td>
                                <td>Runs before each test (setup)</td>
                            </tr>
                            <tr>
                                <td><code>@AfterEach</code></td>
                                <td>Method</td>
                                <td>Runs after each test (teardown)</td>
                            </tr>
                            <tr>
                                <td><code>@BeforeAll</code></td>
                                <td>Static method</td>
                                <td>Runs once before all tests</td>
                            </tr>
                            <tr>
                                <td><code>@AfterAll</code></td>
                                <td>Static method</td>
                                <td>Runs once after all tests</td>
                            </tr>
                            <tr>
                                <td><code>@Disabled</code></td>
                                <td>Class / Method</td>
                                <td>Skip this test or class</td>
                            </tr>
                            <tr>
                                <td><code>@Nested</code></td>
                                <td>Inner class</td>
                                <td>Group related tests hierarchically</td>
                            </tr>
                            <tr>
                                <td><code>@Tag("slow")</code></td>
                                <td>Class / Method</td>
                                <td>Categorize tests for filtering</td>
                            </tr>
                            <tr>
                                <td><code>@TestMethodOrder</code></td>
                                <td>Class</td>
                                <td>Control execution order</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Assertions -->
            <div class="subsection">
                <h3 class="subsection-title">Assertions</h3>
                <p class="subsection-description">JUnit 5 provides rich assertion methods in <span class="code-inline">org.junit.jupiter.api.Assertions</span>. All accept an optional last parameter for a custom failure message.</p>
<pre><code>import static org.junit.jupiter.api.Assertions.*;

@Test
void assertionShowcase() {
    Coffee latte = new Coffee("latte", 4.50, Size.MEDIUM);

    // Equality
    assertEquals("latte", latte.getType());
    assertEquals(4.50, latte.getPrice(), 0.01);  // delta for doubles
    assertNotEquals("mocha", latte.getType());

    // Boolean
    assertTrue(latte.getPrice() &gt; 0, "Price must be positive");
    assertFalse(latte.isDecaf());

    // Null checks
    assertNotNull(latte);
    assertNull(latte.getDiscount());

    // Same reference
    Coffee same = latte;
    assertSame(same, latte);

    // Exception testing
    Exception ex = assertThrows(
        InvalidOrderException.class,
        () -&gt; service.order(null)
    );
    assertEquals("Bean type required", ex.getMessage());

    // Timeout — fails if block takes longer than 2 seconds
    assertTimeout(Duration.ofSeconds(2), () -&gt; {
        service.brew("espresso", Size.SMALL);
    });

    // Grouped assertions — ALL are evaluated, even if some fail
    assertAll("latte properties",
        () -&gt; assertEquals("latte", latte.getType()),
        () -&gt; assertEquals(Size.MEDIUM, latte.getSize()),
        () -&gt; assertTrue(latte.getPrice() &gt; 0)
    );
}

@Test
void iterableAndArrayAssertions() {
    List&lt;String&gt; menu = List.of("Espresso", "Latte", "Mocha");

    assertIterableEquals(
        List.of("Espresso", "Latte", "Mocha"),
        menu
    );

    assertArrayEquals(
        new int[]{1, 2, 3},
        new int[]{1, 2, 3}
    );

    // Lines comparison (useful for multi-line strings)
    assertLinesMatch(
        List.of("Espresso", "\\w+", "Mocha"),  // regex supported
        menu
    );
}</code></pre>
            </div>

            <!-- Parameterized Tests -->
            <div class="subsection">
                <h3 class="subsection-title">Parameterized Tests</h3>
                <p class="subsection-description">Run the same test logic with different inputs. Each set of arguments creates a separate test invocation in reports.</p>
<pre><code>import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.*;

class PricingServiceTest {

    // @ValueSource — simple single-argument tests
    @ParameterizedTest
    @ValueSource(strings = {"espresso", "latte", "cappuccino", "mocha"})
    void allDrinksHavePositivePrice(String drink) {
        double price = pricingService.getPrice(drink);
        assertTrue(price &gt; 0, drink + " should have positive price");
    }

    @ParameterizedTest
    @ValueSource(ints = {1, 5, 10, 50, 100})
    void bulkDiscountApplied(int quantity) {
        Order order = new Order("latte", quantity);
        assertTrue(order.getDiscount() &gt;= 0);
    }

    // @NullAndEmptySource — tests null and "" automatically
    @ParameterizedTest
    @NullAndEmptySource
    @ValueSource(strings = {"  ", "\t", "\n"})
    void rejectBlankDrinkNames(String drink) {
        assertThrows(IllegalArgumentException.class,
            () -&gt; pricingService.getPrice(drink));
    }

    // @CsvSource — multiple arguments per test case
    @ParameterizedTest(name = "{0} size {1} = ${2}")
    @CsvSource({
        "espresso, SMALL,  3.00",
        "espresso, LARGE,  4.50",
        "latte,    MEDIUM, 4.75",
        "mocha,    LARGE,  6.00"
    })
    void correctPricing(String drink, Size size, double expected) {
        assertEquals(expected, pricingService.getPrice(drink, size), 0.01);
    }

    // @MethodSource — complex objects from a factory method
    @ParameterizedTest
    @MethodSource("orderProvider")
    void ordersAreValid(Order order) {
        assertTrue(order.isValid());
    }

    static Stream&lt;Order&gt; orderProvider() {
        return Stream.of(
            new Order("espresso", 1, Size.SMALL),
            new Order("latte", 2, Size.MEDIUM),
            new Order("mocha", 1, Size.LARGE)
        );
    }

    // @EnumSource — iterate over enum values
    @ParameterizedTest
    @EnumSource(Size.class)
    void allSizesSupported(Size size) {
        assertNotNull(pricingService.getSizeMultiplier(size));
    }

    @ParameterizedTest
    @EnumSource(value = Size.class, names = {"SMALL", "MEDIUM"})
    void standardSizesUnder5Dollars(Size size) {
        assertTrue(pricingService.getPrice("drip", size) &lt; 5.00);
    }
}</code></pre>
            </div>

            <!-- Mockito Fundamentals -->
            <div class="subsection">
                <h3 class="subsection-title">Mockito Fundamentals</h3>
                <p class="subsection-description">Mockito creates mock objects to isolate the unit under test from its dependencies. Stub return values, verify interactions, and control behavior.</p>
<pre><code>import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import static org.mockito.Mockito.*;
import static org.mockito.ArgumentMatchers.*;

@ExtendWith(MockitoExtension.class)  // enables @Mock and @InjectMocks
class OrderServiceTest {

    @Mock
    CoffeeRepository coffeeRepo;          // mock dependency

    @Mock
    PaymentGateway paymentGateway;         // mock dependency

    @InjectMocks
    OrderService orderService;             // injects mocks automatically

    @Test
    void shouldPlaceOrderSuccessfully() {
        // Arrange — stub return values
        Coffee latte = new Coffee("latte", 4.50);
        when(coffeeRepo.findByName("latte")).thenReturn(Optional.of(latte));
        when(paymentGateway.charge(anyDouble())).thenReturn(true);

        // Act
        OrderResult result = orderService.placeOrder("latte", 2);

        // Assert
        assertTrue(result.isSuccess());
        assertEquals(9.00, result.getTotal(), 0.01);

        // Verify interactions
        verify(coffeeRepo).findByName("latte");
        verify(paymentGateway).charge(9.00);
        verify(paymentGateway, never()).refund(anyDouble());
    }

    @Test
    void shouldThrowWhenDrinkNotFound() {
        when(coffeeRepo.findByName(anyString())).thenReturn(Optional.empty());

        assertThrows(DrinkNotFoundException.class,
            () -&gt; orderService.placeOrder("unicorn-frapp", 1));

        verify(paymentGateway, never()).charge(anyDouble());
    }

    @Test
    void shouldHandlePaymentFailure() {
        Coffee espresso = new Coffee("espresso", 3.00);
        when(coffeeRepo.findByName("espresso")).thenReturn(Optional.of(espresso));
        when(paymentGateway.charge(anyDouble()))
            .thenThrow(new PaymentException("Card declined"));

        assertThrows(PaymentException.class,
            () -&gt; orderService.placeOrder("espresso", 1));
    }
}

// Common argument matchers
verify(repo).save(any(Coffee.class));       // any instance of Coffee
verify(repo).findByName(eq("latte"));       // exact match
verify(repo).findByPrice(anyDouble());      // any double
verify(repo).search(anyString());           // any string
verify(repo).findAll(anyList());            // any list
verify(repo, times(2)).findByName("latte"); // called exactly 2 times
verify(repo, atLeastOnce()).findAll();      // called 1+ times
verify(repo, atMost(3)).save(any());        // called at most 3 times</code></pre>
            </div>

            <!-- Test Patterns -->
            <div class="subsection">
                <h3 class="subsection-title">Test Patterns</h3>
                <p class="subsection-description">Well-structured tests are readable, maintainable, and trustworthy. Follow these patterns for consistency.</p>
                <div class="command-grid">
                    <div class="command-card">
                        <h4>AAA Pattern (Arrange-Act-Assert)</h4>
                        <p>The most common test structure. Set up inputs, execute the action, verify the result.</p>
<pre><code>@Test
void shouldApplyBulkDiscount() {
    // Arrange
    var service = new PricingService();
    var order = new Order("latte", 10);

    // Act
    double total = service.calculate(order);

    // Assert
    assertEquals(40.50, total, 0.01);
}</code></pre>
                    </div>
                    <div class="command-card">
                        <h4>Given-When-Then (BDD Style)</h4>
                        <p>Behavior-driven style. Reads like a specification.</p>
<pre><code>@Test
void loyalCustomerGetsDiscount() {
    // Given a loyal customer with 50+ orders
    Customer customer = new Customer("Alice");
    customer.setOrderCount(55);

    // When they place a new order
    Order order = service.createOrder(
        customer, "cappuccino"
    );

    // Then a 10% discount is applied
    assertEquals(0.10, order.getDiscount());
}</code></pre>
                    </div>
                </div>

                <div class="tip-box">
                    <p><strong>Test Naming:</strong> Name tests to describe behavior, not implementation. Prefer <span class="code-inline">shouldRejectExpiredCoupon()</span> over <span class="code-inline">testCoupon3()</span>. The name should tell you what is broken when it fails. Combine with <span class="code-inline">@DisplayName</span> for even clearer reports.</p>
                </div>

                <div class="alert alert-warning">
                    <span class="alert-icon">&#9888;</span>
                    <div class="alert-content">
                        <p class="alert-title">Avoid Testing Private Methods Directly</p>
                        <p>If you feel the need to test a private method, it usually means the class is doing too much. Extract the logic into a separate class with a public API and test that instead. Using reflection to access private methods makes tests brittle and tightly coupled to implementation details.</p>
                    </div>
                </div>
            </div>

            <!-- Integration Testing -->
            <div class="subsection">
                <h3 class="subsection-title">Integration Testing</h3>
                <p class="subsection-description">Integration tests verify that components work together. Spring Boot provides excellent test infrastructure for loading application contexts and testing REST endpoints.</p>
<pre><code>import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.*;

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class CoffeeApiIntegrationTest {

    @Autowired
    TestRestTemplate restTemplate;         // auto-configured HTTP client

    @MockBean
    PaymentGateway paymentGateway;         // replace real bean with mock

    @Test
    void shouldReturnMenuItems() {
        ResponseEntity&lt;Coffee[]&gt; response = restTemplate
            .getForEntity("/api/coffees", Coffee[].class);

        assertEquals(HttpStatus.OK, response.getStatusCode());
        assertTrue(response.getBody().length &gt; 0);
    }

    @Test
    void shouldCreateOrder() {
        when(paymentGateway.charge(anyDouble())).thenReturn(true);

        OrderRequest request = new OrderRequest("latte", 2, Size.MEDIUM);
        ResponseEntity&lt;OrderResult&gt; response = restTemplate
            .postForEntity("/api/orders", request, OrderResult.class);

        assertEquals(HttpStatus.CREATED, response.getStatusCode());
        assertTrue(response.getBody().isSuccess());
    }

    @Test
    void shouldReturn404ForUnknownDrink() {
        ResponseEntity&lt;String&gt; response = restTemplate
            .getForEntity("/api/coffees/unicorn-frapp", String.class);

        assertEquals(HttpStatus.NOT_FOUND, response.getStatusCode());
    }
}</code></pre>

<pre><code>// Testcontainers — real databases in Docker for integration tests
import org.testcontainers.containers.PostgreSQLContainer;
import org.testcontainers.junit.jupiter.Container;
import org.testcontainers.junit.jupiter.Testcontainers;

@Testcontainers
@SpringBootTest
class CoffeeRepositoryIT {

    @Container
    static PostgreSQLContainer&lt;?&gt; postgres =
        new PostgreSQLContainer&lt;&gt;("postgres:16-alpine")
            .withDatabaseName("coffeedb")
            .withUsername("barista")
            .withPassword("brew123");

    @DynamicPropertySource
    static void configureProperties(DynamicPropertyRegistry registry) {
        registry.add("spring.datasource.url", postgres::getJdbcUrl);
        registry.add("spring.datasource.username", postgres::getUsername);
        registry.add("spring.datasource.password", postgres::getPassword);
    }

    @Autowired
    CoffeeRepository coffeeRepo;

    @Test
    void shouldPersistAndRetrieveCoffee() {
        Coffee saved = coffeeRepo.save(new Coffee("espresso", 3.00));
        Optional&lt;Coffee&gt; found = coffeeRepo.findById(saved.getId());

        assertTrue(found.isPresent());
        assertEquals("espresso", found.get().getType());
    }
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">Test Slicing</p>
                        <p>Spring Boot offers slice annotations that load only part of the context: <span class="code-inline">@WebMvcTest</span> for controllers, <span class="code-inline">@DataJpaTest</span> for repositories, <span class="code-inline">@JsonTest</span> for serialization. These are faster than <span class="code-inline">@SpringBootTest</span> and should be preferred when you only need a specific layer.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 11 — BEST PRACTICES & PATTERNS
         ============================================ -->
    <section id="best-practices" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">11</p>
                <h2 class="section-title">Best Practices &amp; Patterns</h2>
                <p class="section-description">Naming conventions, SOLID principles, design patterns, and clean code habits. Write Java that your future self will thank you for.</p>
            </div>

            <!-- Naming Conventions -->
            <div class="subsection">
                <h3 class="subsection-title">Naming Conventions</h3>
                <p class="subsection-description">Java has strong conventions enforced by community consensus and tooling. Follow them consistently for readable, idiomatic code.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Element</th>
                                <th>Convention</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Classes</strong></td>
                                <td>PascalCase, noun</td>
                                <td><code>CoffeeOrder</code>, <code>PaymentService</code></td>
                            </tr>
                            <tr>
                                <td><strong>Interfaces</strong></td>
                                <td>PascalCase, adjective or noun</td>
                                <td><code>Serializable</code>, <code>CoffeeRepository</code></td>
                            </tr>
                            <tr>
                                <td><strong>Methods</strong></td>
                                <td>camelCase, verb</td>
                                <td><code>calculateTotal()</code>, <code>isValid()</code></td>
                            </tr>
                            <tr>
                                <td><strong>Variables</strong></td>
                                <td>camelCase, descriptive</td>
                                <td><code>orderCount</code>, <code>currentUser</code></td>
                            </tr>
                            <tr>
                                <td><strong>Constants</strong></td>
                                <td>UPPER_SNAKE_CASE</td>
                                <td><code>MAX_RETRIES</code>, <code>DEFAULT_SIZE</code></td>
                            </tr>
                            <tr>
                                <td><strong>Packages</strong></td>
                                <td>all lowercase, reverse domain</td>
                                <td><code>com.coffeeshop.orders</code></td>
                            </tr>
                            <tr>
                                <td><strong>Enums</strong></td>
                                <td>PascalCase type, UPPER_SNAKE values</td>
                                <td><code>Size.LARGE</code>, <code>Status.IN_PROGRESS</code></td>
                            </tr>
                            <tr>
                                <td><strong>Type Parameters</strong></td>
                                <td>Single uppercase letter</td>
                                <td><code>T</code> (type), <code>E</code> (element), <code>K</code>/<code>V</code> (key/value)</td>
                            </tr>
                            <tr>
                                <td><strong>Test Classes</strong></td>
                                <td>ClassNameTest</td>
                                <td><code>CoffeeServiceTest</code></td>
                            </tr>
                            <tr>
                                <td><strong>Test Methods</strong></td>
                                <td>shouldDescribeBehavior</td>
                                <td><code>shouldRejectExpiredCoupon()</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- SOLID Principles -->
            <div class="subsection">
                <h3 class="subsection-title">SOLID Principles</h3>
                <p class="subsection-description">Five principles of object-oriented design that make software easier to understand, maintain, and extend.</p>
                <div class="card-grid">
                    <div class="card">
                        <h4>S &mdash; Single Responsibility</h4>
                        <p>A class should have only one reason to change. Each class handles one job.</p>
<pre><code>// BAD — one class does everything
class OrderManager {
    void createOrder() { ... }
    void sendEmail() { ... }
    void generatePdf() { ... }
}

// GOOD — separate responsibilities
class OrderService { void create() { ... } }
class EmailService { void send() { ... } }
class PdfGenerator { void generate() { ... } }</code></pre>
                    </div>
                    <div class="card">
                        <h4>O &mdash; Open/Closed</h4>
                        <p>Open for extension, closed for modification. Add new behavior without changing existing code.</p>
<pre><code>// Open for extension via new implementations
interface DiscountStrategy {
    double apply(double price);
}

class LoyaltyDiscount implements DiscountStrategy {
    public double apply(double price) {
        return price * 0.90;
    }
}

class SeasonalDiscount implements DiscountStrategy {
    public double apply(double price) {
        return price * 0.85;
    }
}
// Add new discounts without touching existing ones</code></pre>
                    </div>
                    <div class="card">
                        <h4>L &mdash; Liskov Substitution</h4>
                        <p>Subtypes must be substitutable for their base types without breaking behavior.</p>
<pre><code>// GOOD — substitutable
class Coffee {
    double getPrice() { return 3.00; }
}

class PremiumCoffee extends Coffee {
    double getPrice() { return 5.00; } // OK
}

// BAD — breaks substitution
class FreeSample extends Coffee {
    double getPrice() {
        throw new UnsupportedOperationException();
        // Violates contract! Callers expect a price.
    }
}</code></pre>
                    </div>
                    <div class="card">
                        <h4>I &mdash; Interface Segregation</h4>
                        <p>No client should be forced to depend on methods it does not use. Prefer small, focused interfaces.</p>
<pre><code>// BAD — fat interface
interface CoffeeMachine {
    void brew();
    void frothMilk();
    void grindBeans();
    void selfClean();
}

// GOOD — segregated interfaces
interface Brewer { void brew(); }
interface MilkFrother { void frothMilk(); }
interface Grinder { void grindBeans(); }

class EspressoMachine
    implements Brewer, Grinder {
    // Only implements what it needs
}</code></pre>
                    </div>
                    <div class="card">
                        <h4>D &mdash; Dependency Inversion</h4>
                        <p>High-level modules should not depend on low-level modules. Both should depend on abstractions.</p>
<pre><code>// BAD — depends on concrete class
class OrderService {
    private MySqlOrderRepo repo =
        new MySqlOrderRepo();  // tightly coupled
}

// GOOD — depends on abstraction
class OrderService {
    private final OrderRepository repo;

    OrderService(OrderRepository repo) {
        this.repo = repo;  // injected
    }
}

// Easy to swap implementations
new OrderService(new MySqlOrderRepo());
new OrderService(new MongoOrderRepo());
new OrderService(new InMemoryOrderRepo());</code></pre>
                    </div>
                </div>
            </div>

            <!-- Common Design Patterns -->
            <div class="subsection">
                <h3 class="subsection-title">Common Design Patterns</h3>
                <p class="subsection-description">Battle-tested solutions to recurring design problems. Know when to reach for them and when to keep it simple.</p>
                <div class="card-grid">
                    <div class="card">
                        <h4>Singleton (Enum-Based)</h4>
                        <p>Ensure a class has exactly one instance. The enum approach is thread-safe, serialization-proof, and reflection-proof.</p>
<pre><code>public enum AppConfig {
    INSTANCE;

    private final Properties props = new Properties();

    AppConfig() {
        try (var is = getClass().getResourceAsStream(
                "/config.properties")) {
            props.load(is);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    public String get(String key) {
        return props.getProperty(key);
    }
}
// Usage: AppConfig.INSTANCE.get("db.url")</code></pre>
                    </div>
                    <div class="card">
                        <h4>Builder</h4>
                        <p>Construct complex objects step by step. Essential when constructors have many parameters.</p>
<pre><code>public class CoffeeOrder {
    private final String drink;
    private final Size size;
    private final boolean iced;
    private final List&lt;String&gt; extras;

    private CoffeeOrder(Builder b) {
        this.drink = b.drink;
        this.size = b.size;
        this.iced = b.iced;
        this.extras = List.copyOf(b.extras);
    }

    public static class Builder {
        private final String drink;       // required
        private Size size = Size.MEDIUM;  // default
        private boolean iced = false;
        private List&lt;String&gt; extras = new ArrayList&lt;&gt;();

        public Builder(String drink) {
            this.drink = drink;
        }
        public Builder size(Size s) {
            this.size = s; return this;
        }
        public Builder iced() {
            this.iced = true; return this;
        }
        public Builder extra(String e) {
            this.extras.add(e); return this;
        }
        public CoffeeOrder build() {
            return new CoffeeOrder(this);
        }
    }
}

// Usage
var order = new CoffeeOrder.Builder("latte")
    .size(Size.LARGE)
    .iced()
    .extra("oat milk")
    .extra("vanilla")
    .build();</code></pre>
                    </div>
                    <div class="card">
                        <h4>Factory Method</h4>
                        <p>Create objects without specifying the exact class. Let subclasses or a method decide which type to instantiate.</p>
<pre><code>public interface Coffee {
    String describe();
    double getPrice();
}

public class CoffeeFactory {
    public static Coffee create(String type) {
        return switch (type.toLowerCase()) {
            case "espresso" -&gt; new Espresso();
            case "latte"    -&gt; new Latte();
            case "mocha"    -&gt; new Mocha();
            default -&gt; throw new IllegalArgumentException(
                "Unknown type: " + type);
        };
    }
}

// Usage — caller doesn't know concrete class
Coffee drink = CoffeeFactory.create("latte");</code></pre>
                    </div>
                    <div class="card">
                        <h4>Strategy</h4>
                        <p>Define a family of algorithms, encapsulate each one, and make them interchangeable at runtime.</p>
<pre><code>interface BrewStrategy {
    Coffee brew(String bean, int ml);
}

class PourOver implements BrewStrategy {
    public Coffee brew(String bean, int ml) {
        // slow, precise extraction
        return new Coffee(bean, ml, "pour-over");
    }
}

class FrenchPress implements BrewStrategy {
    public Coffee brew(String bean, int ml) {
        // full immersion, bold flavor
        return new Coffee(bean, ml, "french-press");
    }
}

class Barista {
    private BrewStrategy strategy;

    void setStrategy(BrewStrategy s) {
        this.strategy = s;
    }

    Coffee makeCoffee(String bean) {
        return strategy.brew(bean, 250);
    }
}

// Swap algorithms at runtime
barista.setStrategy(new PourOver());
barista.setStrategy(new FrenchPress());</code></pre>
                    </div>
                    <div class="card">
                        <h4>Observer</h4>
                        <p>Define a one-to-many dependency so that when one object changes state, all dependents are notified.</p>
<pre><code>interface OrderListener {
    void onOrderPlaced(Order order);
}

class OrderService {
    private final List&lt;OrderListener&gt; listeners
        = new ArrayList&lt;&gt;();

    void addListener(OrderListener l) {
        listeners.add(l);
    }

    void placeOrder(Order order) {
        // ... process order ...
        listeners.forEach(l -&gt;
            l.onOrderPlaced(order));
    }
}

// Register observers
orderService.addListener(emailNotifier);
orderService.addListener(inventoryUpdater);
orderService.addListener(analyticsTracker);</code></pre>
                    </div>
                    <div class="card">
                        <h4>Adapter</h4>
                        <p>Bridge between two incompatible interfaces. Wrap an existing class to match the interface your code expects.</p>
<pre><code>// Existing legacy API
class OldPaymentSystem {
    boolean processPayment(
        String cardNum, int cents) {
        // legacy implementation
        return true;
    }
}

// Your interface
interface PaymentGateway {
    boolean charge(BigDecimal amount);
}

// Adapter bridges the gap
class LegacyPaymentAdapter
        implements PaymentGateway {
    private final OldPaymentSystem legacy;
    private final String cardNumber;

    LegacyPaymentAdapter(
        OldPaymentSystem legacy, String card) {
        this.legacy = legacy;
        this.cardNumber = card;
    }

    public boolean charge(BigDecimal amount) {
        int cents = amount
            .multiply(BigDecimal.valueOf(100))
            .intValue();
        return legacy.processPayment(
            cardNumber, cents);
    }
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- Clean Code Tips -->
            <div class="subsection">
                <h3 class="subsection-title">Clean Code Tips</h3>
                <p class="subsection-description">Practical habits that make Java code easier to read, test, and maintain.</p>
<pre><code>// 1. Prefer immutability — use final, unmodifiable collections, records
final var menu = List.of("Espresso", "Latte", "Mocha");         // unmodifiable
final var prices = Map.of("Espresso", 3.0, "Latte", 4.5);      // unmodifiable
record Order(String drink, int qty) {}                           // immutable by default

// 2. Return empty collections, not null
public List&lt;Coffee&gt; findByRoast(String roast) {
    List&lt;Coffee&gt; results = repo.query(roast);
    return results != null ? results : List.of();   // never return null
}

// 3. Use Optional for return types, NEVER for parameters or fields
public Optional&lt;Coffee&gt; findById(long id) {
    return Optional.ofNullable(repo.get(id));
}

// BAD — don't use Optional as a parameter
void process(Optional&lt;String&gt; name) { ... }         // never do this

// 4. Prefer composition over inheritance
class CoffeeShop {
    private final BrewStrategy brewer;               // HAS-A, not IS-A
    private final PaymentGateway payments;

    CoffeeShop(BrewStrategy brewer, PaymentGateway payments) {
        this.brewer = brewer;
        this.payments = payments;
    }
}

// 5. Keep methods short — single level of abstraction
public OrderResult processOrder(OrderRequest req) {
    validate(req);                       // one thing
    Coffee coffee = brew(req);           // one thing
    double total = calculateTotal(req);  // one thing
    charge(req.customer(), total);       // one thing
    return new OrderResult(coffee, total);
}

// 6. Use meaningful names
// BAD
int d;                    // days? distance? duration?
List&lt;String&gt; list1;       // what's in the list?
void process(Object o);   // process what? how?

// GOOD
int daysSinceLastOrder;
List&lt;String&gt; activeCustomerEmails;
void sendOrderConfirmation(Order order);</code></pre>
            </div>

            <!-- Code Style -->
            <div class="subsection">
                <h3 class="subsection-title">Code Style</h3>
                <p class="subsection-description">Formatting conventions, import ordering, and Javadoc guidelines followed by most Java teams.</p>
<pre><code>// Import ordering (Google Java Style)
// 1. All static imports in a single block
// 2. All non-static imports in a single block
// Separated by a blank line, each group alphabetical

import static org.junit.jupiter.api.Assertions.*;    // static first
import static org.mockito.Mockito.*;

import java.util.List;                                // java.*
import java.util.Optional;
import java.util.stream.Collectors;

import org.springframework.stereotype.Service;        // third-party

import com.coffeeshop.model.Coffee;                   // project imports
import com.coffeeshop.repository.CoffeeRepository;</code></pre>

<pre><code>// Javadoc — write for public APIs
/**
 * Brews a coffee with the specified parameters.
 *
 * &lt;p&gt;The brewing process grinds the beans, heats water to the
 * optimal temperature, and extracts for the configured duration.
 *
 * @param beanType   the coffee bean variety (e.g., "arabica")
 * @param size       the cup size, must not be {@code null}
 * @return           a freshly brewed {@link Coffee} instance
 * @throws BrewException         if the machine encounters an error
 * @throws IllegalArgumentException if beanType is blank
 * @since 2.1.0
 * @see Coffee
 * @see BrewStrategy
 */
public Coffee brew(String beanType, Size size) throws BrewException {
    // ...
}

// Inline tags
/** Uses {@code Map&lt;String, List&lt;Coffee&gt;&gt;} internally. */
/** See {@link CoffeeFactory#create(String)} for alternatives. */
/** @deprecated Use {@link #brew(String, Size)} instead. */</code></pre>

                <div class="tip-box">
                    <p><strong>Formatting tools:</strong> Use <span class="code-inline">google-java-format</span> or <span class="code-inline">spotless</span> to enforce style automatically. Configure in Maven/Gradle so formatting runs on every build. This eliminates style debates in code reviews and keeps diffs clean.</p>
                </div>
            </div>

        </div>
    </section>

    <!-- ============================================
         SECTION 12 — ECOSYSTEM & FRAMEWORKS
         ============================================ -->
    <section id="ecosystem" class="section">
        <div class="container">
            <div class="section-header">
                <p class="section-number">12</p>
                <h2 class="section-title">Ecosystem &amp; Frameworks</h2>
                <p class="section-description">Spring Boot, Jakarta EE, popular libraries, HTTP clients, database access, and essential tools. The Java ecosystem in one place.</p>
            </div>

            <!-- Spring Boot -->
            <div class="subsection">
                <h3 class="subsection-title">Spring Boot</h3>
                <p class="subsection-description">The dominant framework for building Java applications. Spring Boot auto-configures Spring based on your dependencies, so you can focus on business logic instead of boilerplate.</p>
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.*;
import org.springframework.stereotype.Service;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;

// Main application class — scans for components in this package and below
@SpringBootApplication
public class CoffeeShopApplication {
    public static void main(String[] args) {
        SpringApplication.run(CoffeeShopApplication.class, args);
    }
}

// REST controller — handles HTTP requests
@RestController
@RequestMapping("/api/coffees")
public class CoffeeController {

    private final CoffeeService service;

    @Autowired  // constructor injection (preferred)
    public CoffeeController(CoffeeService service) {
        this.service = service;
    }

    @GetMapping
    public List&lt;Coffee&gt; findAll() {
        return service.findAll();
    }

    @GetMapping("/{id}")
    public Coffee findById(@PathVariable Long id) {
        return service.findById(id);
    }

    @PostMapping
    @ResponseStatus(HttpStatus.CREATED)
    public Coffee create(@RequestBody @Valid CoffeeRequest req) {
        return service.create(req);
    }

    @DeleteMapping("/{id}")
    @ResponseStatus(HttpStatus.NO_CONTENT)
    public void delete(@PathVariable Long id) {
        service.delete(id);
    }
}

// Service layer — business logic
@Service
public class CoffeeService {

    private final CoffeeRepository repo;

    @Value("${coffee.default-size:MEDIUM}")   // reads from application.properties
    private String defaultSize;

    public CoffeeService(CoffeeRepository repo) {
        this.repo = repo;
    }

    public List&lt;Coffee&gt; findAll() {
        return repo.findAll();
    }

    public Coffee findById(Long id) {
        return repo.findById(id)
            .orElseThrow(() -&gt; new NotFoundException("Coffee not found: " + id));
    }
}

// Repository — data access (Spring Data JPA generates the implementation)
@Repository
public interface CoffeeRepository extends JpaRepository&lt;Coffee, Long&gt; {
    List&lt;Coffee&gt; findByRoast(String roast);                   // derived query
    Optional&lt;Coffee&gt; findByNameIgnoreCase(String name);        // derived query

    @Query("SELECT c FROM Coffee c WHERE c.price &lt; :max")
    List&lt;Coffee&gt; findAffordable(@Param("max") double max);    // custom JPQL
}</code></pre>

                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Annotation</th>
                                <th>Layer</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>@SpringBootApplication</code></td>
                                <td>App entry</td>
                                <td>Enables auto-config, component scanning, configuration</td>
                            </tr>
                            <tr>
                                <td><code>@RestController</code></td>
                                <td>Web</td>
                                <td>Combines @Controller + @ResponseBody (JSON by default)</td>
                            </tr>
                            <tr>
                                <td><code>@Service</code></td>
                                <td>Business</td>
                                <td>Marks a service component for DI scanning</td>
                            </tr>
                            <tr>
                                <td><code>@Repository</code></td>
                                <td>Data</td>
                                <td>Marks a data access component, adds exception translation</td>
                            </tr>
                            <tr>
                                <td><code>@Autowired</code></td>
                                <td>Any</td>
                                <td>Injects a dependency (prefer constructor injection)</td>
                            </tr>
                            <tr>
                                <td><code>@Value("${key}")</code></td>
                                <td>Any</td>
                                <td>Injects a value from application.properties/yml</td>
                            </tr>
                            <tr>
                                <td><code>@Component</code></td>
                                <td>Any</td>
                                <td>Generic Spring-managed bean (parent of @Service, @Repository)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code># application.properties
server.port=8080
spring.application.name=coffee-shop

# Database
spring.datasource.url=jdbc:postgresql://localhost:5432/coffeedb
spring.datasource.username=barista
spring.datasource.password=brew123
spring.jpa.hibernate.ddl-auto=validate

# Logging
logging.level.com.coffeeshop=DEBUG
logging.level.org.springframework.web=INFO</code></pre>

<pre><code># application.yml (alternative format — same settings)
server:
  port: 8080

spring:
  application:
    name: coffee-shop
  datasource:
    url: jdbc:postgresql://localhost:5432/coffeedb
    username: barista
    password: brew123
  jpa:
    hibernate:
      ddl-auto: validate

logging:
  level:
    com.coffeeshop: DEBUG
    org.springframework.web: INFO</code></pre>
            </div>

            <!-- Jakarta EE -->
            <div class="subsection">
                <h3 class="subsection-title">Jakarta EE</h3>
                <p class="subsection-description">The official enterprise Java platform (formerly Java EE). A set of specifications implemented by application servers like WildFly, Payara, and Open Liberty.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Spec</th>
                                <th>Purpose</th>
                                <th>Spring Equivalent</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>Jakarta Servlet</code></td>
                                <td>HTTP request/response handling</td>
                                <td>Spring MVC (DispatcherServlet)</td>
                            </tr>
                            <tr>
                                <td><code>Jakarta Persistence (JPA)</code></td>
                                <td>ORM / database mapping</td>
                                <td>Spring Data JPA (uses JPA under the hood)</td>
                            </tr>
                            <tr>
                                <td><code>Jakarta CDI</code></td>
                                <td>Dependency injection</td>
                                <td>Spring IoC container</td>
                            </tr>
                            <tr>
                                <td><code>Jakarta RESTful Web Services</code></td>
                                <td>REST APIs (JAX-RS)</td>
                                <td>Spring MVC @RestController</td>
                            </tr>
                            <tr>
                                <td><code>Jakarta Bean Validation</code></td>
                                <td>@NotNull, @Size, @Email, etc.</td>
                                <td>Spring uses Bean Validation directly</td>
                            </tr>
                            <tr>
                                <td><code>Jakarta JSON Processing</code></td>
                                <td>JSON parsing and generation</td>
                                <td>Jackson (default in Spring Boot)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="tip-box">
                    <p><strong>Spring vs Jakarta EE:</strong> Spring Boot dominates the job market and startup scene with its opinionated, rapid-development approach. Jakarta EE is common in large enterprises and government. Both use JPA for persistence, Bean Validation for constraints, and similar annotation-driven models. Skills transfer well between them.</p>
                </div>
            </div>

            <!-- Popular Libraries -->
            <div class="subsection">
                <h3 class="subsection-title">Popular Libraries</h3>
                <p class="subsection-description">Essential libraries that most Java projects depend on. Know what they do and when to reach for them.</p>
                <div class="card-grid">
                    <div class="card">
                        <h4>Lombok</h4>
                        <p>Reduces boilerplate with compile-time annotations. Generates getters, setters, constructors, builders, and more.</p>
<pre><code>@Data               // getters + setters + toString + equals + hashCode
@Builder             // fluent builder pattern
@Slf4j               // private static final Logger log = ...
@NoArgsConstructor
@AllArgsConstructor
public class Coffee {
    private String name;
    private double price;
    private Size size;
}

// Usage with builder
Coffee c = Coffee.builder()
    .name("Latte")
    .price(4.50)
    .size(Size.MEDIUM)
    .build();</code></pre>
                    </div>
                    <div class="card">
                        <h4>Jackson</h4>
                        <p>The standard JSON library for Java. Used by Spring Boot by default. Serializes/deserializes Java objects to/from JSON.</p>
<pre><code>ObjectMapper mapper = new ObjectMapper();

// Object to JSON
String json = mapper.writeValueAsString(coffee);

// JSON to Object
Coffee c = mapper.readValue(json, Coffee.class);

// Annotations
@JsonProperty("drink_name")    // custom field name
@JsonIgnore                    // exclude from JSON
@JsonFormat(pattern = "yyyy-MM-dd")
private LocalDate createdAt;</code></pre>
                    </div>
                    <div class="card">
                        <h4>SLF4J + Logback</h4>
                        <p>The standard logging stack. SLF4J is the API facade; Logback is the default implementation in Spring Boot.</p>
<pre><code>import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

class OrderService {
    private static final Logger log =
        LoggerFactory.getLogger(OrderService.class);

    void process(Order order) {
        log.info("Processing order: {}", order.getId());
        log.debug("Order details: {}", order);
        log.warn("Low stock for: {}", order.getDrink());
        log.error("Payment failed", exception);
    }
}
// With Lombok: just add @Slf4j to the class</code></pre>
                    </div>
                    <div class="card">
                        <h4>Apache Commons</h4>
                        <p>Battle-tested utility libraries for strings, collections, I/O, and more.</p>
<pre><code>// commons-lang3
StringUtils.isBlank(str);          // null-safe
StringUtils.capitalize("latte");   // "Latte"
StringUtils.abbreviate(text, 50);  // truncate

// commons-collections4
CollectionUtils.isEmpty(list);     // null-safe
CollectionUtils.union(a, b);

// commons-io
FileUtils.readFileToString(file, UTF_8);
IOUtils.copy(inputStream, outputStream);</code></pre>
                    </div>
                    <div class="card">
                        <h4>MapStruct</h4>
                        <p>Compile-time object mapper. Generates type-safe mapping code between DTOs and entities. No reflection overhead.</p>
<pre><code>@Mapper(componentModel = "spring")
public interface CoffeeMapper {

    CoffeeDto toDto(Coffee entity);
    Coffee toEntity(CoffeeDto dto);

    @Mapping(source = "name", target = "drinkName")
    @Mapping(target = "id", ignore = true)
    Coffee fromRequest(CoffeeRequest req);
}
// MapStruct generates the implementation at compile time</code></pre>
                    </div>
                    <div class="card">
                        <h4>Google Guava</h4>
                        <p>Google's core libraries for Java. Immutable collections, caching, hashing, string utilities, and more.</p>
<pre><code>// Immutable collections
ImmutableList&lt;String&gt; menu =
    ImmutableList.of("Espresso", "Latte");

// Multimap — one key, multiple values
Multimap&lt;String, Coffee&gt; byRoast =
    ArrayListMultimap.create();
byRoast.put("dark", espresso);
byRoast.put("dark", mocha);

// Cache with auto-loading
LoadingCache&lt;String, Coffee&gt; cache =
    CacheBuilder.newBuilder()
        .maximumSize(100)
        .expireAfterWrite(Duration.ofMinutes(10))
        .build(CacheLoader.from(repo::findByName));</code></pre>
                    </div>
                </div>
            </div>

            <!-- HTTP Clients -->
            <div class="subsection">
                <h3 class="subsection-title">HTTP Clients</h3>
                <p class="subsection-description">Java offers multiple HTTP client options depending on your framework and requirements.</p>
<pre><code>// java.net.http.HttpClient (Java 11+) — no dependencies needed
HttpClient client = HttpClient.newHttpClient();

HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("https://api.coffeeshop.com/menu"))
    .header("Accept", "application/json")
    .GET()
    .build();

HttpResponse&lt;String&gt; response = client.send(
    request, HttpResponse.BodyHandlers.ofString()
);

System.out.println(response.statusCode());  // 200
System.out.println(response.body());        // JSON string

// Async request
CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; future = client.sendAsync(
    request, HttpResponse.BodyHandlers.ofString()
);
future.thenAccept(r -&gt; System.out.println(r.body()));</code></pre>

<pre><code>// Spring RestClient (Spring 6.1+ / Boot 3.2+) — modern, fluent, synchronous
@Service
class MenuClient {
    private final RestClient restClient;

    MenuClient(RestClient.Builder builder) {
        this.restClient = builder
            .baseUrl("https://api.coffeeshop.com")
            .build();
    }

    List&lt;Coffee&gt; getMenu() {
        return restClient.get()
            .uri("/menu")
            .retrieve()
            .body(new ParameterizedTypeReference&lt;&gt;() {});
    }

    Coffee getById(Long id) {
        return restClient.get()
            .uri("/menu/{id}", id)
            .retrieve()
            .body(Coffee.class);
    }
}</code></pre>

                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Client</th>
                                <th>Since</th>
                                <th>Style</th>
                                <th>Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>java.net.http.HttpClient</code></td>
                                <td>Java 11</td>
                                <td>Sync + async</td>
                                <td>No-dependency projects, scripts</td>
                            </tr>
                            <tr>
                                <td><code>Spring RestClient</code></td>
                                <td>Spring 6.1</td>
                                <td>Sync, fluent</td>
                                <td>Spring Boot apps (recommended)</td>
                            </tr>
                            <tr>
                                <td><code>Spring WebClient</code></td>
                                <td>Spring 5</td>
                                <td>Reactive (non-blocking)</td>
                                <td>WebFlux / reactive apps</td>
                            </tr>
                            <tr>
                                <td><code>Spring RestTemplate</code></td>
                                <td>Spring 3</td>
                                <td>Sync, template</td>
                                <td>Legacy code (in maintenance mode)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Database Access -->
            <div class="subsection">
                <h3 class="subsection-title">Database Access</h3>
                <p class="subsection-description">From raw JDBC to Spring Data JPA. Each layer adds convenience while the one below it handles the heavy lifting.</p>
<pre><code>// JDBC — low-level, full control
try (Connection conn = DriverManager.getConnection(
        "jdbc:postgresql://localhost:5432/coffeedb", "barista", "brew123");
     PreparedStatement ps = conn.prepareStatement(
        "SELECT name, price FROM coffees WHERE roast = ?")) {

    ps.setString(1, "dark");
    try (ResultSet rs = ps.executeQuery()) {
        while (rs.next()) {
            String name = rs.getString("name");
            double price = rs.getDouble("price");
            System.out.println(name + ": $" + price);
        }
    }
}
// Verbose but gives full control over SQL and connection lifecycle</code></pre>

<pre><code>// JPA Entity — maps a Java class to a database table
import jakarta.persistence.*;

@Entity
@Table(name = "coffees")
public class Coffee {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false, length = 100)
    private String name;

    @Column(nullable = false)
    private double price;

    @Enumerated(EnumType.STRING)
    private Roast roast;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "shop_id")
    private Shop shop;

    // constructors, getters, setters
}</code></pre>

<pre><code>// Spring Data JPA Repository — generates queries from method names
@Repository
public interface CoffeeRepository extends JpaRepository&lt;Coffee, Long&gt; {

    // Derived queries — Spring generates SQL from the method name
    List&lt;Coffee&gt; findByRoast(Roast roast);
    List&lt;Coffee&gt; findByPriceLessThan(double maxPrice);
    Optional&lt;Coffee&gt; findByNameIgnoreCase(String name);
    List&lt;Coffee&gt; findByRoastAndPriceBetween(Roast roast, double min, double max);
    boolean existsByName(String name);
    long countByRoast(Roast roast);

    // Custom JPQL query
    @Query("SELECT c FROM Coffee c WHERE c.price = (SELECT MIN(c2.price) FROM Coffee c2)")
    Optional&lt;Coffee&gt; findCheapest();

    // Native SQL query
    @Query(value = "SELECT * FROM coffees WHERE name ILIKE %:search%", nativeQuery = true)
    List&lt;Coffee&gt; search(@Param("search") String search);
}

// Usage — Spring auto-implements the interface
@Service
class CoffeeService {
    private final CoffeeRepository repo;

    CoffeeService(CoffeeRepository repo) { this.repo = repo; }

    public List&lt;Coffee&gt; findDarkRoasts() {
        return repo.findByRoast(Roast.DARK);     // no SQL to write
    }

    public Coffee save(Coffee coffee) {
        return repo.save(coffee);                 // insert or update
    }

    public void delete(Long id) {
        repo.deleteById(id);
    }
}</code></pre>
            </div>

            <!-- Useful Tools -->
            <div class="subsection">
                <h3 class="subsection-title">Useful Tools</h3>
                <p class="subsection-description">Essential tools for packaging, performance analysis, and native compilation in the Java ecosystem.</p>
                <div class="table-wrapper overflow-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Tool</th>
                                <th>Since</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>jlink</code></td>
                                <td>Java 9</td>
                                <td>Creates custom minimal JRE with only the modules your app needs. Reduces image size from ~300MB to ~30MB.</td>
                            </tr>
                            <tr>
                                <td><code>jpackage</code></td>
                                <td>Java 14</td>
                                <td>Creates native installers (.msi, .dmg, .deb, .rpm) for Java applications. Bundles a custom JRE.</td>
                            </tr>
                            <tr>
                                <td><code>GraalVM native-image</code></td>
                                <td>GraalVM</td>
                                <td>Ahead-of-time compilation to native executables. Instant startup (~10ms), low memory footprint. Ideal for CLIs, serverless, containers.</td>
                            </tr>
                            <tr>
                                <td><code>VisualVM</code></td>
                                <td>External</td>
                                <td>Visual monitoring and profiling. CPU/memory usage, thread dumps, heap analysis, GC monitoring. Connect to running JVMs.</td>
                            </tr>
                            <tr>
                                <td><code>JMH</code></td>
                                <td>OpenJDK</td>
                                <td>Java Microbenchmark Harness. Accurate benchmarking with warmup, JIT-aware measurement. The only reliable way to benchmark Java code.</td>
                            </tr>
                            <tr>
                                <td><code>jconsole</code></td>
                                <td>Java 5</td>
                                <td>Built-in JMX monitoring tool. Memory, threads, classes, MBeans. Ships with the JDK.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

<pre><code># jlink — build a minimal custom JRE
jlink --module-path $JAVA_HOME/jmods \
      --add-modules java.base,java.sql,java.net.http \
      --output custom-jre \
      --strip-debug \
      --compress zip-6

# Result: a ~30MB JRE instead of the full ~300MB JDK
./custom-jre/bin/java -jar barista-api.jar</code></pre>

<pre><code># jpackage — create a native installer
jpackage --type dmg \
         --input target/ \
         --main-jar barista-api-1.0.0.jar \
         --main-class com.coffeeshop.App \
         --name "Barista" \
         --app-version "1.0.0" \
         --icon assets/coffee-icon.icns

# Produces: Barista-1.0.0.dmg (macOS)
# Also supports: --type msi (Windows), --type deb/rpm (Linux)</code></pre>

<pre><code>// JMH Benchmark example
import org.openjdk.jmh.annotations.*;
import java.util.concurrent.TimeUnit;

@BenchmarkMode(Mode.AverageTime)
@OutputTimeUnit(TimeUnit.NANOSECONDS)
@State(Scope.Thread)
@Warmup(iterations = 3, time = 1)
@Measurement(iterations = 5, time = 1)
public class StringBenchmark {

    private String data = "espresso,latte,mocha,cappuccino";

    @Benchmark
    public String[] splitWithRegex() {
        return data.split(",");
    }

    @Benchmark
    public List&lt;String&gt; splitWithStringTokenizer() {
        var tokens = new StringTokenizer(data, ",");
        var list = new ArrayList&lt;String&gt;();
        while (tokens.hasMoreTokens()) {
            list.add(tokens.nextToken());
        }
        return list;
    }

    // Run: java -jar benchmarks.jar
    // Results show avg time per operation with error margins
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-icon">&#8505;</span>
                    <div class="alert-content">
                        <p class="alert-title">GraalVM Native Image</p>
                        <p>Spring Boot 3+ has first-class support for GraalVM native compilation. Add the <span class="code-inline">org.graalvm.buildtools.native</span> Gradle plugin or use <span class="code-inline">spring-boot-starter-parent</span> with the <span class="code-inline">native</span> Maven profile. Build with <span class="code-inline">./gradlew nativeCompile</span> or <span class="code-inline">mvn -Pnative package</span>. Startup drops from seconds to milliseconds, but build times increase significantly.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <footer class="site-footer">
        <div class="footer-content">
            <p class="footer-logo">Java Tech Guide</p>
            <p>Brewed with &#9749; and attention to detail</p>
            <a href="index.html" class="back-link" style="position: static; margin-top: 16px;">&#8592; Back to Tech Guides</a>
        </div>
    </footer>
</body>
</html>