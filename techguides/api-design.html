<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Design & REST — Tech Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* ============================================
           KNOLLING DESIGN SYSTEM — API DESIGN & REST
           ============================================
           Precise arrangement. 90-degree angles.
           Every endpoint aligned. Every response
           structured. Objects on a flat surface.
           ============================================ */

        :root {
            /* Typography */
            --font-sans: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-mono: 'IBM Plex Mono', 'SF Mono', Monaco, monospace;

            /* Spacing Scale — Precise 8px grid */
            --space-1: 4px;
            --space-2: 8px;
            --space-3: 16px;
            --space-4: 24px;
            --space-5: 32px;
            --space-6: 48px;
            --space-7: 64px;
            --space-8: 96px;
            --space-9: 128px;

            /* Core Colors — Neutral surface palette */
            --surface-white: #FFFFFF;
            --surface-paper: #FAFAF8;
            --surface-kraft: #F5F3EE;
            --surface-linen: #EDEBE6;
            --surface-concrete: #E5E3DE;

            /* Object shadows and depth */
            --shadow-light: #D8D6D1;
            --shadow-medium: #C4C2BD;
            --shadow-dark: #9E9C97;

            /* Text colors */
            --ink-black: #1A1918;
            --ink-dark: #2D2C2A;
            --ink-medium: #5C5A56;
            --ink-light: #8A8884;
            --ink-muted: #B5B3AE;

            /* Accent — single pop of color */
            --accent-rust: #C4572A;
            --accent-rust-light: #D97B52;
            --accent-rust-dark: #9E4520;

            /* Secondary accents (muted) */
            --accent-slate: #5B6B73;
            --accent-olive: #6B7355;
            --accent-clay: #8B7355;

            /* Semantic */
            --text-primary: var(--ink-black);
            --text-secondary: var(--ink-medium);
            --text-muted: var(--ink-light);
            --bg-primary: var(--surface-paper);
            --bg-surface: var(--surface-white);
            --border-color: var(--shadow-light);
            --accent: var(--accent-rust);

            /* HTTP Method Colors */
            --method-get: #3D7A40;
            --method-get-bg: #E8F5E9;
            --method-post: #2A5EA8;
            --method-post-bg: #E3F2FD;
            --method-put: #C4722A;
            --method-put-bg: #FFF3E0;
            --method-patch: #9E8A20;
            --method-patch-bg: #FFFDE7;
            --method-delete: #B33A3A;
            --method-delete-bg: #FFEBEE;

            /* Status code colors */
            --status-2xx: #3D7A40;
            --status-3xx: #2A5EA8;
            --status-4xx: #C4722A;
            --status-5xx: #B33A3A;

            /* Alert colors */
            --alert-info-bg: #EDF2F7;
            --alert-info-border: #A0B4C8;
            --alert-info-text: #2A4A6B;
            --alert-warning-bg: #FFFBEB;
            --alert-warning-border: #D4A843;
            --alert-warning-text: #7A5E1E;
            --alert-tip-bg: #F0F7F0;
            --alert-tip-border: #6B9E6B;
            --alert-tip-text: #2D5A2D;

            /* Object shadows — key to the flat-lay look */
            --shadow-object:
                0 1px 1px rgba(0, 0, 0, 0.04),
                0 2px 4px rgba(0, 0, 0, 0.04),
                0 4px 8px rgba(0, 0, 0, 0.04);
            --shadow-object-hover:
                0 2px 2px rgba(0, 0, 0, 0.04),
                0 4px 8px rgba(0, 0, 0, 0.06),
                0 8px 16px rgba(0, 0, 0, 0.06);
            --shadow-object-lifted:
                0 4px 4px rgba(0, 0, 0, 0.04),
                0 8px 16px rgba(0, 0, 0, 0.08),
                0 16px 32px rgba(0, 0, 0, 0.08);

            /* Transitions */
            --transition-fast: 0.1s ease;
            --transition-base: 0.2s ease;
            --transition-slow: 0.3s ease;
        }

        /* ============================================
           RESET & BASE
           ============================================ */

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            scroll-padding-top: 52px;
        }

        body {
            font-family: var(--font-sans);
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-image:
                linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(0, 0, 0, 0.015) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.015) 1px, transparent 1px);
            background-size: 64px 64px, 64px 64px, 8px 8px, 8px 8px;
        }

        /* ============================================
           CONTAINER
           ============================================ */

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 var(--space-3);
            }
        }

        /* ============================================
           TYPOGRAPHY
           ============================================ */

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-sans);
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.01em;
            color: var(--text-primary);
        }

        h1 { font-size: 2.5rem; font-weight: 700; letter-spacing: -0.02em; }
        h2 { font-size: 1.75rem; margin-bottom: var(--space-4); }
        h3 { font-size: 1.25rem; margin-bottom: var(--space-3); }
        h4 { font-size: 1rem; font-weight: 600; margin-bottom: var(--space-2); }

        p {
            margin-bottom: var(--space-3);
            max-width: 65ch;
            color: var(--text-secondary);
        }

        .label {
            font-size: 0.6875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
        }

        ::selection {
            background: var(--accent);
            color: var(--surface-white);
        }

        /* ============================================
           BACK LINK
           ============================================ */

        .back-link {
            display: inline-flex;
            align-items: center;
            padding: var(--space-3) var(--space-6);
            font-family: var(--font-mono);
            font-size: 0.8125rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        .back-link:hover {
            color: var(--accent);
        }

        /* ============================================
           SITE HEADER
           ============================================ */

        .site-header {
            padding: var(--space-8) 0 var(--space-7);
            background: var(--surface-kraft);
            border-bottom: 1px solid var(--border-color);
            position: relative;
        }

        .site-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                linear-gradient(rgba(0, 0, 0, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.02) 1px, transparent 1px);
            background-size: 8px 8px;
            pointer-events: none;
        }

        .site-header .container {
            position: relative;
        }

        .site-header .label {
            color: var(--accent);
            margin-bottom: var(--space-2);
            display: block;
        }

        .site-header h1 {
            margin-bottom: var(--space-3);
        }

        .site-header .tagline {
            font-size: 1.0625rem;
            color: var(--text-secondary);
            max-width: 48ch;
            margin-bottom: 0;
        }

        @media (max-width: 768px) {
            .site-header {
                padding: var(--space-7) 0 var(--space-6);
            }
            .site-header h1 {
                font-size: 1.75rem;
            }
        }

        /* ============================================
           JUMP NAV — Sticky horizontal navigation
           ============================================ */

        .jump-nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background: var(--surface-white);
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        .jump-nav .container {
            display: flex;
            justify-content: center;
            gap: 0;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .jump-nav .container::-webkit-scrollbar {
            display: none;
        }

        .jump-nav a {
            display: inline-flex;
            align-items: center;
            padding: var(--space-3) var(--space-3);
            font-family: var(--font-mono);
            font-size: 0.6875rem;
            font-weight: 500;
            color: var(--text-muted);
            text-decoration: none;
            white-space: nowrap;
            flex-shrink: 0;
            border-bottom: 2px solid transparent;
            transition: all var(--transition-fast);
            text-transform: uppercase;
            letter-spacing: 0.04em;
        }

        .jump-nav a:hover {
            color: var(--accent);
            border-bottom-color: var(--accent);
            background: var(--surface-kraft);
        }

        @media (max-width: 768px) {
            .jump-nav .container {
                justify-content: flex-start;
            }

            .jump-nav a {
                padding: var(--space-2) var(--space-3);
                font-size: 0.625rem;
            }
        }

        /* ============================================
           SECTIONS
           ============================================ */

        .section {
            padding: var(--space-7) 0;
            border-bottom: 1px solid var(--border-color);
        }

        .section:last-of-type {
            border-bottom: none;
        }

        .section-header {
            margin-bottom: var(--space-6);
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            font-family: var(--font-mono);
            font-size: 0.8125rem;
            font-weight: 500;
            color: var(--accent);
            margin-bottom: var(--space-3);
            box-shadow: var(--shadow-object);
        }

        .section-title {
            margin-bottom: var(--space-2);
        }

        .section-description {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 55ch;
        }

        /* ============================================
           SUBSECTIONS
           ============================================ */

        .subsection {
            margin-bottom: var(--space-6);
        }

        .subsection:last-child {
            margin-bottom: 0;
        }

        .subsection-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            padding-bottom: var(--space-2);
            border-bottom: 1px solid var(--border-color);
        }

        /* ============================================
           CODE BLOCKS
           ============================================ */

        pre {
            background: var(--ink-black);
            color: #D4D2CD;
            padding: var(--space-4);
            margin-bottom: var(--space-4);
            overflow-x: auto;
            font-family: var(--font-mono);
            font-size: 0.8125rem;
            line-height: 1.7;
            border: 1px solid var(--ink-dark);
            box-shadow: var(--shadow-object);
            -webkit-overflow-scrolling: touch;
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
            font-size: inherit;
        }

        .inline-code, code:not(pre code) {
            font-family: var(--font-mono);
            font-size: 0.8125rem;
            background: var(--surface-linen);
            padding: 2px 6px;
            border: 1px solid var(--border-color);
            color: var(--accent-rust-dark);
        }

        /* Syntax highlighting hints inside pre */
        pre .comment { color: #6B6963; }
        pre .keyword { color: #D97B52; }
        pre .string { color: #8BB664; }
        pre .number { color: #D4A843; }
        pre .method { color: #7EB8DA; }
        pre .url { color: #B5B3AE; }
        pre .status { color: #8BB664; }

        /* ============================================
           TABLES
           ============================================ */

        .table-wrapper {
            overflow-x: auto;
            margin-bottom: var(--space-4);
            -webkit-overflow-scrolling: touch;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-object);
            font-size: 0.875rem;
            margin-bottom: var(--space-4);
        }

        thead {
            background: var(--surface-kraft);
        }

        th {
            text-align: left;
            padding: var(--space-3) var(--space-3);
            font-family: var(--font-mono);
            font-size: 0.6875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            color: var(--text-secondary);
            border-bottom: 2px solid var(--border-color);
            white-space: nowrap;
        }

        td {
            padding: var(--space-2) var(--space-3);
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
            vertical-align: top;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover td {
            background: var(--surface-paper);
        }

        td code {
            font-size: 0.75rem;
        }

        /* ============================================
           COMMAND GRID & CARDS
           ============================================ */

        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-3);
            margin-bottom: var(--space-4);
        }

        .command-card {
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            padding: var(--space-4);
            min-width: 0;
            box-shadow: var(--shadow-object);
            transition: all var(--transition-base);
        }

        .command-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-object-hover);
        }

        .command-card h4 {
            font-size: 0.9375rem;
            margin-bottom: var(--space-2);
            color: var(--text-primary);
        }

        .command-card p {
            font-size: 0.8125rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-2);
        }

        .command-card pre {
            margin-bottom: 0;
            font-size: 0.75rem;
        }

        .command-card .card-number {
            font-family: var(--font-mono);
            font-size: 0.625rem;
            font-weight: 500;
            color: var(--text-muted);
            background: var(--surface-kraft);
            padding: 2px 6px;
            border: 1px solid var(--border-color);
            display: inline-block;
            margin-bottom: var(--space-2);
        }

        @media (max-width: 768px) {
            .command-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ============================================
           ALERTS / CALLOUTS
           ============================================ */

        .alert {
            padding: var(--space-4);
            margin-bottom: var(--space-4);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-object);
            font-size: 0.875rem;
        }

        .alert p {
            margin-bottom: var(--space-2);
            font-size: 0.875rem;
        }

        .alert p:last-child {
            margin-bottom: 0;
        }

        .alert-label {
            font-family: var(--font-mono);
            font-size: 0.625rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: var(--space-2);
            display: block;
        }

        .alert-info {
            background: var(--alert-info-bg);
            border-color: var(--alert-info-border);
        }
        .alert-info .alert-label { color: var(--alert-info-text); }

        .alert-warning {
            background: var(--alert-warning-bg);
            border-color: var(--alert-warning-border);
        }
        .alert-warning .alert-label { color: var(--alert-warning-text); }

        .alert-tip {
            background: var(--alert-tip-bg);
            border-color: var(--alert-tip-border);
        }
        .alert-tip .alert-label { color: var(--alert-tip-text); }

        /* ============================================
           BADGES
           ============================================ */

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 2px 8px;
            font-family: var(--font-mono);
            font-size: 0.625rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
        }

        .badge-accent {
            background: var(--accent);
            border-color: var(--accent-rust-dark);
            color: var(--surface-white);
        }

        .badge-dark {
            background: var(--ink-black);
            border-color: var(--ink-black);
            color: var(--surface-white);
        }

        .badge-row {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
            margin-bottom: var(--space-3);
        }

        /* ============================================
           METHOD BADGES — HTTP verbs
           ============================================ */

        .method-badge {
            display: inline-flex;
            align-items: center;
            padding: 2px 10px;
            font-family: var(--font-mono);
            font-size: 0.6875rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            border: 1px solid;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
        }

        .method-get {
            background: var(--method-get-bg);
            border-color: var(--method-get);
            color: var(--method-get);
        }

        .method-post {
            background: var(--method-post-bg);
            border-color: var(--method-post);
            color: var(--method-post);
        }

        .method-put {
            background: var(--method-put-bg);
            border-color: var(--method-put);
            color: var(--method-put);
        }

        .method-patch {
            background: var(--method-patch-bg);
            border-color: var(--method-patch);
            color: var(--method-patch);
        }

        .method-delete {
            background: var(--method-delete-bg);
            border-color: var(--method-delete);
            color: var(--method-delete);
        }

        /* ============================================
           STATUS CODE BADGES
           ============================================ */

        .status-code {
            display: inline-flex;
            align-items: center;
            padding: 2px 8px;
            font-family: var(--font-mono);
            font-size: 0.6875rem;
            font-weight: 600;
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
        }

        .status-2xx { color: var(--status-2xx); border-color: var(--status-2xx); }
        .status-3xx { color: var(--status-3xx); border-color: var(--status-3xx); }
        .status-4xx { color: var(--status-4xx); border-color: var(--status-4xx); }
        .status-5xx { color: var(--status-5xx); border-color: var(--status-5xx); }

        /* ============================================
           SPEC BLOCK
           ============================================ */

        .spec-block {
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            padding: var(--space-4);
            box-shadow: var(--shadow-object);
            margin-bottom: var(--space-4);
        }

        .spec-block h4 {
            margin-bottom: var(--space-3);
        }

        .spec-block p {
            font-size: 0.875rem;
        }

        .spec-row {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            padding: var(--space-2) 0;
            border-bottom: 1px solid var(--border-color);
            gap: var(--space-4);
        }

        .spec-row:last-child {
            border-bottom: none;
        }

        .spec-key {
            font-size: 0.8125rem;
            color: var(--text-muted);
            white-space: nowrap;
        }

        .spec-value {
            font-family: var(--font-mono);
            font-size: 0.8125rem;
            color: var(--text-primary);
            text-align: right;
        }

        /* ============================================
           RULER ACCENT
           ============================================ */

        .ruler {
            height: 8px;
            background: var(--surface-white);
            border: 1px solid var(--border-color);
            margin-bottom: var(--space-4);
            position: relative;
            box-shadow: var(--shadow-object);
        }

        .ruler::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 7px,
                var(--border-color) 7px,
                var(--border-color) 8px
            );
        }

        /* ============================================
           GRID LAYOUT HELPERS
           ============================================ */

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        /* ============================================
           FOOTER
           ============================================ */

        .site-footer {
            padding: var(--space-7) 0;
            background: var(--surface-kraft);
            text-align: center;
            margin-top: var(--space-7);
            border-top: 1px solid var(--border-color);
            position: relative;
        }

        .site-footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                linear-gradient(rgba(0, 0, 0, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.02) 1px, transparent 1px);
            background-size: 8px 8px;
            pointer-events: none;
        }

        .site-footer .container {
            position: relative;
        }

        .site-footer a {
            font-family: var(--font-mono);
            font-size: 0.8125rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        .site-footer a:hover {
            color: var(--accent);
        }

        .site-footer p {
            color: var(--text-muted);
            font-size: 0.8125rem;
            margin: var(--space-2) auto 0;
            max-width: none;
        }

        /* ============================================
           SCROLLBAR
           ============================================ */

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--surface-kraft);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--shadow-medium);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--shadow-dark);
        }

        /* ============================================
           UTILITIES
           ============================================ */

        .mb-0 { margin-bottom: 0; }
        .mb-2 { margin-bottom: var(--space-2); }
        .mb-3 { margin-bottom: var(--space-3); }
        .mb-4 { margin-bottom: var(--space-4); }
        .mb-5 { margin-bottom: var(--space-5); }
        .mt-3 { margin-top: var(--space-3); }
        .mt-4 { margin-top: var(--space-4); }
        .mt-5 { margin-top: var(--space-5); }
        .text-center { text-align: center; }
        .text-muted { color: var(--text-muted); }
        .mono { font-family: var(--font-mono); }
    </style>
</head>
<body>

    <a href="index.html" class="back-link">&larr; Tech Guides</a>

    <!-- ============================================
         HEADER
         ============================================ -->

    <header class="site-header">
        <div class="container">
            <span class="label">TECH GUIDE</span>
            <h1>API Design &amp; REST</h1>
            <p class="tagline">Designing precise, well-organized interfaces. Every endpoint aligned. Every response structured.</p>
        </div>
    </header>

    <!-- ============================================
         JUMP NAV
         ============================================ -->

    <nav class="jump-nav">
        <div class="container">
            <a href="#quick-reference">Quick Reference</a>
            <a href="#rest-fundamentals">REST Fundamentals</a>
            <a href="#url-design">URL Design</a>
            <a href="#http-methods">HTTP Methods</a>
            <a href="#status-codes">Status Codes</a>
            <a href="#request-response">Request &amp; Response</a>
            <a href="#authentication">Authentication</a>
            <a href="#pagination">Pagination &amp; Filtering</a>
            <a href="#error-handling">Error Handling</a>
            <a href="#versioning">Versioning</a>
            <a href="#documentation">Documentation</a>
            <a href="#best-practices">Best Practices</a>
        </div>
    </nav>

    <main class="container">

        <!-- ============================================
             SECTION 01: QUICK REFERENCE
             ============================================ -->

        <section id="quick-reference" class="section">
            <div class="section-header">
                <div class="section-number">01</div>
                <h2 class="section-title">Quick Reference</h2>
                <p class="section-description">HTTP methods, essential status codes, and common headers at a glance. The cheat sheet you keep on the desk.</p>
            </div>

            <div class="ruler"></div>

            <!-- HTTP Methods at a Glance -->
            <div class="subsection">
                <h3 class="subsection-title">HTTP Methods at a Glance</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Purpose</th>
                                <th>Idempotent</th>
                                <th>Safe</th>
                                <th>Request Body</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="method-badge method-get">GET</span></td>
                                <td>Retrieve a resource or collection</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-post">POST</span></td>
                                <td>Create a new resource</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-put">PUT</span></td>
                                <td>Replace a resource entirely</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-patch">PATCH</span></td>
                                <td>Partially update a resource</td>
                                <td>No*</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-delete">DELETE</span></td>
                                <td>Remove a resource</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>Optional</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <span class="alert-label">Note</span>
                    <p class="mb-0"><strong>Idempotent</strong> means calling the same request multiple times produces the same result. <strong>Safe</strong> means the method does not modify server state. *PATCH can be idempotent depending on implementation.</p>
                </div>
            </div>

            <!-- Essential Status Codes -->
            <div class="subsection">
                <h3 class="subsection-title">Essential Status Codes</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Name</th>
                                <th>When to Use</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status-code status-2xx">200</span></td>
                                <td>OK</td>
                                <td>Successful GET, PUT, PATCH, or DELETE</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-2xx">201</span></td>
                                <td>Created</td>
                                <td>Successful POST that creates a resource</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-2xx">204</span></td>
                                <td>No Content</td>
                                <td>Successful DELETE with no response body</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-3xx">301</span></td>
                                <td>Moved Permanently</td>
                                <td>Resource URL has permanently changed</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-3xx">304</span></td>
                                <td>Not Modified</td>
                                <td>Cached version is still valid</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">400</span></td>
                                <td>Bad Request</td>
                                <td>Malformed syntax or invalid parameters</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">401</span></td>
                                <td>Unauthorized</td>
                                <td>Missing or invalid authentication</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">403</span></td>
                                <td>Forbidden</td>
                                <td>Authenticated but lacks permission</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">404</span></td>
                                <td>Not Found</td>
                                <td>Resource does not exist</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">409</span></td>
                                <td>Conflict</td>
                                <td>Request conflicts with current state</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">422</span></td>
                                <td>Unprocessable Entity</td>
                                <td>Valid syntax but semantic errors</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">429</span></td>
                                <td>Too Many Requests</td>
                                <td>Rate limit exceeded</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-5xx">500</span></td>
                                <td>Internal Server Error</td>
                                <td>Unhandled server-side failure</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-5xx">503</span></td>
                                <td>Service Unavailable</td>
                                <td>Server temporarily overloaded or in maintenance</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Common Headers Quick Reference -->
            <div class="subsection">
                <h3 class="subsection-title">Common Headers</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">REQUEST</span>
                        <h4>Content-Type</h4>
                        <p>MIME type of the request body</p>
                        <pre><code>Content-Type: application/json</code></pre>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUEST</span>
                        <h4>Accept</h4>
                        <p>Expected response format</p>
                        <pre><code>Accept: application/json</code></pre>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUEST</span>
                        <h4>Authorization</h4>
                        <p>Authentication credentials</p>
                        <pre><code>Authorization: Bearer &lt;token&gt;</code></pre>
                    </div>
                    <div class="command-card">
                        <span class="card-number">RESPONSE</span>
                        <h4>Location</h4>
                        <p>URL of newly created resource</p>
                        <pre><code>Location: /api/users/42</code></pre>
                    </div>
                    <div class="command-card">
                        <span class="card-number">RESPONSE</span>
                        <h4>Cache-Control</h4>
                        <p>Caching directives</p>
                        <pre><code>Cache-Control: max-age=3600</code></pre>
                    </div>
                    <div class="command-card">
                        <span class="card-number">BOTH</span>
                        <h4>X-Request-ID</h4>
                        <p>Correlation ID for tracing</p>
                        <pre><code>X-Request-ID: a1b2c3d4-e5f6</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 02: REST FUNDAMENTALS
             ============================================ -->

        <section id="rest-fundamentals" class="section">
            <div class="section-header">
                <div class="section-number">02</div>
                <h2 class="section-title">REST Fundamentals</h2>
                <p class="section-description">The architectural constraints, core concepts, and maturity model that define RESTful design.</p>
            </div>

            <div class="ruler"></div>

            <!-- The 6 REST Constraints -->
            <div class="subsection">
                <h3 class="subsection-title">The 6 REST Constraints</h3>

                <div class="grid-2">
                    <div class="spec-block">
                        <h4>1. Client-Server</h4>
                        <div class="spec-row">
                            <span class="spec-key">Separation</span>
                            <span class="spec-value">UI / Data</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-key">Benefit</span>
                            <span class="spec-value">Independent evolution</span>
                        </div>
                        <p class="mt-3 mb-0" style="font-size: 0.8125rem;">Client and server are decoupled. The client handles presentation, the server manages data storage. Each can evolve independently.</p>
                    </div>

                    <div class="spec-block">
                        <h4>2. Stateless</h4>
                        <div class="spec-row">
                            <span class="spec-key">Server stores</span>
                            <span class="spec-value">No client state</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-key">Each request</span>
                            <span class="spec-value">Self-contained</span>
                        </div>
                        <p class="mt-3 mb-0" style="font-size: 0.8125rem;">Every request contains all the information needed to process it. The server does not store session state between requests.</p>
                    </div>

                    <div class="spec-block">
                        <h4>3. Cacheable</h4>
                        <div class="spec-row">
                            <span class="spec-key">Responses declare</span>
                            <span class="spec-value">Cacheability</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-key">Result</span>
                            <span class="spec-value">Reduced load</span>
                        </div>
                        <p class="mt-3 mb-0" style="font-size: 0.8125rem;">Responses must define themselves as cacheable or non-cacheable. Proper caching eliminates redundant interactions and improves scalability.</p>
                    </div>

                    <div class="spec-block">
                        <h4>4. Uniform Interface</h4>
                        <div class="spec-row">
                            <span class="spec-key">Resources</span>
                            <span class="spec-value">URI-identified</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-key">Manipulation</span>
                            <span class="spec-value">Via representations</span>
                        </div>
                        <p class="mt-3 mb-0" style="font-size: 0.8125rem;">A consistent, predictable interface: resource identification through URIs, manipulation through representations, self-descriptive messages, and HATEOAS.</p>
                    </div>

                    <div class="spec-block">
                        <h4>5. Layered System</h4>
                        <div class="spec-row">
                            <span class="spec-key">Architecture</span>
                            <span class="spec-value">Hierarchical layers</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-key">Client sees</span>
                            <span class="spec-value">Only next layer</span>
                        </div>
                        <p class="mt-3 mb-0" style="font-size: 0.8125rem;">The architecture is composed of layers (proxies, gateways, load balancers). Each component only knows about the layer it directly interacts with.</p>
                    </div>

                    <div class="spec-block">
                        <h4>6. Code on Demand (Optional)</h4>
                        <div class="spec-row">
                            <span class="spec-key">Server sends</span>
                            <span class="spec-value">Executable code</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-key">Constraint</span>
                            <span class="spec-value">Optional</span>
                        </div>
                        <p class="mt-3 mb-0" style="font-size: 0.8125rem;">Servers can extend client functionality by sending executable code (JavaScript, applets). This is the only optional REST constraint.</p>
                    </div>
                </div>
            </div>

            <!-- Resources vs Representations -->
            <div class="subsection">
                <h3 class="subsection-title">Resources vs Representations</h3>

                <div class="grid-2">
                    <div>
                        <h4 class="mb-3">Resource</h4>
                        <p>An abstract concept or entity identified by a URI. A resource is the <em>thing itself</em> &mdash; a user, an order, a product.</p>
                        <pre><code><span class="comment"># The resource (conceptual entity)</span>
/api/users/42

<span class="comment"># This URI always refers to user 42</span>
<span class="comment"># regardless of format or state</span></code></pre>
                    </div>
                    <div>
                        <h4 class="mb-3">Representation</h4>
                        <p>The concrete data format returned when a client requests a resource. The same resource can have multiple representations.</p>
                        <pre><code><span class="comment"># JSON representation</span>
<span class="method">GET</span> /api/users/42
Accept: application/json

{
  "id": 42,
  "name": "Ada Lovelace",
  "email": "ada@example.com"
}

<span class="comment"># XML representation (same resource)</span>
<span class="method">GET</span> /api/users/42
Accept: application/xml

&lt;user&gt;
  &lt;id&gt;42&lt;/id&gt;
  &lt;name&gt;Ada Lovelace&lt;/name&gt;
&lt;/user&gt;</code></pre>
                    </div>
                </div>
            </div>

            <!-- Richardson Maturity Model -->
            <div class="subsection">
                <h3 class="subsection-title">Richardson Maturity Model</h3>
                <p>A model that grades APIs by how well they use HTTP and REST principles. Each level builds on the one below.</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-dark">0</span></td>
                                <td>The Swamp of POX</td>
                                <td>Single URI, single HTTP method (usually POST). HTTP as transport only.</td>
                                <td><code>POST /api</code> with action in body</td>
                            </tr>
                            <tr>
                                <td><span class="badge">1</span></td>
                                <td>Resources</td>
                                <td>Multiple URIs, but still only one HTTP method. Individual resources identified.</td>
                                <td><code>POST /api/users</code>, <code>POST /api/orders</code></td>
                            </tr>
                            <tr>
                                <td><span class="badge">2</span></td>
                                <td>HTTP Verbs</td>
                                <td>Multiple URIs and proper HTTP methods. The standard most APIs target.</td>
                                <td><code>GET /users</code>, <code>POST /users</code>, <code>DELETE /users/42</code></td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-accent">3</span></td>
                                <td>Hypermedia (HATEOAS)</td>
                                <td>Responses include links to related actions. The API is self-describing and discoverable.</td>
                                <td>Response includes <code>"_links": { "self": ..., "orders": ... }</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-tip">
                    <span class="alert-label">Tip</span>
                    <p class="mb-0">Most production APIs target <strong>Level 2</strong>. Level 3 (HATEOAS) is aspirational for many teams but provides significant benefits for API discoverability and evolvability.</p>
                </div>
            </div>

            <!-- REST vs RPC vs GraphQL -->
            <div class="subsection">
                <h3 class="subsection-title">REST vs RPC vs GraphQL</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>REST</th>
                                <th>RPC (gRPC)</th>
                                <th>GraphQL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Paradigm</strong></td>
                                <td>Resource-oriented</td>
                                <td>Action-oriented</td>
                                <td>Query-oriented</td>
                            </tr>
                            <tr>
                                <td><strong>Transport</strong></td>
                                <td>HTTP/1.1, HTTP/2</td>
                                <td>HTTP/2 (Protocol Buffers)</td>
                                <td>HTTP (typically POST)</td>
                            </tr>
                            <tr>
                                <td><strong>Data format</strong></td>
                                <td>JSON, XML, etc.</td>
                                <td>Protobuf (binary)</td>
                                <td>JSON</td>
                            </tr>
                            <tr>
                                <td><strong>Endpoint style</strong></td>
                                <td><code>GET /users/42</code></td>
                                <td><code>GetUser(id: 42)</code></td>
                                <td><code>{ user(id: 42) { name } }</code></td>
                            </tr>
                            <tr>
                                <td><strong>Overfetching</strong></td>
                                <td>Common (fixed schemas)</td>
                                <td>Minimal (typed contracts)</td>
                                <td>Eliminated (client picks fields)</td>
                            </tr>
                            <tr>
                                <td><strong>Caching</strong></td>
                                <td>HTTP caching built in</td>
                                <td>Custom caching needed</td>
                                <td>Complex (single endpoint)</td>
                            </tr>
                            <tr>
                                <td><strong>Best for</strong></td>
                                <td>Public APIs, CRUD</td>
                                <td>Microservices, streaming</td>
                                <td>Complex UIs, mobile apps</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <pre><code><span class="comment"># REST approach</span>
<span class="method">GET</span> /api/users/42 <span class="status">HTTP/1.1</span>
Host: api.example.com
Accept: application/json

<span class="comment"># RPC approach (gRPC-style)</span>
service UserService {
  rpc GetUser (GetUserRequest) returns (User);
}

<span class="comment"># GraphQL approach</span>
<span class="method">POST</span> /graphql
{
  "query": "{ user(id: 42) { name email orders { id total } } }"
}</code></pre>
            </div>
        </section>

        <!-- ============================================
             SECTION 03: URL DESIGN
             ============================================ -->

        <section id="url-design" class="section">
            <div class="section-header">
                <div class="section-number">03</div>
                <h2 class="section-title">URL Design</h2>
                <p class="section-description">Resource naming, path structure, and query parameter conventions. The address system of your API.</p>
            </div>

            <div class="ruler"></div>

            <!-- Resource Naming Rules -->
            <div class="subsection">
                <h3 class="subsection-title">Resource Naming Rules</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">RULE 01</span>
                        <h4>Use Nouns, Not Verbs</h4>
                        <p>Resources are things, not actions. The HTTP method provides the verb.</p>
                        <pre><code><span class="comment"># Good</span>
<span class="method">GET</span>  /users
<span class="method">POST</span> /orders

<span class="comment"># Bad</span>
<span class="method">GET</span>  /getUsers
<span class="method">POST</span> /createOrder</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">RULE 02</span>
                        <h4>Plural Collections</h4>
                        <p>Use plural nouns for collections. Singular for a specific resource within.</p>
                        <pre><code><span class="comment"># Collection</span>
<span class="method">GET</span> /api/articles

<span class="comment"># Single resource</span>
<span class="method">GET</span> /api/articles/507</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">RULE 03</span>
                        <h4>Kebab-Case</h4>
                        <p>Use hyphens for multi-word resource names. Lowercase only.</p>
                        <pre><code><span class="comment"># Good</span>
/api/user-profiles
/api/order-items

<span class="comment"># Bad</span>
/api/userProfiles
/api/order_items</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">RULE 04</span>
                        <h4>No Trailing Slashes</h4>
                        <p>Trailing slashes add no semantic value and create duplicate URIs.</p>
                        <pre><code><span class="comment"># Good</span>
/api/users

<span class="comment"># Bad</span>
/api/users/</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">RULE 05</span>
                        <h4>No File Extensions</h4>
                        <p>Use the Accept header for content negotiation, not the URL.</p>
                        <pre><code><span class="comment"># Good</span>
<span class="method">GET</span> /api/reports/annual
Accept: application/pdf

<span class="comment"># Bad</span>
<span class="method">GET</span> /api/reports/annual.pdf</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">RULE 06</span>
                        <h4>Consistent Hierarchy</h4>
                        <p>Paths reflect the relationship between resources.</p>
                        <pre><code><span class="comment"># Hierarchy reflects ownership</span>
/api/users/42/orders
/api/users/42/orders/7
/api/shops/12/products</code></pre>
                    </div>
                </div>
            </div>

            <!-- Hierarchical Path Structure -->
            <div class="subsection">
                <h3 class="subsection-title">Hierarchical Path Structure</h3>
                <p>URL paths read like an address, narrowing from general to specific.</p>

                <pre><code><span class="comment"># Pattern: /{version}/{resource}/{id}/{sub-resource}/{sub-id}</span>

<span class="comment"># API root</span>
/api/v1

<span class="comment"># Collection of users</span>
/api/v1/users

<span class="comment"># A specific user</span>
/api/v1/users/42

<span class="comment"># Orders belonging to user 42</span>
/api/v1/users/42/orders

<span class="comment"># A specific order belonging to user 42</span>
/api/v1/users/42/orders/107

<span class="comment"># Line items within that order</span>
/api/v1/users/42/orders/107/items</code></pre>

                <div class="spec-block mt-4">
                    <h4>Path Anatomy</h4>
                    <div class="spec-row">
                        <span class="spec-key">Protocol + Host</span>
                        <span class="spec-value">https://api.example.com</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Base path</span>
                        <span class="spec-value">/api/v1</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Collection</span>
                        <span class="spec-value">/users</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Resource ID</span>
                        <span class="spec-value">/42</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Sub-resource</span>
                        <span class="spec-value">/orders</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Query params</span>
                        <span class="spec-value">?status=active&amp;sort=created</span>
                    </div>
                </div>
            </div>

            <!-- Nested Resources -->
            <div class="subsection">
                <h3 class="subsection-title">Nested Resources: When to Nest vs Flatten</h3>

                <div class="grid-2">
                    <div>
                        <h4 class="mb-3">Nest When...</h4>
                        <div class="alert alert-tip">
                            <span class="alert-label">Use nesting</span>
                            <p>The child resource <strong>only exists</strong> within the context of the parent. It has no meaning on its own.</p>
                        </div>
                        <pre><code><span class="comment"># Order items belong to an order</span>
<span class="method">GET</span> /orders/107/items
<span class="method">GET</span> /orders/107/items/3

<span class="comment"># Comments belong to a post</span>
<span class="method">GET</span> /posts/88/comments

<span class="comment"># Seats belong to an event</span>
<span class="method">GET</span> /events/5/seats</code></pre>
                    </div>

                    <div>
                        <h4 class="mb-3">Flatten When...</h4>
                        <div class="alert alert-warning">
                            <span class="alert-label">Use top-level</span>
                            <p>The child can exist independently, or you need to query across parents.</p>
                        </div>
                        <pre><code><span class="comment"># Products exist independently of shops</span>
<span class="method">GET</span> /products?shop_id=12
<span class="method">GET</span> /products/99

<span class="comment"># Tags can belong to many resources</span>
<span class="method">GET</span> /tags?resource=posts

<span class="comment"># Users exist outside of teams</span>
<span class="method">GET</span> /users?team_id=4</code></pre>
                    </div>
                </div>

                <div class="alert alert-info mt-4">
                    <span class="alert-label">Rule of thumb</span>
                    <p class="mb-0">Limit nesting to <strong>one level deep</strong>. <code>/users/42/orders</code> is fine. <code>/users/42/orders/107/items/3/reviews</code> is too deep &mdash; flatten with query parameters instead.</p>
                </div>
            </div>

            <!-- Query Parameters -->
            <div class="subsection">
                <h3 class="subsection-title">Query Parameters</h3>
                <p>Query parameters handle filtering, sorting, searching, and pagination &mdash; anything that does not identify a resource.</p>

                <pre><code><span class="comment"># Filtering</span>
<span class="method">GET</span> /api/products?category=electronics&amp;in_stock=true

<span class="comment"># Sorting (prefix with - for descending)</span>
<span class="method">GET</span> /api/products?sort=-price,name

<span class="comment"># Searching</span>
<span class="method">GET</span> /api/products?q=wireless+headphones

<span class="comment"># Pagination</span>
<span class="method">GET</span> /api/products?page=2&amp;per_page=25

<span class="comment"># Field selection (sparse fieldsets)</span>
<span class="method">GET</span> /api/products?fields=id,name,price

<span class="comment"># Combining everything</span>
<span class="method">GET</span> /api/products?category=electronics&amp;sort=-price&amp;page=1&amp;per_page=10&amp;fields=id,name,price</code></pre>

                <div class="table-wrapper mt-4">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Purpose</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>sort</code></td>
                                <td>Order results by field(s)</td>
                                <td><code>?sort=-created_at,name</code></td>
                            </tr>
                            <tr>
                                <td><code>fields</code></td>
                                <td>Select specific fields to return</td>
                                <td><code>?fields=id,title,author</code></td>
                            </tr>
                            <tr>
                                <td><code>q</code></td>
                                <td>Full-text search query</td>
                                <td><code>?q=machine+learning</code></td>
                            </tr>
                            <tr>
                                <td><code>page</code> / <code>per_page</code></td>
                                <td>Offset-based pagination</td>
                                <td><code>?page=3&amp;per_page=20</code></td>
                            </tr>
                            <tr>
                                <td><code>cursor</code></td>
                                <td>Cursor-based pagination</td>
                                <td><code>?cursor=eyJpZCI6MTAwfQ==</code></td>
                            </tr>
                            <tr>
                                <td><code>expand</code></td>
                                <td>Include related resources inline</td>
                                <td><code>?expand=author,comments</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- URL Versioning Strategies -->
            <div class="subsection">
                <h3 class="subsection-title">URL Versioning Strategies</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Strategy</th>
                                <th>Example</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>URI Path</strong></td>
                                <td><code>/api/v1/users</code></td>
                                <td>Simple, visible, easy to route</td>
                                <td>Pollutes the URI space</td>
                            </tr>
                            <tr>
                                <td><strong>Query Param</strong></td>
                                <td><code>/api/users?v=1</code></td>
                                <td>Optional, easy to default</td>
                                <td>Easy to forget, caching issues</td>
                            </tr>
                            <tr>
                                <td><strong>Custom Header</strong></td>
                                <td><code>X-API-Version: 1</code></td>
                                <td>Clean URIs</td>
                                <td>Hidden, harder to test</td>
                            </tr>
                            <tr>
                                <td><strong>Accept Header</strong></td>
                                <td><code>Accept: application/vnd.api.v1+json</code></td>
                                <td>RESTful, content negotiation</td>
                                <td>Complex, harder to explore</td>
                            </tr>
                            <tr>
                                <td><strong>Subdomain</strong></td>
                                <td><code>v1.api.example.com</code></td>
                                <td>Clean separation</td>
                                <td>DNS/infrastructure overhead</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-tip">
                    <span class="alert-label">Recommendation</span>
                    <p class="mb-0"><strong>URI path versioning</strong> (<code>/api/v1/</code>) is the most common and pragmatic choice. It is visible, easy to document, and simple to route. Use it unless you have a specific reason to prefer another strategy.</p>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 04: HTTP METHODS
             ============================================ -->

        <section id="http-methods" class="section">
            <div class="section-header">
                <div class="section-number">04</div>
                <h2 class="section-title">HTTP Methods</h2>
                <p class="section-description">The verbs of the web. Each method carries specific semantics about what the client intends the server to do.</p>
            </div>

            <div class="ruler"></div>

            <!-- Method Overview Table -->
            <div class="subsection">
                <h3 class="subsection-title">Method Overview</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Purpose</th>
                                <th>Idempotent</th>
                                <th>Safe</th>
                                <th>Cacheable</th>
                                <th>Request Body</th>
                                <th>Response Body</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="method-badge method-get">GET</span></td>
                                <td>Retrieve resource(s)</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-post">POST</span></td>
                                <td>Create a resource / trigger action</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Conditional</td>
                                <td>Yes</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-put">PUT</span></td>
                                <td>Replace a resource entirely</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Yes</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-patch">PATCH</span></td>
                                <td>Partial update</td>
                                <td>No*</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Yes</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><span class="method-badge method-delete">DELETE</span></td>
                                <td>Remove a resource</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Optional</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><span class="badge">HEAD</span></td>
                                <td>GET without response body</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><span class="badge">OPTIONS</span></td>
                                <td>Describe communication options</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>No</td>
                                <td>Yes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <span class="alert-label">Note</span>
                    <p class="mb-0">*PATCH <em>can</em> be idempotent when using JSON Merge Patch (RFC 7396), but is not guaranteed to be idempotent when using JSON Patch (RFC 6902) &mdash; an <code>add</code> operation to an array, for example, appends on every call.</p>
                </div>
            </div>

            <!-- GET -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="method-badge method-get">GET</span> &mdash; Retrieve Resources</h3>

                <div class="spec-block">
                    <h4>Method Properties</h4>
                    <div class="spec-row">
                        <span class="spec-key">Semantics</span>
                        <span class="spec-value">Read-only retrieval</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Idempotent</span>
                        <span class="spec-value">Yes</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Safe</span>
                        <span class="spec-value">Yes &mdash; no server state changes</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Cacheable</span>
                        <span class="spec-value">Yes &mdash; responses should include cache headers</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Request body</span>
                        <span class="spec-value">Not allowed</span>
                    </div>
                </div>

                <pre><code><span class="comment"># Retrieve a collection</span>
<span class="method">GET</span> /api/v1/articles?page=1&amp;per_page=3 <span class="status">HTTP/1.1</span>
Host: api.example.com
Accept: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
Cache-Control: max-age=60
X-Total-Count: 142

{
  "data": [
    {
      "id": 301,
      "title": "Understanding REST Constraints",
      "slug": "understanding-rest-constraints",
      "author": { "id": 42, "name": "Ada Lovelace" },
      "publishedAt": "2025-03-15T09:30:00Z",
      "tags": ["api", "architecture"]
    },
    {
      "id": 302,
      "title": "HTTP Caching Deep Dive",
      "slug": "http-caching-deep-dive",
      "author": { "id": 17, "name": "Grace Hopper" },
      "publishedAt": "2025-03-12T14:00:00Z",
      "tags": ["http", "performance"]
    },
    {
      "id": 303,
      "title": "JSON Schema Validation",
      "slug": "json-schema-validation",
      "author": { "id": 42, "name": "Ada Lovelace" },
      "publishedAt": "2025-03-10T11:15:00Z",
      "tags": ["json", "validation"]
    }
  ],
  "pagination": {
    "page": 1,
    "perPage": 3,
    "totalPages": 48,
    "totalItems": 142
  }
}</code></pre>

                <pre><code><span class="comment"># Retrieve a single resource</span>
<span class="method">GET</span> /api/v1/articles/301 <span class="status">HTTP/1.1</span>
Host: api.example.com
Accept: application/json

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
ETag: "a1b2c3d4"

{
  "id": 301,
  "title": "Understanding REST Constraints",
  "slug": "understanding-rest-constraints",
  "body": "REST (Representational State Transfer) defines six constraints...",
  "author": {
    "id": 42,
    "name": "Ada Lovelace",
    "avatarUrl": "https://cdn.example.com/avatars/42.jpg"
  },
  "publishedAt": "2025-03-15T09:30:00Z",
  "updatedAt": "2025-03-16T08:00:00Z",
  "tags": ["api", "architecture"],
  "readTimeMinutes": 8
}</code></pre>
            </div>

            <!-- POST -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="method-badge method-post">POST</span> &mdash; Create Resources</h3>

                <div class="spec-block">
                    <h4>Method Properties</h4>
                    <div class="spec-row">
                        <span class="spec-key">Semantics</span>
                        <span class="spec-value">Create a new subordinate resource</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Idempotent</span>
                        <span class="spec-value">No &mdash; each call may create a new resource</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Response code</span>
                        <span class="spec-value">201 Created (with Location header)</span>
                    </div>
                </div>

                <pre><code><span class="comment"># Create a new article</span>
<span class="method">POST</span> /api/v1/articles <span class="status">HTTP/1.1</span>
Host: api.example.com
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...

{
  "title": "Rate Limiting Strategies",
  "body": "Rate limiting protects your API from abuse and ensures fair usage...",
  "tags": ["api", "security", "infrastructure"],
  "status": "draft"
}

<span class="comment"># Response &mdash; 201 with Location header pointing to the new resource</span>
<span class="status">HTTP/1.1 201 Created</span>
Content-Type: application/json
Location: /api/v1/articles/304

{
  "id": 304,
  "title": "Rate Limiting Strategies",
  "body": "Rate limiting protects your API from abuse and ensures fair usage...",
  "author": { "id": 42, "name": "Ada Lovelace" },
  "tags": ["api", "security", "infrastructure"],
  "status": "draft",
  "createdAt": "2025-03-17T10:45:00Z",
  "updatedAt": "2025-03-17T10:45:00Z"
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-label">Common Mistake</span>
                    <p class="mb-0">Do not use POST for operations that are idempotent. If the client can safely retry the request (e.g., setting a user's email), use <span class="method-badge method-put">PUT</span> instead. Reserve POST for non-idempotent creation or actions that trigger side effects.</p>
                </div>
            </div>

            <!-- PUT -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="method-badge method-put">PUT</span> &mdash; Replace Resources</h3>

                <div class="spec-block">
                    <h4>Method Properties</h4>
                    <div class="spec-row">
                        <span class="spec-key">Semantics</span>
                        <span class="spec-value">Full replacement of the resource</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Idempotent</span>
                        <span class="spec-value">Yes &mdash; same payload always yields same state</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Body requirement</span>
                        <span class="spec-value">Must include ALL fields</span>
                    </div>
                </div>

                <pre><code><span class="comment"># Replace an article entirely &mdash; ALL fields required</span>
<span class="method">PUT</span> /api/v1/articles/304 <span class="status">HTTP/1.1</span>
Host: api.example.com
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...

{
  "title": "Rate Limiting Strategies for Production APIs",
  "body": "Rate limiting protects your API from abuse and ensures fair usage across consumers...",
  "tags": ["api", "security", "infrastructure", "production"],
  "status": "published"
}

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "id": 304,
  "title": "Rate Limiting Strategies for Production APIs",
  "body": "Rate limiting protects your API from abuse and ensures fair usage across consumers...",
  "author": { "id": 42, "name": "Ada Lovelace" },
  "tags": ["api", "security", "infrastructure", "production"],
  "status": "published",
  "createdAt": "2025-03-17T10:45:00Z",
  "updatedAt": "2025-03-17T11:20:00Z"
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-label">Important</span>
                    <p class="mb-0">PUT requires the <strong>complete</strong> resource representation. Any field omitted from the request body will be reset to its default or removed. If you only need to update one field, use <span class="method-badge method-patch">PATCH</span> instead.</p>
                </div>
            </div>

            <!-- PATCH -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="method-badge method-patch">PATCH</span> &mdash; Partial Updates</h3>

                <div class="spec-block">
                    <h4>Method Properties</h4>
                    <div class="spec-row">
                        <span class="spec-key">Semantics</span>
                        <span class="spec-value">Apply partial modifications</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Idempotent</span>
                        <span class="spec-value">Depends on patch format</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Common formats</span>
                        <span class="spec-value">JSON Merge Patch, JSON Patch</span>
                    </div>
                </div>

                <h4 class="mb-3 mt-4">JSON Merge Patch (RFC 7396)</h4>
                <p>Send only the fields you want to change. Null values remove fields. Simple and intuitive.</p>

                <pre><code><span class="comment"># Update only the title and status (other fields unchanged)</span>
<span class="method">PATCH</span> /api/v1/articles/304 <span class="status">HTTP/1.1</span>
Host: api.example.com
Content-Type: application/merge-patch+json
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...

{
  "title": "Rate Limiting Strategies (Updated)",
  "status": "published"
}

<span class="comment"># Response &mdash; full updated resource</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "id": 304,
  "title": "Rate Limiting Strategies (Updated)",
  "body": "Rate limiting protects your API from abuse...",
  "tags": ["api", "security", "infrastructure", "production"],
  "status": "published",
  "updatedAt": "2025-03-17T12:00:00Z"
}</code></pre>

                <h4 class="mb-3 mt-4">JSON Patch (RFC 6902)</h4>
                <p>An ordered sequence of operations. More powerful than merge patch &mdash; supports add, remove, replace, move, copy, and test.</p>

                <pre><code><span class="comment"># Apply a sequence of operations</span>
<span class="method">PATCH</span> /api/v1/articles/304 <span class="status">HTTP/1.1</span>
Host: api.example.com
Content-Type: application/json-patch+json
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...

[
  { "op": "replace", "path": "/title", "value": "Advanced Rate Limiting" },
  { "op": "add", "path": "/tags/-", "value": "advanced" },
  { "op": "remove", "path": "/tags/0" },
  { "op": "test", "path": "/status", "value": "published" }
]

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json</code></pre>

                <div class="table-wrapper mt-4">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>JSON Merge Patch (RFC 7396)</th>
                                <th>JSON Patch (RFC 6902)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Content-Type</strong></td>
                                <td><code>application/merge-patch+json</code></td>
                                <td><code>application/json-patch+json</code></td>
                            </tr>
                            <tr>
                                <td><strong>Format</strong></td>
                                <td>Partial JSON object</td>
                                <td>Array of operation objects</td>
                            </tr>
                            <tr>
                                <td><strong>Null handling</strong></td>
                                <td>Null = remove field</td>
                                <td>Explicit <code>"remove"</code> operation</td>
                            </tr>
                            <tr>
                                <td><strong>Array support</strong></td>
                                <td>Replaces entire array</td>
                                <td>Can target individual elements</td>
                            </tr>
                            <tr>
                                <td><strong>Idempotent</strong></td>
                                <td>Yes</td>
                                <td>Not always (e.g., <code>add</code> to array)</td>
                            </tr>
                            <tr>
                                <td><strong>Complexity</strong></td>
                                <td>Simple, intuitive</td>
                                <td>Powerful, verbose</td>
                            </tr>
                            <tr>
                                <td><strong>Best for</strong></td>
                                <td>Most CRUD APIs</td>
                                <td>Complex document editing</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-tip">
                    <span class="alert-label">Recommendation</span>
                    <p class="mb-0">Use <strong>JSON Merge Patch</strong> for most APIs &mdash; it covers 90% of use cases with minimal complexity. Reserve JSON Patch for scenarios that require atomic array manipulation or conditional updates via the <code>test</code> operation.</p>
                </div>
            </div>

            <!-- DELETE -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="method-badge method-delete">DELETE</span> &mdash; Remove Resources</h3>

                <div class="spec-block">
                    <h4>Method Properties</h4>
                    <div class="spec-row">
                        <span class="spec-key">Semantics</span>
                        <span class="spec-value">Remove the identified resource</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Idempotent</span>
                        <span class="spec-value">Yes &mdash; result is same whether called 1x or Nx</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">Typical response</span>
                        <span class="spec-value">204 No Content (or 200 with body)</span>
                    </div>
                </div>

                <pre><code><span class="comment"># Delete an article</span>
<span class="method">DELETE</span> /api/v1/articles/304 <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...

<span class="comment"># Response &mdash; first call</span>
<span class="status">HTTP/1.1 204 No Content</span>

<span class="comment"># Response &mdash; second call (resource already deleted)</span>
<span class="comment"># Option A: still 204 (treats "already deleted" as success)</span>
<span class="status">HTTP/1.1 204 No Content</span>

<span class="comment"># Option B: 404 (resource no longer exists)</span>
<span class="status">HTTP/1.1 404 Not Found</span>
{
  "error": {
    "code": "RESOURCE_NOT_FOUND",
    "message": "Article 304 does not exist"
  }
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">Idempotency Note</span>
                    <p class="mb-0">Both behaviors are valid for repeated DELETE calls. Returning <span class="status-code status-2xx">204</span> on subsequent calls is simpler for clients. Returning <span class="status-code status-4xx">404</span> is more informative. Pick one pattern and be consistent across your API.</p>
                </div>
            </div>

            <!-- HEAD & OPTIONS -->
            <div class="subsection">
                <h3 class="subsection-title">HEAD &amp; OPTIONS</h3>

                <div class="grid-2">
                    <div>
                        <h4 class="mb-3"><span class="badge">HEAD</span> &mdash; Metadata Only</h4>
                        <p>Identical to GET but returns only headers, no body. Useful for checking if a resource exists or reading metadata without transferring the payload.</p>

                        <pre><code><span class="comment"># Check if resource exists + get metadata</span>
<span class="method">HEAD</span> /api/v1/articles/301 <span class="status">HTTP/1.1</span>
Host: api.example.com

<span class="comment"># Response &mdash; headers only, no body</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
Content-Length: 1842
ETag: "a1b2c3d4"
Last-Modified: Sat, 16 Mar 2025 08:00:00 GMT</code></pre>
                    </div>

                    <div>
                        <h4 class="mb-3"><span class="badge">OPTIONS</span> &mdash; Communication Options</h4>
                        <p>Describes allowed methods for a resource. Most commonly seen as a CORS preflight request sent automatically by browsers.</p>

                        <pre><code><span class="comment"># CORS preflight request (browser-initiated)</span>
<span class="method">OPTIONS</span> /api/v1/articles <span class="status">HTTP/1.1</span>
Host: api.example.com
Origin: https://app.example.com
Access-Control-Request-Method: POST
Access-Control-Request-Headers: Content-Type

<span class="comment"># Response &mdash; server declares what is allowed</span>
<span class="status">HTTP/1.1 204 No Content</span>
Access-Control-Allow-Origin: https://app.example.com
Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE
Access-Control-Allow-Headers: Content-Type, Authorization
Access-Control-Max-Age: 86400</code></pre>
                    </div>
                </div>

                <div class="alert alert-tip mt-4">
                    <span class="alert-label">Best Practice</span>
                    <p class="mb-0">Always handle OPTIONS requests on your API endpoints. If you do not, CORS preflight requests from browsers will fail and your API will be unusable from web frontends on different origins.</p>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 05: STATUS CODES
             ============================================ -->

        <section id="status-codes" class="section">
            <div class="section-header">
                <div class="section-number">05</div>
                <h2 class="section-title">Status Codes</h2>
                <p class="section-description">The three-digit signals that tell clients exactly what happened. Choose precisely &mdash; vague codes create vague APIs.</p>
            </div>

            <div class="ruler"></div>

            <!-- 2xx Success -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="status-code status-2xx">2xx</span> &mdash; Success</h3>
                <p>The request was received, understood, and accepted.</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Name</th>
                                <th>When to Use</th>
                                <th>Typical Methods</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status-code status-2xx">200</span></td>
                                <td>OK</td>
                                <td>General success with a response body</td>
                                <td><span class="method-badge method-get">GET</span> <span class="method-badge method-put">PUT</span> <span class="method-badge method-patch">PATCH</span></td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-2xx">201</span></td>
                                <td>Created</td>
                                <td>New resource created; include <code>Location</code> header</td>
                                <td><span class="method-badge method-post">POST</span></td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-2xx">202</span></td>
                                <td>Accepted</td>
                                <td>Request queued for async processing</td>
                                <td><span class="method-badge method-post">POST</span></td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-2xx">204</span></td>
                                <td>No Content</td>
                                <td>Success but no response body to return</td>
                                <td><span class="method-badge method-delete">DELETE</span> <span class="method-badge method-put">PUT</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <pre><code><span class="comment"># 200 OK &mdash; successful retrieval</span>
<span class="method">GET</span> /api/v1/users/42
<span class="status">HTTP/1.1 200 OK</span>
{ "id": 42, "name": "Ada Lovelace", "email": "ada@example.com" }

<span class="comment"># 201 Created &mdash; new resource, with Location header</span>
<span class="method">POST</span> /api/v1/users
<span class="status">HTTP/1.1 201 Created</span>
Location: /api/v1/users/43
{ "id": 43, "name": "Grace Hopper", "email": "grace@example.com" }

<span class="comment"># 202 Accepted &mdash; queued for background processing</span>
<span class="method">POST</span> /api/v1/reports/generate
<span class="status">HTTP/1.1 202 Accepted</span>
{ "jobId": "rpt-9a8b7c", "statusUrl": "/api/v1/jobs/rpt-9a8b7c", "estimatedSeconds": 30 }

<span class="comment"># 204 No Content &mdash; successful delete, nothing to return</span>
<span class="method">DELETE</span> /api/v1/users/44
<span class="status">HTTP/1.1 204 No Content</span></code></pre>
            </div>

            <!-- 3xx Redirection -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="status-code status-3xx">3xx</span> &mdash; Redirection</h3>
                <p>The client must take additional action to complete the request.</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Name</th>
                                <th>Permanent?</th>
                                <th>Preserves Method?</th>
                                <th>Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status-code status-3xx">301</span></td>
                                <td>Moved Permanently</td>
                                <td>Yes</td>
                                <td>No (may change to GET)</td>
                                <td>Resource URL permanently changed</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-3xx">302</span></td>
                                <td>Found</td>
                                <td>No</td>
                                <td>No (may change to GET)</td>
                                <td>Temporary redirect (legacy, ambiguous)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-3xx">304</span></td>
                                <td>Not Modified</td>
                                <td>N/A</td>
                                <td>N/A</td>
                                <td>Cached version is still valid (ETag / If-Modified-Since)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-3xx">307</span></td>
                                <td>Temporary Redirect</td>
                                <td>No</td>
                                <td>Yes</td>
                                <td>Temporary redirect, same method</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-3xx">308</span></td>
                                <td>Permanent Redirect</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>Permanent redirect, same method</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <span class="alert-label">Key Distinction</span>
                    <p class="mb-0">Use <span class="status-code status-3xx">308</span> instead of <span class="status-code status-3xx">301</span> when you need to guarantee the HTTP method is preserved. A 301 redirect may cause clients to switch a POST to a GET, which can silently break writes. Similarly, prefer <span class="status-code status-3xx">307</span> over <span class="status-code status-3xx">302</span> for temporary redirects.</p>
                </div>
            </div>

            <!-- 4xx Client Errors -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="status-code status-4xx">4xx</span> &mdash; Client Errors</h3>
                <p>The request contains bad syntax or cannot be fulfilled. The fault lies with the client.</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Name</th>
                                <th>When to Use</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status-code status-4xx">400</span></td>
                                <td>Bad Request</td>
                                <td>Malformed JSON, missing required fields, invalid data types</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">401</span></td>
                                <td>Unauthorized</td>
                                <td>No credentials provided or credentials are invalid/expired</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">403</span></td>
                                <td>Forbidden</td>
                                <td>Authenticated but lacks permission for this action</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">404</span></td>
                                <td>Not Found</td>
                                <td>Resource does not exist (or you want to hide its existence)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">405</span></td>
                                <td>Method Not Allowed</td>
                                <td>Valid endpoint, wrong HTTP method (e.g., DELETE on read-only resource)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">409</span></td>
                                <td>Conflict</td>
                                <td>Request conflicts with current state (duplicate entry, version mismatch)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">410</span></td>
                                <td>Gone</td>
                                <td>Resource existed but has been permanently deleted (stronger than 404)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">415</span></td>
                                <td>Unsupported Media Type</td>
                                <td>Server does not support the Content-Type sent by the client</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">422</span></td>
                                <td>Unprocessable Entity</td>
                                <td>Valid JSON but fails business logic validation (e.g., email already taken)</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-4xx">429</span></td>
                                <td>Too Many Requests</td>
                                <td>Rate limit exceeded; include <code>Retry-After</code> header</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-warning">
                    <span class="alert-label">400 vs 422: When to Use Which</span>
                    <p><strong>400 Bad Request</strong> &mdash; the request is syntactically malformed. The server cannot parse it at all. Examples: invalid JSON, wrong data type for a field, missing required field.</p>
                    <p class="mb-0"><strong>422 Unprocessable Entity</strong> &mdash; the request is well-formed JSON but fails business rules. The server parsed it, but the values are semantically invalid. Examples: email already registered, end date before start date, negative quantity.</p>
                </div>

                <pre><code><span class="comment"># 400 &mdash; malformed request (invalid JSON syntax)</span>
<span class="method">POST</span> /api/v1/users
Content-Type: application/json
{ "name": "Ada", "email": }          <span class="comment">&lt;-- syntax error</span>

<span class="status">HTTP/1.1 400 Bad Request</span>
{ "error": { "code": "INVALID_JSON", "message": "Unexpected token at position 32" } }

<span class="comment"># 422 &mdash; valid JSON but violates business rules</span>
<span class="method">POST</span> /api/v1/users
Content-Type: application/json
{ "name": "Ada", "email": "ada@example.com" }

<span class="status">HTTP/1.1 422 Unprocessable Entity</span>
{
  "error": {
    "code": "VALIDATION_FAILED",
    "message": "Validation failed",
    "details": [
      { "field": "email", "message": "Email address is already registered" }
    ]
  }
}</code></pre>

                <div class="alert alert-warning mt-4">
                    <span class="alert-label">401 vs 403: When to Use Which</span>
                    <p><strong>401 Unauthorized</strong> &mdash; identity is unknown. The client sent no token, an expired token, or an invalid token. The fix is to authenticate (log in).</p>
                    <p class="mb-0"><strong>403 Forbidden</strong> &mdash; identity is known, but lacks permission. The client is authenticated but not authorized for this action. Logging in again will not help.</p>
                </div>

                <pre><code><span class="comment"># 401 &mdash; no authentication provided</span>
<span class="method">GET</span> /api/v1/admin/users
<span class="comment">(no Authorization header)</span>

<span class="status">HTTP/1.1 401 Unauthorized</span>
WWW-Authenticate: Bearer realm="api"
{ "error": { "code": "AUTH_REQUIRED", "message": "Authentication required" } }

<span class="comment"># 403 &mdash; authenticated but not an admin</span>
<span class="method">DELETE</span> /api/v1/admin/users/42
Authorization: Bearer eyJ...  <span class="comment">(valid token, role=viewer)</span>

<span class="status">HTTP/1.1 403 Forbidden</span>
{ "error": { "code": "INSUFFICIENT_PERMISSIONS", "message": "Admin role required" } }

<span class="comment"># 409 &mdash; conflict with current state</span>
<span class="method">PUT</span> /api/v1/articles/301
If-Match: "a1b2c3d4"    <span class="comment">(stale ETag)</span>

<span class="status">HTTP/1.1 409 Conflict</span>
{
  "error": {
    "code": "VERSION_CONFLICT",
    "message": "Resource has been modified since your last read",
    "currentETag": "x9y8z7w6"
  }
}

<span class="comment"># 429 &mdash; rate limit exceeded</span>
<span class="method">GET</span> /api/v1/search?q=test

<span class="status">HTTP/1.1 429 Too Many Requests</span>
Retry-After: 30
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 0
X-RateLimit-Reset: 1710680400
{ "error": { "code": "RATE_LIMITED", "message": "Rate limit exceeded. Try again in 30 seconds." } }</code></pre>
            </div>

            <!-- 5xx Server Errors -->
            <div class="subsection">
                <h3 class="subsection-title"><span class="status-code status-5xx">5xx</span> &mdash; Server Errors</h3>
                <p>The server failed to fulfill a valid request. The fault lies with the server.</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Name</th>
                                <th>Meaning</th>
                                <th>Quick Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status-code status-5xx">500</span></td>
                                <td>Internal Server Error</td>
                                <td>Unhandled exception or bug</td>
                                <td>Something broke on our end</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-5xx">502</span></td>
                                <td>Bad Gateway</td>
                                <td>Upstream returned invalid response</td>
                                <td>Proxy got a bad response from the origin</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-5xx">503</span></td>
                                <td>Service Unavailable</td>
                                <td>Intentionally down (maintenance, overload)</td>
                                <td>We are temporarily offline</td>
                            </tr>
                            <tr>
                                <td><span class="status-code status-5xx">504</span></td>
                                <td>Gateway Timeout</td>
                                <td>Upstream did not respond in time</td>
                                <td>Proxy timed out waiting for the origin</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-tip">
                    <span class="alert-label">Quick Comparison</span>
                    <p class="mb-0"><strong>500</strong> = unhandled bug in your code. <strong>502</strong> = your proxy received a garbled response from the upstream server. <strong>503</strong> = your service is intentionally unavailable (deploy, maintenance, overload). <strong>504</strong> = your proxy waited too long and the upstream never responded. For 503, always include a <code>Retry-After</code> header.</p>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 06: REQUEST & RESPONSE DESIGN
             ============================================ -->

        <section id="request-response" class="section">
            <div class="section-header">
                <div class="section-number">06</div>
                <h2 class="section-title">Request &amp; Response Design</h2>
                <p class="section-description">The anatomy of HTTP messages. Headers, bodies, content negotiation, and the conventions that keep JSON APIs consistent.</p>
            </div>

            <div class="ruler"></div>

            <!-- Request Anatomy -->
            <div class="subsection">
                <h3 class="subsection-title">Request Anatomy</h3>
                <p>Every HTTP request consists of four parts: method + path, headers, an optional body, and query parameters encoded in the URL.</p>

                <pre><code><span class="comment"># [1] Request line: METHOD  PATH  PROTOCOL</span>
<span class="method">POST</span> /api/v1/articles <span class="status">HTTP/1.1</span>

<span class="comment"># [2] Headers: metadata about the request</span>
Host: api.example.com
Content-Type: application/json      <span class="comment">&larr; format of the body we are sending</span>
Accept: application/json             <span class="comment">&larr; format we want back</span>
Authorization: Bearer eyJhbGci...    <span class="comment">&larr; authentication credential</span>
X-Request-ID: req-7f3a9b2c          <span class="comment">&larr; correlation ID for tracing</span>
Content-Length: 147                   <span class="comment">&larr; size of the body in bytes</span>

<span class="comment"># [3] Blank line separates headers from body</span>

<span class="comment"># [4] Body: the payload (JSON, form data, etc.)</span>
{
  "title": "Request Anatomy Explained",
  "body": "Every HTTP request has four parts...",
  "tags": ["http", "tutorial"],
  "status": "draft"
}</code></pre>
            </div>

            <!-- Response Anatomy -->
            <div class="subsection">
                <h3 class="subsection-title">Response Anatomy</h3>

                <pre><code><span class="comment"># [1] Status line: PROTOCOL  STATUS-CODE  REASON</span>
<span class="status">HTTP/1.1 201 Created</span>

<span class="comment"># [2] Response headers</span>
Content-Type: application/json       <span class="comment">&larr; format of the response body</span>
Location: /api/v1/articles/305       <span class="comment">&larr; URL of the newly created resource</span>
ETag: "e8f9a0b1"                     <span class="comment">&larr; version tag for conditional requests</span>
Cache-Control: no-cache              <span class="comment">&larr; caching directive</span>
X-Request-ID: req-7f3a9b2c          <span class="comment">&larr; echoed back for correlation</span>
X-RateLimit-Limit: 1000             <span class="comment">&larr; rate limit ceiling</span>
X-RateLimit-Remaining: 997          <span class="comment">&larr; remaining requests in window</span>

<span class="comment"># [3] Blank line</span>

<span class="comment"># [4] Response body</span>
{
  "id": 305,
  "title": "Request Anatomy Explained",
  "body": "Every HTTP request has four parts...",
  "author": { "id": 42, "name": "Ada Lovelace" },
  "tags": ["http", "tutorial"],
  "status": "draft",
  "createdAt": "2025-03-18T09:00:00Z",
  "updatedAt": "2025-03-18T09:00:00Z"
}</code></pre>
            </div>

            <!-- Essential Headers -->
            <div class="subsection">
                <h3 class="subsection-title">Essential Headers</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Header</th>
                                <th>Direction</th>
                                <th>Purpose</th>
                                <th>Example Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>Content-Type</code></td>
                                <td>Both</td>
                                <td>MIME type of the message body</td>
                                <td><code>application/json</code></td>
                            </tr>
                            <tr>
                                <td><code>Accept</code></td>
                                <td>Request</td>
                                <td>Preferred response format(s)</td>
                                <td><code>application/json, text/html;q=0.9</code></td>
                            </tr>
                            <tr>
                                <td><code>Authorization</code></td>
                                <td>Request</td>
                                <td>Authentication credentials</td>
                                <td><code>Bearer eyJhbGciOi...</code></td>
                            </tr>
                            <tr>
                                <td><code>Cache-Control</code></td>
                                <td>Both</td>
                                <td>Caching directives</td>
                                <td><code>max-age=3600, public</code></td>
                            </tr>
                            <tr>
                                <td><code>ETag</code></td>
                                <td>Response</td>
                                <td>Resource version identifier</td>
                                <td><code>"a1b2c3d4"</code></td>
                            </tr>
                            <tr>
                                <td><code>If-None-Match</code></td>
                                <td>Request</td>
                                <td>Conditional GET (cache validation)</td>
                                <td><code>"a1b2c3d4"</code></td>
                            </tr>
                            <tr>
                                <td><code>If-Match</code></td>
                                <td>Request</td>
                                <td>Conditional PUT/PATCH (optimistic locking)</td>
                                <td><code>"a1b2c3d4"</code></td>
                            </tr>
                            <tr>
                                <td><code>Location</code></td>
                                <td>Response</td>
                                <td>URL of created/redirected resource</td>
                                <td><code>/api/v1/users/43</code></td>
                            </tr>
                            <tr>
                                <td><code>Retry-After</code></td>
                                <td>Response</td>
                                <td>Seconds to wait before retrying (429, 503)</td>
                                <td><code>30</code></td>
                            </tr>
                            <tr>
                                <td><code>X-Request-ID</code></td>
                                <td>Both</td>
                                <td>Correlation ID for distributed tracing</td>
                                <td><code>req-7f3a9b2c</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Content Negotiation -->
            <div class="subsection">
                <h3 class="subsection-title">Content Negotiation</h3>
                <p>Clients use the <code>Accept</code> header to tell the server which response formats they prefer. Quality values (<code>q</code>) express relative preference from 0 to 1.</p>

                <pre><code><span class="comment"># Client prefers JSON, but will accept XML as a fallback</span>
<span class="method">GET</span> /api/v1/articles/301 <span class="status">HTTP/1.1</span>
Accept: application/json, application/xml;q=0.8, text/plain;q=0.5

<span class="comment"># Server responds with the best match</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
Vary: Accept

{ "id": 301, "title": "Understanding REST Constraints" }

<span class="comment"># If the server cannot satisfy any requested format:</span>
<span class="status">HTTP/1.1 406 Not Acceptable</span>
{
  "error": {
    "code": "NOT_ACCEPTABLE",
    "message": "Supported formats: application/json, application/xml",
    "supportedMediaTypes": ["application/json", "application/xml"]
  }
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">Note</span>
                    <p class="mb-0">Always include a <code>Vary: Accept</code> header when your response format depends on content negotiation. This ensures caches store separate entries for each format and do not serve JSON to a client expecting XML.</p>
                </div>
            </div>

            <!-- JSON Conventions -->
            <div class="subsection">
                <h3 class="subsection-title">JSON Conventions</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">CONVENTION</span>
                        <h4>camelCase Properties</h4>
                        <p>Use camelCase for all JSON property names. It matches JavaScript conventions and is the most common API standard.</p>
                        <pre><code><span class="comment"># Good</span>
{
  "firstName": "Ada",
  "createdAt": "2025-03-15T09:30:00Z",
  "isActive": true
}

<span class="comment"># Bad</span>
{
  "first_name": "Ada",
  "created-at": "...",
  "IsActive": true
}</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">CONVENTION</span>
                        <h4>ISO 8601 Dates</h4>
                        <p>Always use ISO 8601 format with timezone. UTC is preferred. Never use Unix timestamps in public APIs.</p>
                        <pre><code><span class="comment"># Good &mdash; ISO 8601 with UTC</span>
{
  "createdAt": "2025-03-15T09:30:00Z",
  "expiresAt": "2025-04-15T00:00:00Z"
}

<span class="comment"># Bad &mdash; ambiguous formats</span>
{
  "created": 1710495000,
  "expires": "03/15/2025"
}</code></pre>
                    </div>

                    <div class="command-card">
                        <span class="card-number">CONVENTION</span>
                        <h4>Null Handling</h4>
                        <p>Include nullable fields with explicit <code>null</code>. Do not omit them &mdash; clients need to distinguish "not set" from "not returned".</p>
                        <pre><code><span class="comment"># Good &mdash; explicit null</span>
{
  "id": 42,
  "name": "Ada Lovelace",
  "bio": null,
  "avatarUrl": null
}

<span class="comment"># Bad &mdash; missing fields</span>
{
  "id": 42,
  "name": "Ada Lovelace"
}</code></pre>
                    </div>
                </div>

                <h4 class="mb-3 mt-4">Envelope Pattern vs Flat Responses</h4>

                <div class="grid-2">
                    <div>
                        <p><strong>Envelope pattern</strong> &mdash; wrap data in a container. Useful for collections where you need pagination metadata alongside the data.</p>
                        <pre><code><span class="comment"># Envelope &mdash; collection with metadata</span>
{
  "data": [
    { "id": 1, "name": "Ada" },
    { "id": 2, "name": "Grace" }
  ],
  "pagination": {
    "page": 1,
    "perPage": 20,
    "totalItems": 142
  }
}</code></pre>
                    </div>
                    <div>
                        <p><strong>Flat response</strong> &mdash; return the resource directly. Simpler for single-resource endpoints. Use HTTP headers for metadata.</p>
                        <pre><code><span class="comment"># Flat &mdash; single resource, no wrapper</span>
{
  "id": 42,
  "name": "Ada Lovelace",
  "email": "ada@example.com",
  "role": "admin"
}

<span class="comment"># Metadata goes in headers</span>
ETag: "a1b2c3d4"
Last-Modified: Sat, 15 Mar 2025 09:30:00 GMT</code></pre>
                    </div>
                </div>

                <div class="alert alert-tip mt-4">
                    <span class="alert-label">Recommendation</span>
                    <p class="mb-0">Use <strong>flat responses</strong> for single resources and <strong>envelope pattern</strong> for collections. This gives you a consistent place for pagination metadata without wrapping every single response in unnecessary nesting.</p>
                </div>
            </div>

            <!-- Full HTTP Conversations -->
            <div class="subsection">
                <h3 class="subsection-title">Common Operations &mdash; Full HTTP Conversations</h3>

                <h4 class="mb-3">List Resources</h4>
                <pre><code><span class="comment"># Request</span>
<span class="method">GET</span> /api/v1/users?role=admin&amp;sort=-createdAt&amp;page=1&amp;per_page=2 <span class="status">HTTP/1.1</span>
Host: api.example.com
Accept: application/json
Authorization: Bearer eyJhbGci...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
X-Total-Count: 8

{
  "data": [
    { "id": 42, "name": "Ada Lovelace", "email": "ada@example.com", "role": "admin", "createdAt": "2025-01-10T08:00:00Z" },
    { "id": 17, "name": "Grace Hopper", "email": "grace@example.com", "role": "admin", "createdAt": "2025-01-05T12:00:00Z" }
  ],
  "pagination": { "page": 1, "perPage": 2, "totalPages": 4, "totalItems": 8 }
}</code></pre>

                <h4 class="mb-3 mt-4">Get Single Resource</h4>
                <pre><code><span class="comment"># Request</span>
<span class="method">GET</span> /api/v1/users/42 <span class="status">HTTP/1.1</span>
Host: api.example.com
Accept: application/json
Authorization: Bearer eyJhbGci...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
ETag: "u42-v7"

{
  "id": 42,
  "name": "Ada Lovelace",
  "email": "ada@example.com",
  "role": "admin",
  "bio": "Mathematician and writer, known for work on the Analytical Engine.",
  "avatarUrl": "https://cdn.example.com/avatars/42.jpg",
  "createdAt": "2025-01-10T08:00:00Z",
  "updatedAt": "2025-03-15T09:30:00Z"
}</code></pre>

                <h4 class="mb-3 mt-4">Create Resource</h4>
                <pre><code><span class="comment"># Request</span>
<span class="method">POST</span> /api/v1/users <span class="status">HTTP/1.1</span>
Host: api.example.com
Content-Type: application/json
Authorization: Bearer eyJhbGci...

{
  "name": "Alan Turing",
  "email": "alan@example.com",
  "role": "editor"
}

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 201 Created</span>
Content-Type: application/json
Location: /api/v1/users/55

{
  "id": 55,
  "name": "Alan Turing",
  "email": "alan@example.com",
  "role": "editor",
  "bio": null,
  "avatarUrl": null,
  "createdAt": "2025-03-18T10:15:00Z",
  "updatedAt": "2025-03-18T10:15:00Z"
}</code></pre>

                <h4 class="mb-3 mt-4">Update Resource</h4>
                <pre><code><span class="comment"># Request &mdash; partial update with merge patch</span>
<span class="method">PATCH</span> /api/v1/users/55 <span class="status">HTTP/1.1</span>
Host: api.example.com
Content-Type: application/merge-patch+json
Authorization: Bearer eyJhbGci...
If-Match: "u55-v1"

{
  "bio": "Pioneer of theoretical computer science and artificial intelligence.",
  "role": "admin"
}

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
ETag: "u55-v2"

{
  "id": 55,
  "name": "Alan Turing",
  "email": "alan@example.com",
  "role": "admin",
  "bio": "Pioneer of theoretical computer science and artificial intelligence.",
  "avatarUrl": null,
  "createdAt": "2025-03-18T10:15:00Z",
  "updatedAt": "2025-03-18T10:30:00Z"
}</code></pre>

                <h4 class="mb-3 mt-4">Delete Resource</h4>
                <pre><code><span class="comment"># Request</span>
<span class="method">DELETE</span> /api/v1/users/55 <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 204 No Content</span></code></pre>
            </div>
        </section>

        <!-- ============================================
             SECTION 07: AUTHENTICATION & SECURITY
             ============================================ -->

        <section id="authentication" class="section">
            <div class="section-header">
                <div class="section-number">07</div>
                <h2 class="section-title">Authentication &amp; Security</h2>
                <p class="section-description">Protecting your API. Keys, tokens, flows, and the guardrails that keep everything locked down.</p>
            </div>

            <div class="ruler"></div>

            <!-- API Keys -->
            <div class="subsection">
                <h3 class="subsection-title">API Keys</h3>

                <p>API keys identify the calling application. They are not user credentials &mdash; they tell the server <em>which app</em> is making the request, not <em>who</em> the user is.</p>

                <h4 class="mb-3">Header-Based Keys (Recommended)</h4>
                <pre><code><span class="comment"># Request with API key in header</span>
<span class="method">GET</span> /api/v1/products <span class="status">HTTP/1.1</span>
Host: api.example.com
X-API-Key: sk_live_a1b2c3d4e5f6g7h8i9j0
Accept: application/json

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "data": [
    { "id": 1, "name": "Widget", "price": 9.99 }
  ]
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-label">Warning</span>
                    <p class="mb-0">Never pass API keys as query parameters (<code>?api_key=sk_live_...</code>). Query strings are logged in server access logs, browser history, proxy logs, and CDN caches. Header values are not. Always use <code>X-API-Key</code> or <code>Authorization</code> headers.</p>
                </div>

                <h4 class="mb-3 mt-4">Key Prefixes for Safety</h4>
                <pre><code><span class="comment"># Use prefixes to distinguish key types</span>
sk_live_a1b2c3d4...   <span class="comment"># Secret key &mdash; server-side only</span>
pk_live_x9y8z7w6...   <span class="comment"># Publishable key &mdash; safe for client-side</span>
sk_test_m4n5o6p7...   <span class="comment"># Test key &mdash; sandbox environment</span></code></pre>
            </div>

            <!-- OAuth 2.0 -->
            <div class="subsection">
                <h3 class="subsection-title">OAuth 2.0</h3>

                <p>OAuth 2.0 delegates authorization without sharing passwords. The client receives a token that grants limited access on behalf of a user (or itself).</p>

                <h4 class="mb-3">Authorization Code + PKCE (Web &amp; Mobile Apps)</h4>
                <p>The most secure flow for apps where a user is present. PKCE (Proof Key for Code Exchange) prevents authorization code interception attacks.</p>

                <pre><code><span class="comment"># Step 1 &mdash; Generate a code verifier and challenge</span>
code_verifier  = "dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk"
code_challenge = BASE64URL(SHA256(code_verifier))
               = "E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM"

<span class="comment"># Step 2 &mdash; Redirect user to authorization server</span>
<span class="method">GET</span> https://auth.example.com/authorize
  ?response_type=code
  &amp;client_id=app_abc123
  &amp;redirect_uri=https://app.example.com/callback
  &amp;scope=read:users write:posts
  &amp;state=xYz789randomStateValue
  &amp;code_challenge=E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM
  &amp;code_challenge_method=S256

<span class="comment"># Step 3 &mdash; User authenticates, server redirects back with code</span>
https://app.example.com/callback
  ?code=SplxlOBeZQQYbYS6WxSbIA
  &amp;state=xYz789randomStateValue

<span class="comment"># Step 4 &mdash; Exchange code for tokens (server-side)</span>
<span class="method">POST</span> https://auth.example.com/token <span class="status">HTTP/1.1</span>
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code
&amp;code=SplxlOBeZQQYbYS6WxSbIA
&amp;redirect_uri=https://app.example.com/callback
&amp;client_id=app_abc123
&amp;code_verifier=dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk

<span class="comment"># Step 5 &mdash; Receive tokens</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "access_token": "eyJhbGciOiJSUzI1NiIs...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "refresh_token": "dGhpcyBpcyBhIHJlZnJl...",
  "scope": "read:users write:posts"
}</code></pre>

                <h4 class="mb-3 mt-4">Client Credentials (Machine-to-Machine)</h4>
                <p>For server-to-server communication with no user context. The application authenticates as itself.</p>

                <pre><code><span class="comment"># Request a token using client credentials</span>
<span class="method">POST</span> https://auth.example.com/token <span class="status">HTTP/1.1</span>
Content-Type: application/x-www-form-urlencoded
Authorization: Basic BASE64(client_id:client_secret)

grant_type=client_credentials
&amp;scope=read:analytics

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "access_token": "eyJhbGciOiJSUzI1NiIs...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "read:analytics"
}</code></pre>
            </div>

            <!-- JWT -->
            <div class="subsection">
                <h3 class="subsection-title">JWT (JSON Web Tokens)</h3>

                <p>A JWT is a compact, URL-safe token with three Base64URL-encoded parts separated by dots: <code>header.payload.signature</code>.</p>

                <pre><code><span class="comment"># JWT structure: header.payload.signature</span>
eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.
eyJzdWIiOiJ1c2VyXzQyIiwibmFtZSI6IkFkYS
BMb3ZlbGFjZSIsInJvbGUiOiJhZG1pbiIsImlhd
CI6MTcxMDUwMDAwMCwiZXhwIjoxNzEwNTAzNjAw
LCJpc3MiOiJhcGkuZXhhbXBsZS5jb20iLCJhdWQ
iOiJhcHBfYWJjMTIzIn0.
SIGNATURE_BYTES_HERE

<span class="comment"># Decoded header</span>
{
  "alg": "RS256",
  "typ": "JWT"
}

<span class="comment"># Decoded payload</span>
{
  "sub": "user_42",
  "name": "Ada Lovelace",
  "role": "admin",
  "iat": 1710500000,
  "exp": 1710503600,
  "iss": "api.example.com",
  "aud": "app_abc123"
}</code></pre>

                <h4 class="mb-3 mt-4">JWT Validation Checklist</h4>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">CHECK</span>
                        <h4>Algorithm (alg)</h4>
                        <p>Verify the <code>alg</code> header matches your expected algorithm. Never accept <code>"none"</code>. Use asymmetric algorithms (RS256, ES256) for public APIs.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">CHECK</span>
                        <h4>Signature</h4>
                        <p>Validate the signature using the correct key. For RS256, use the issuer's public key. Reject the token if the signature does not verify.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">CHECK</span>
                        <h4>Expiration (exp)</h4>
                        <p>Reject tokens where <code>exp</code> is in the past. Allow a small clock skew tolerance (30&ndash;60 seconds) for distributed systems.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">CHECK</span>
                        <h4>Issuer (iss)</h4>
                        <p>Confirm <code>iss</code> matches the expected authorization server. This prevents tokens issued by a different server from being accepted.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">CHECK</span>
                        <h4>Audience (aud)</h4>
                        <p>Confirm <code>aud</code> includes your API's identifier. This prevents a token intended for one API from being replayed against another.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">CHECK</span>
                        <h4>Not Before (nbf)</h4>
                        <p>If present, reject tokens where <code>nbf</code> is in the future. The token should not be used before this time.</p>
                    </div>
                </div>
            </div>

            <!-- Bearer Tokens -->
            <div class="subsection">
                <h3 class="subsection-title">Bearer Tokens</h3>

                <p>Bearer tokens are the standard way to pass access tokens in API requests. Any party holding the token can use it &mdash; hence the name "bearer."</p>

                <pre><code><span class="comment"># Using a bearer token</span>
<span class="method">GET</span> /api/v1/users/me <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGciOiJSUzI1NiIs...
Accept: application/json

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "id": "user_42",
  "name": "Ada Lovelace",
  "email": "ada@example.com",
  "role": "admin"
}

<span class="comment"># If the token is invalid or expired:</span>
<span class="status">HTTP/1.1 401 Unauthorized</span>
WWW-Authenticate: Bearer error="invalid_token",
  error_description="The access token has expired"</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">Note</span>
                    <p class="mb-0">The <code>Authorization</code> header format is <code>Bearer &lt;token&gt;</code> with a single space after "Bearer." The token itself is opaque to the client &mdash; it could be a JWT, a random string, or any other format. The client should not parse it.</p>
                </div>
            </div>

            <!-- CORS -->
            <div class="subsection">
                <h3 class="subsection-title">CORS (Cross-Origin Resource Sharing)</h3>

                <p>CORS controls which origins (domains) can access your API from a browser. The browser sends a preflight <code>OPTIONS</code> request before the actual request to check permissions.</p>

                <h4 class="mb-3">Preflight Request &amp; Response</h4>
                <pre><code><span class="comment"># Browser sends preflight OPTIONS request</span>
<span class="method">OPTIONS</span> /api/v1/users <span class="status">HTTP/1.1</span>
Host: api.example.com
Origin: https://app.example.com
Access-Control-Request-Method: POST
Access-Control-Request-Headers: Content-Type, Authorization

<span class="comment"># Server responds with CORS headers</span>
<span class="status">HTTP/1.1 204 No Content</span>
Access-Control-Allow-Origin: https://app.example.com
Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE
Access-Control-Allow-Headers: Content-Type, Authorization, X-API-Key
Access-Control-Max-Age: 86400
Access-Control-Allow-Credentials: true</code></pre>

                <h4 class="mb-3 mt-4">Common CORS Headers</h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Header</th>
                                <th>Purpose</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>Access-Control-Allow-Origin</code></td>
                                <td>Which origins can access the resource</td>
                                <td><code>https://app.example.com</code></td>
                            </tr>
                            <tr>
                                <td><code>Access-Control-Allow-Methods</code></td>
                                <td>Allowed HTTP methods</td>
                                <td><code>GET, POST, PUT, DELETE</code></td>
                            </tr>
                            <tr>
                                <td><code>Access-Control-Allow-Headers</code></td>
                                <td>Allowed request headers</td>
                                <td><code>Content-Type, Authorization</code></td>
                            </tr>
                            <tr>
                                <td><code>Access-Control-Max-Age</code></td>
                                <td>How long to cache preflight (seconds)</td>
                                <td><code>86400</code></td>
                            </tr>
                            <tr>
                                <td><code>Access-Control-Allow-Credentials</code></td>
                                <td>Whether cookies/auth headers are allowed</td>
                                <td><code>true</code></td>
                            </tr>
                            <tr>
                                <td><code>Access-Control-Expose-Headers</code></td>
                                <td>Response headers the browser can read</td>
                                <td><code>X-RateLimit-Remaining</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-warning">
                    <span class="alert-label">Warning</span>
                    <p class="mb-0">Never use <code>Access-Control-Allow-Origin: *</code> together with <code>Access-Control-Allow-Credentials: true</code>. Browsers will reject this combination. When credentials are needed, you must specify the exact origin.</p>
                </div>
            </div>

            <!-- Rate Limiting -->
            <div class="subsection">
                <h3 class="subsection-title">Rate Limiting</h3>

                <p>Rate limiting protects your API from abuse and ensures fair usage. The <strong>token bucket</strong> algorithm is the most common approach: each client has a bucket of tokens that refills at a steady rate. Each request consumes one token.</p>

                <h4 class="mb-3">Rate Limit Headers</h4>
                <pre><code><span class="comment"># Successful request with rate limit headers</span>
<span class="method">GET</span> /api/v1/products <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 847
X-RateLimit-Reset: 1710504000

{
  "data": [ ... ]
}</code></pre>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Header</th>
                                <th>Meaning</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>X-RateLimit-Limit</code></td>
                                <td>Maximum requests allowed in the current window</td>
                            </tr>
                            <tr>
                                <td><code>X-RateLimit-Remaining</code></td>
                                <td>Requests remaining in the current window</td>
                            </tr>
                            <tr>
                                <td><code>X-RateLimit-Reset</code></td>
                                <td>Unix timestamp when the window resets</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4 class="mb-3 mt-4">429 Too Many Requests</h4>
                <pre><code><span class="comment"># Rate limit exceeded</span>
<span class="status">HTTP/1.1 429 Too Many Requests</span>
Content-Type: application/json
Retry-After: 30
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 0
X-RateLimit-Reset: 1710504000

{
  "type": "https://api.example.com/errors/rate-limit-exceeded",
  "title": "Rate Limit Exceeded",
  "status": 429,
  "detail": "You have exceeded 1000 requests per hour. Try again in 30 seconds.",
  "retryAfter": 30
}</code></pre>

                <div class="alert alert-tip">
                    <span class="alert-label">Tip</span>
                    <p class="mb-0">Always include a <code>Retry-After</code> header with 429 responses. Clients need to know when they can resume making requests. Use seconds (integer) or an HTTP date.</p>
                </div>
            </div>

            <!-- Security Checklist -->
            <div class="subsection">
                <h3 class="subsection-title">Security Checklist</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">REQUIRED</span>
                        <h4>HTTPS Everywhere</h4>
                        <p>Serve all API endpoints over TLS. Redirect HTTP to HTTPS. Use HSTS headers. No exceptions, even for internal APIs.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUIRED</span>
                        <h4>Validate All Input</h4>
                        <p>Validate type, length, format, and range on every field. Reject unexpected fields. Never trust client data regardless of source.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUIRED</span>
                        <h4>Parameterized Queries</h4>
                        <p>Never concatenate user input into SQL or NoSQL queries. Use parameterized queries or an ORM to prevent injection attacks.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUIRED</span>
                        <h4>Short Token Lifetimes</h4>
                        <p>Access tokens: 15&ndash;60 minutes. Refresh tokens: days to weeks with rotation. Revoke tokens on password change or suspicious activity.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUIRED</span>
                        <h4>Role-Based Access (RBAC)</h4>
                        <p>Check permissions on every request. Verify the user can access the specific resource, not just the endpoint. Never rely on client-side checks alone.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">REQUIRED</span>
                        <h4>Monitor API Usage</h4>
                        <p>Log all authentication events. Track anomalous patterns (geographic, volume, timing). Set up alerts for brute force and credential stuffing attempts.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 08: PAGINATION, FILTERING & SORTING
             ============================================ -->

        <section id="pagination" class="section">
            <div class="section-header">
                <div class="section-number">08</div>
                <h2 class="section-title">Pagination, Filtering &amp; Sorting</h2>
                <p class="section-description">Slicing through large datasets. Offset, cursor, filters, and the query parameters that shape every collection response.</p>
            </div>

            <div class="ruler"></div>

            <!-- Why Paginate -->
            <div class="subsection">
                <h3 class="subsection-title">Why Paginate</h3>

                <p>Returning an entire collection in one response does not scale. A table with 100,000 rows serialized to JSON can exceed 50 MB and take seconds to transmit. Pagination limits response size, reduces database load, and improves perceived performance.</p>

                <div class="alert alert-warning">
                    <span class="alert-label">Warning</span>
                    <p class="mb-0">Add pagination from day one. Retrofitting pagination on an existing API is a breaking change &mdash; clients already depend on receiving the full collection. Even if your table has only 20 rows today, it will grow.</p>
                </div>
            </div>

            <!-- Offset Pagination -->
            <div class="subsection">
                <h3 class="subsection-title">Offset Pagination</h3>

                <p>The simplest approach. The client specifies how many items to skip (<code>offset</code>) and how many to return (<code>limit</code>). Maps directly to SQL's <code>LIMIT</code> and <code>OFFSET</code> clauses.</p>

                <pre><code><span class="comment"># Request &mdash; page 6 (items 101-120)</span>
<span class="method">GET</span> /api/v1/products?limit=20&amp;offset=100 <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "data": [
    { "id": 101, "name": "Ergonomic Keyboard", "price": 89.00 },
    { "id": 102, "name": "USB-C Hub", "price": 45.00 },
    <span class="comment">... 18 more items ...</span>
  ],
  "pagination": {
    "limit": 20,
    "offset": 100,
    "totalItems": 2340,
    "totalPages": 117,
    "currentPage": 6,
    "hasNextPage": true,
    "hasPrevPage": true
  }
}</code></pre>

                <div class="grid-2 mt-4">
                    <div>
                        <h4 class="mb-2">Pros</h4>
                        <ul>
                            <li>Simple to implement and understand</li>
                            <li>Clients can jump to any page directly</li>
                            <li>Easy to display "Page X of Y" in the UI</li>
                            <li>Total count enables progress indicators</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="mb-2">Cons</h4>
                        <ul>
                            <li>Slow at high offsets (database scans skipped rows)</li>
                            <li>Inconsistent results when data changes between pages</li>
                            <li><code>COUNT(*)</code> queries are expensive on large tables</li>
                            <li>Items can be skipped or duplicated during pagination</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Cursor Pagination -->
            <div class="subsection">
                <h3 class="subsection-title">Cursor Pagination</h3>

                <p>Instead of counting rows, the server returns an opaque cursor pointing to the last item in the current page. The client passes this cursor to fetch the next page. The cursor is typically a Base64-encoded value of the sort key.</p>

                <pre><code><span class="comment"># Request &mdash; first page</span>
<span class="method">GET</span> /api/v1/products?limit=20 <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "data": [
    { "id": 1, "name": "Mechanical Keyboard", "price": 129.00 },
    { "id": 2, "name": "Trackball Mouse", "price": 79.00 },
    <span class="comment">... 18 more items ...</span>
  ],
  "pagination": {
    "limit": 20,
    "hasNextPage": true,
    "hasPrevPage": false,
    "nextCursor": "eyJpZCI6MjAsImNyZWF0ZWRBdCI6IjIwMjUtMDMtMTVUMDk6MzA6MDBaIn0",
    "prevCursor": null
  }
}

<span class="comment"># Request &mdash; next page using cursor</span>
<span class="method">GET</span> /api/v1/products?limit=20&amp;after=eyJpZCI6MjAsImNyZWF0ZWRBdCI6IjIwMjUtMDMtMTVUMDk6MzA6MDBaIn0 <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="comment"># Response</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "data": [
    { "id": 21, "name": "Monitor Stand", "price": 59.00 },
    <span class="comment">... 19 more items ...</span>
  ],
  "pagination": {
    "limit": 20,
    "hasNextPage": true,
    "hasPrevPage": true,
    "nextCursor": "eyJpZCI6NDAsImNyZWF0ZWRBdCI6IjIwMjUtMDMtMTRUMTI6MDA6MDBaIn0",
    "prevCursor": "eyJpZCI6MjEsImNyZWF0ZWRBdCI6IjIwMjUtMDMtMTVUMDg6MDA6MDBaIn0"
  }
}</code></pre>

                <div class="grid-2 mt-4">
                    <div>
                        <h4 class="mb-2">Pros</h4>
                        <ul>
                            <li>Consistent performance regardless of dataset position</li>
                            <li>No skipped or duplicated items when data changes</li>
                            <li>Works efficiently with real-time data streams</li>
                            <li>No expensive <code>COUNT(*)</code> queries needed</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="mb-2">Cons</h4>
                        <ul>
                            <li>Cannot jump to an arbitrary page</li>
                            <li>Cannot display "Page X of Y" without extra queries</li>
                            <li>More complex client-side implementation</li>
                            <li>Cursors are opaque &mdash; harder to debug</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Comparison Table -->
            <div class="subsection">
                <h3 class="subsection-title">Offset vs Cursor Comparison</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Criteria</th>
                                <th>Offset Pagination</th>
                                <th>Cursor Pagination</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Performance</strong></td>
                                <td>Degrades at high offsets</td>
                                <td>Constant time regardless of position</td>
                            </tr>
                            <tr>
                                <td><strong>Consistency</strong></td>
                                <td>Items can shift between pages</td>
                                <td>Stable &mdash; no duplicates or gaps</td>
                            </tr>
                            <tr>
                                <td><strong>Implementation</strong></td>
                                <td>Simple &mdash; maps to SQL OFFSET</td>
                                <td>Moderate &mdash; requires indexed sort key</td>
                            </tr>
                            <tr>
                                <td><strong>Random Access</strong></td>
                                <td>Yes &mdash; jump to any page</td>
                                <td>No &mdash; forward/backward only</td>
                            </tr>
                            <tr>
                                <td><strong>Total Count</strong></td>
                                <td>Typically included</td>
                                <td>Usually omitted (expensive)</td>
                            </tr>
                            <tr>
                                <td><strong>Best For</strong></td>
                                <td>Admin panels, small datasets, reports</td>
                                <td>Feeds, timelines, large or real-time data</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Link Header Pagination -->
            <div class="subsection">
                <h3 class="subsection-title">Link Header Pagination (RFC 8288)</h3>

                <p>Instead of pagination metadata in the response body, some APIs (like GitHub) use the standard <code>Link</code> header. This keeps the response body clean and follows the HATEOAS principle.</p>

                <pre><code><span class="comment"># Response with Link header pagination</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
Link: &lt;https://api.example.com/products?limit=20&amp;after=eyJpZCI6NDB9&gt;; rel="next",
      &lt;https://api.example.com/products?limit=20&amp;before=eyJpZCI6MjF9&gt;; rel="prev",
      &lt;https://api.example.com/products?limit=20&gt;; rel="first"

[
  { "id": 21, "name": "Monitor Stand", "price": 59.00 },
  { "id": 22, "name": "Cable Management Kit", "price": 24.00 },
  <span class="comment">... 18 more items ...</span>
]</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">Note</span>
                    <p class="mb-0">If you use Link headers, also include an <code>Access-Control-Expose-Headers: Link</code> CORS header so browser-based clients can read it. Without this, the Link header is invisible to JavaScript.</p>
                </div>
            </div>

            <!-- Filtering -->
            <div class="subsection">
                <h3 class="subsection-title">Filtering</h3>

                <p>Filtering lets clients narrow results to exactly what they need, reducing payload size and database load. Use query parameters with clear, consistent naming.</p>

                <pre><code><span class="comment"># Simple equality filters</span>
<span class="method">GET</span> /api/v1/products?status=active&amp;category=electronics
<span class="method">GET</span> /api/v1/users?role=admin&amp;department=engineering

<span class="comment"># Range filters with suffixes</span>
<span class="method">GET</span> /api/v1/orders?created_after=2024-01-01&amp;created_before=2024-12-31
<span class="method">GET</span> /api/v1/products?price_min=10&amp;price_max=100

<span class="comment"># Multiple values (comma-separated)</span>
<span class="method">GET</span> /api/v1/products?status=active,featured&amp;tags=wireless,ergonomic

<span class="comment"># Search / full-text filter</span>
<span class="method">GET</span> /api/v1/products?search=mechanical+keyboard

<span class="comment"># Combined example &mdash; active electronics under $100, created this year</span>
<span class="method">GET</span> /api/v1/products?status=active&amp;category=electronics&amp;price_max=100&amp;created_after=2024-01-01&amp;limit=20 <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "data": [
    { "id": 42, "name": "Wireless Mouse", "price": 45.00, "status": "active", "category": "electronics" },
    { "id": 78, "name": "USB-C Hub", "price": 39.00, "status": "active", "category": "electronics" }
  ],
  "pagination": { "limit": 20, "offset": 0, "totalItems": 2, "totalPages": 1 },
  "filters": { "status": "active", "category": "electronics", "priceMax": 100, "createdAfter": "2024-01-01" }
}</code></pre>
            </div>

            <!-- Sorting -->
            <div class="subsection">
                <h3 class="subsection-title">Sorting</h3>

                <p>Sorting controls the order of results. Two common patterns exist &mdash; choose one and stay consistent across your API.</p>

                <div class="grid-2">
                    <div>
                        <h4 class="mb-2">Explicit Parameter Style</h4>
                        <pre><code><span class="comment"># Separate sort and order params</span>
<span class="method">GET</span> /api/v1/products
  ?sort=createdAt
  &amp;order=desc

<span class="method">GET</span> /api/v1/products
  ?sort=price
  &amp;order=asc

<span class="comment"># Multiple sort fields</span>
<span class="method">GET</span> /api/v1/products
  ?sort=category,price
  &amp;order=asc,desc</code></pre>
                    </div>
                    <div>
                        <h4 class="mb-2">Prefix Style (Compact)</h4>
                        <pre><code><span class="comment"># Prefix with - for descending</span>
<span class="method">GET</span> /api/v1/products
  ?sort=-createdAt

<span class="method">GET</span> /api/v1/products
  ?sort=price

<span class="comment"># Multiple sort fields</span>
<span class="method">GET</span> /api/v1/products
  ?sort=-category,price</code></pre>
                    </div>
                </div>

                <div class="alert alert-tip mt-4">
                    <span class="alert-label">Recommendation</span>
                    <p class="mb-0">Always define a default sort order (typically <code>-createdAt</code> for most resources). Document which fields are sortable &mdash; not every field needs to support sorting. Only allow sorting on indexed database columns.</p>
                </div>
            </div>

            <!-- Field Selection -->
            <div class="subsection">
                <h3 class="subsection-title">Field Selection (Sparse Fieldsets)</h3>

                <p>Let clients request only the fields they need. This reduces payload size, especially for resources with many properties or nested objects.</p>

                <pre><code><span class="comment"># Request only specific fields</span>
<span class="method">GET</span> /api/v1/users?fields=id,name,email <span class="status">HTTP/1.1</span>
Host: api.example.com
Authorization: Bearer eyJhbGci...

<span class="comment"># Response &mdash; only requested fields returned</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "data": [
    { "id": 1, "name": "Ada Lovelace", "email": "ada@example.com" },
    { "id": 2, "name": "Grace Hopper", "email": "grace@example.com" }
  ]
}

<span class="comment"># Without field selection (full response)</span>
<span class="method">GET</span> /api/v1/users <span class="status">HTTP/1.1</span>

<span class="comment"># Each user object would include all fields:</span>
<span class="comment"># id, name, email, role, bio, avatarUrl, department,</span>
<span class="comment"># createdAt, updatedAt, lastLoginAt, preferences, ...</span></code></pre>

                <div class="grid-2 mt-4">
                    <div>
                        <h4 class="mb-2">REST Field Selection</h4>
                        <p>Uses <code>?fields=</code> query parameter. Simple to implement. Limited to top-level fields in most implementations.</p>
                        <pre><code><span class="method">GET</span> /api/v1/users?fields=id,name</code></pre>
                    </div>
                    <div>
                        <h4 class="mb-2">GraphQL Approach</h4>
                        <p>Built-in field selection with nested objects. More powerful but requires a GraphQL schema and runtime.</p>
                        <pre><code>query {
  users {
    id
    name
    posts { title }
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 09: ERROR HANDLING
             ============================================ -->

        <section id="error-handling" class="section">
            <div class="section-header">
                <div class="section-number">09</div>
                <h2 class="section-title">Error Handling</h2>
                <p class="section-description">When things go wrong, tell the client exactly what happened, why, and what to do next. Structured errors are a feature, not an afterthought.</p>
            </div>

            <div class="ruler"></div>

            <!-- RFC 9457 Problem Details -->
            <div class="subsection">
                <h3 class="subsection-title">RFC 9457 &mdash; Problem Details for HTTP APIs</h3>

                <p>RFC 9457 (formerly RFC 7807) defines a standard JSON format for error responses. Using this standard means clients only need to learn one error structure, and tooling can parse errors automatically.</p>

                <pre><code><span class="comment"># Content-Type for Problem Details responses</span>
Content-Type: application/problem+json

<span class="comment"># Basic structure</span>
{
  "type": "https://api.example.com/errors/validation-error",
  "title": "Validation Error",
  "status": 400,
  "detail": "The request body contains invalid fields.",
  "instance": "/api/v1/users/42"
}</code></pre>
            </div>

            <!-- Problem Details Fields -->
            <div class="subsection">
                <h3 class="subsection-title">Problem Details Fields</h3>

                <div class="spec-block">
                    <h4>Standard Members</h4>
                    <div class="spec-row">
                        <span class="spec-key">type</span>
                        <span class="spec-value">URI identifying the error type. Should resolve to documentation. Use "about:blank" if no specific type.</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">title</span>
                        <span class="spec-value">Short, human-readable summary. Should be the same for every occurrence of this error type.</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">status</span>
                        <span class="spec-value">HTTP status code (integer). Must match the actual HTTP response status.</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">detail</span>
                        <span class="spec-value">Human-readable explanation specific to this occurrence. Different each time.</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-key">instance</span>
                        <span class="spec-value">URI reference identifying this specific occurrence. Useful for log correlation.</span>
                    </div>
                </div>

                <div class="alert alert-tip">
                    <span class="alert-label">Tip</span>
                    <p class="mb-0">The <code>type</code> field is meant to be a stable, machine-readable identifier. Point it at a documentation page that explains the error, its causes, and how to fix it. Clients can use this URI to dispatch error handling logic.</p>
                </div>
            </div>

            <!-- Example Error Responses -->
            <div class="subsection">
                <h3 class="subsection-title">Error Response Examples</h3>

                <h4 class="mb-3">400 &mdash; Validation Error</h4>
                <pre><code><span class="status">HTTP/1.1 400 Bad Request</span>
Content-Type: application/problem+json

{
  "type": "https://api.example.com/errors/validation-error",
  "title": "Validation Error",
  "status": 400,
  "detail": "The request body contains 2 invalid fields.",
  "instance": "/api/v1/users",
  "errors": [
    {
      "field": "email",
      "code": "INVALID_FORMAT",
      "message": "Must be a valid email address.",
      "rejected": "not-an-email"
    },
    {
      "field": "age",
      "code": "OUT_OF_RANGE",
      "message": "Must be between 13 and 150.",
      "rejected": -5
    }
  ]
}</code></pre>

                <h4 class="mb-3 mt-4">401 &mdash; Authentication Error</h4>
                <pre><code><span class="status">HTTP/1.1 401 Unauthorized</span>
Content-Type: application/problem+json
WWW-Authenticate: Bearer error="invalid_token"

{
  "type": "https://api.example.com/errors/token-expired",
  "title": "Authentication Required",
  "status": 401,
  "detail": "The access token expired at 2025-03-15T10:30:00Z. Request a new token using your refresh token.",
  "instance": "/api/v1/users/me",
  "expiredAt": "2025-03-15T10:30:00Z"
}</code></pre>

                <h4 class="mb-3 mt-4">403 &mdash; Authorization Error</h4>
                <pre><code><span class="status">HTTP/1.1 403 Forbidden</span>
Content-Type: application/problem+json

{
  "type": "https://api.example.com/errors/insufficient-permissions",
  "title": "Insufficient Permissions",
  "status": 403,
  "detail": "You need the 'admin:write' permission to delete users.",
  "instance": "/api/v1/users/42",
  "requiredPermissions": ["admin:write"],
  "currentPermissions": ["user:read", "user:write"]
}</code></pre>

                <h4 class="mb-3 mt-4">404 &mdash; Not Found</h4>
                <pre><code><span class="status">HTTP/1.1 404 Not Found</span>
Content-Type: application/problem+json

{
  "type": "https://api.example.com/errors/resource-not-found",
  "title": "Resource Not Found",
  "status": 404,
  "detail": "No user found with ID 'usr_9999'.",
  "instance": "/api/v1/users/usr_9999",
  "resourceType": "User",
  "resourceId": "usr_9999"
}</code></pre>

                <h4 class="mb-3 mt-4">429 &mdash; Rate Limit Exceeded</h4>
                <pre><code><span class="status">HTTP/1.1 429 Too Many Requests</span>
Content-Type: application/problem+json
Retry-After: 45
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 0
X-RateLimit-Reset: 1710504000

{
  "type": "https://api.example.com/errors/rate-limit-exceeded",
  "title": "Rate Limit Exceeded",
  "status": 429,
  "detail": "You have sent 1001 requests in the current hour window. Retry after 45 seconds.",
  "instance": "/api/v1/products",
  "retryAfter": 45,
  "limit": 1000,
  "windowSeconds": 3600
}</code></pre>

                <h4 class="mb-3 mt-4">500 &mdash; Internal Server Error</h4>
                <pre><code><span class="status">HTTP/1.1 500 Internal Server Error</span>
Content-Type: application/problem+json

{
  "type": "https://api.example.com/errors/internal-error",
  "title": "Internal Server Error",
  "status": 500,
  "detail": "An unexpected error occurred. Our team has been notified. Reference this incident ID when contacting support.",
  "instance": "/api/v1/orders/789",
  "incidentId": "inc_a1b2c3d4e5f6"
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-label">Warning</span>
                    <p class="mb-0">Never expose stack traces, internal file paths, database queries, or server configuration in 5xx error responses. Attackers use this information for reconnaissance. Log the details server-side and return only the incident ID to the client.</p>
                </div>
            </div>

            <!-- Error Codes vs Messages -->
            <div class="subsection">
                <h3 class="subsection-title">Error Codes vs Messages</h3>

                <p>Always include both a machine-readable <strong>code</strong> and a human-readable <strong>message</strong> in error responses. They serve different audiences.</p>

                <div class="grid-2">
                    <div>
                        <h4 class="mb-2">Machine-Readable Codes</h4>
                        <p>Use <code>UPPER_SNAKE_CASE</code> for error codes. Clients switch on these values programmatically. Codes must be stable across API versions.</p>
                        <pre><code><span class="comment"># Machine-readable codes</span>
"code": "VALIDATION_ERROR"
"code": "INVALID_FORMAT"
"code": "RESOURCE_NOT_FOUND"
"code": "TOKEN_EXPIRED"
"code": "RATE_LIMIT_EXCEEDED"
"code": "INSUFFICIENT_PERMISSIONS"</code></pre>
                    </div>
                    <div>
                        <h4 class="mb-2">Human-Readable Messages</h4>
                        <p>Messages are for developers reading logs and users seeing error UI. They can change between versions and should be as helpful as possible.</p>
                        <pre><code><span class="comment"># Human-readable messages</span>
"message": "The request body
  contains invalid fields."
"message": "Must be a valid
  email address."
"message": "No user found
  with ID 'usr_9999'."
"message": "The access token
  expired. Please refresh."</code></pre>
                    </div>
                </div>
            </div>

            <!-- Retry-After Header -->
            <div class="subsection">
                <h3 class="subsection-title">Retry-After Header</h3>

                <p>The <code>Retry-After</code> header tells the client when to try again. It supports two formats. Include it with all <code>429</code> responses and optionally with <code>503 Service Unavailable</code>.</p>

                <pre><code><span class="comment"># Format 1 &mdash; Delay in seconds (preferred)</span>
Retry-After: 30

<span class="comment"># Format 2 &mdash; HTTP date (absolute time)</span>
Retry-After: Sun, 16 Mar 2025 10:30:00 GMT

<span class="comment"># Full 429 response with Retry-After</span>
<span class="status">HTTP/1.1 429 Too Many Requests</span>
Content-Type: application/problem+json
Retry-After: 30

{
  "type": "https://api.example.com/errors/rate-limit-exceeded",
  "title": "Rate Limit Exceeded",
  "status": 429,
  "detail": "Try again in 30 seconds."
}

<span class="comment"># 503 during maintenance with Retry-After</span>
<span class="status">HTTP/1.1 503 Service Unavailable</span>
Retry-After: Sun, 16 Mar 2025 12:00:00 GMT

{
  "type": "https://api.example.com/errors/maintenance",
  "title": "Service Unavailable",
  "status": 503,
  "detail": "Scheduled maintenance in progress. Expected completion at 12:00 UTC."
}</code></pre>
            </div>

            <!-- Partial Success -->
            <div class="subsection">
                <h3 class="subsection-title">Partial Success &mdash; 207 Multi-Status</h3>

                <p>When a batch operation succeeds for some items and fails for others, return <code>207 Multi-Status</code> with individual status codes for each item. This avoids the ambiguity of returning 200 (hiding failures) or 400 (hiding successes).</p>

                <pre><code><span class="comment"># Batch request &mdash; create multiple users</span>
<span class="method">POST</span> /api/v1/users/batch <span class="status">HTTP/1.1</span>
Content-Type: application/json

{
  "items": [
    { "name": "Ada Lovelace", "email": "ada@example.com" },
    { "name": "Grace Hopper", "email": "invalid-email" },
    { "name": "Alan Turing", "email": "alan@example.com" }
  ]
}

<span class="comment"># Response &mdash; 207 Multi-Status</span>
<span class="status">HTTP/1.1 207 Multi-Status</span>
Content-Type: application/json

{
  "summary": {
    "total": 3,
    "succeeded": 2,
    "failed": 1
  },
  "results": [
    {
      "index": 0,
      "status": 201,
      "data": { "id": 101, "name": "Ada Lovelace", "email": "ada@example.com" }
    },
    {
      "index": 1,
      "status": 400,
      "error": {
        "type": "https://api.example.com/errors/validation-error",
        "title": "Validation Error",
        "detail": "Invalid email format.",
        "errors": [{ "field": "email", "code": "INVALID_FORMAT", "message": "Must be a valid email address." }]
      }
    },
    {
      "index": 2,
      "status": 201,
      "data": { "id": 102, "name": "Alan Turing", "email": "alan@example.com" }
    }
  ]
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">Note</span>
                    <p class="mb-0">Always include a <code>summary</code> object with <code>total</code>, <code>succeeded</code>, and <code>failed</code> counts so clients can quickly check if they need to inspect individual results. The <code>index</code> field maps each result back to the original request item.</p>
                </div>
            </div>

            <!-- Error Handling Best Practices -->
            <div class="subsection">
                <h3 class="subsection-title">Error Handling Best Practices</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Use Consistent Structure</h4>
                        <p>Every error response from your API should follow the same format. Clients should never have to guess whether the error is in <code>error.message</code>, <code>errors[0]</code>, or <code>detail</code>.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Be Specific, Not Vague</h4>
                        <p>Say "The email field must be a valid email address" not "Bad request." Say "User usr_9999 not found" not "Not found." Specific errors save hours of debugging.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Return All Validation Errors</h4>
                        <p>Do not return only the first validation error. Collect all invalid fields and return them together so the client can fix everything in one round trip.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Log Correlation IDs</h4>
                        <p>Include an <code>incidentId</code> or <code>requestId</code> in error responses. This lets support teams trace client-reported errors back to server logs without exposing internal details.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Document Every Error Code</h4>
                        <p>Your API docs should list every error <code>type</code> and <code>code</code> your API can return, with causes and remediation steps. The <code>type</code> URI should link to this documentation.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Distinguish Client vs Server</h4>
                        <p>4xx errors mean the client did something wrong and should fix the request. 5xx errors mean the server failed and the client should retry. Never return 500 for validation errors.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 10 — VERSIONING & EVOLUTION
             ============================================ -->

        <section id="versioning" class="section">
            <div class="section-header">
                <div class="section-number">10</div>
                <h2 class="section-title">Versioning &amp; Evolution</h2>
                <p class="section-description">APIs are contracts. Versioning lets you evolve the contract without breaking every client that depends on it.</p>
            </div>

            <div class="ruler"></div>

            <!-- Why Version -->
            <div class="subsection">
                <h3 class="subsection-title">Why Version Your API</h3>

                <p>Every public API will eventually need to change. New features require new fields. Business pivots require structural changes. Without versioning, any change risks breaking existing clients. A versioning strategy gives you a clear upgrade path: old clients keep working while new clients adopt the latest contract.</p>

                <p>You need a new version when you must make a <strong>breaking change</strong> &mdash; removing a field, changing a type, or restructuring a response. If you can add features without breaking existing behavior, you do not need a new version.</p>
            </div>

            <!-- Versioning Strategies -->
            <div class="subsection">
                <h3 class="subsection-title">Versioning Strategies</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Strategy</th>
                                <th>Example</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>URL Path</strong></td>
                                <td><code>/v1/users</code></td>
                                <td>Most visible, easy to route, cache-friendly, widely adopted</td>
                                <td>Proliferates base URLs, version embedded in resource identity</td>
                            </tr>
                            <tr>
                                <td><strong>Query Parameter</strong></td>
                                <td><code>/users?version=2</code></td>
                                <td>Easy to add, optional with default</td>
                                <td>Easy to forget, harder to route, pollutes query string</td>
                            </tr>
                            <tr>
                                <td><strong>Header</strong></td>
                                <td><code>Accept: application/vnd.api.v2+json</code></td>
                                <td>Clean URLs, follows HTTP content negotiation</td>
                                <td>Hidden from browser, harder to test, poor caching</td>
                            </tr>
                            <tr>
                                <td><strong>Hostname</strong></td>
                                <td><code>v2.api.example.com</code></td>
                                <td>Complete isolation, independent deployment</td>
                                <td>DNS management overhead, CORS complexity, certificate costs</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-info">
                    <span class="alert-label">Recommendation</span>
                    <p class="mb-0"><strong>URL path versioning</strong> (<code>/v1/</code>, <code>/v2/</code>) is the industry standard. It is explicit, discoverable, and supported by every API gateway, load balancer, and documentation tool out of the box. Use it unless you have a compelling reason not to.</p>
                </div>
            </div>

            <!-- URL Path Versioning -->
            <div class="subsection">
                <h3 class="subsection-title">URL Path Versioning in Practice</h3>

                <pre><code><span class="comment"># Version in the base path, before the resource</span>
<span class="method">GET</span>  /api/v1/users          <span class="comment"># Version 1 &mdash; original</span>
<span class="method">GET</span>  /api/v2/users          <span class="comment"># Version 2 &mdash; new response format</span>

<span class="comment"># Both versions run simultaneously</span>
<span class="method">GET</span>  /api/v1/users/42       <span class="comment"># Returns flat user object</span>
<span class="method">GET</span>  /api/v2/users/42       <span class="comment"># Returns user with nested profile</span>

<span class="comment"># Routing pattern (Express.js example)</span>
app.use('/api/v1', v1Router);
app.use('/api/v2', v2Router);

<span class="comment"># Reverse proxy routing (nginx)</span>
location /api/v1/ {
    proxy_pass http://api-v1-service/;
}
location /api/v2/ {
    proxy_pass http://api-v2-service/;
}</code></pre>

                <p>Version only the <strong>major</strong> version in the URL. Minor and patch changes should be backward-compatible and deployed in place. If you find yourself at <code>/v14/</code>, your breaking-change threshold is too low.</p>
            </div>

            <!-- Breaking vs Non-Breaking Changes -->
            <div class="subsection">
                <h3 class="subsection-title">Breaking vs Non-Breaking Changes</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Change Type</th>
                                <th>Example</th>
                                <th>Breaking?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Remove a field from a response</td>
                                <td>Drop <code>user.username</code></td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td>Rename a field</td>
                                <td><code>name</code> &rarr; <code>full_name</code></td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td>Change a field's type</td>
                                <td><code>id</code>: number &rarr; string</td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td>Remove an endpoint</td>
                                <td>Delete <code>GET /users/search</code></td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td>Make an optional field required</td>
                                <td><code>phone</code> now required on POST</td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td>Change error response structure</td>
                                <td>Different error JSON format</td>
                                <td><strong>Yes</strong></td>
                            </tr>
                            <tr>
                                <td>Add a new optional field to response</td>
                                <td>Add <code>user.avatar_url</code></td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td>Add a new endpoint</td>
                                <td>Add <code>GET /users/me</code></td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td>Add a new optional query parameter</td>
                                <td>Add <code>?include=profile</code></td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td>Add a new HTTP header</td>
                                <td>Add <code>X-Request-Cost</code> to responses</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td>Add a new enum value</td>
                                <td>Add <code>"archived"</code> to status values</td>
                                <td>No (if clients handle unknown values)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Deprecation -->
            <div class="subsection">
                <h3 class="subsection-title">Deprecation &amp; Sunset</h3>

                <p>When retiring an API version, use the <code>Deprecation</code> and <code>Sunset</code> headers (RFC 8594) to give clients advance notice. A deprecation means "this still works but will be removed." A sunset means "this is the date it stops working."</p>

                <pre><code><span class="comment"># Response headers for a deprecated endpoint</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json
<span class="keyword">Deprecation</span>: Sun, 01 Jan 2025 00:00:00 GMT
<span class="keyword">Sunset</span>: Sun, 01 Jul 2025 00:00:00 GMT
<span class="keyword">Link</span>: &lt;https://api.example.com/v2/users&gt;; rel="successor-version"

<span class="comment"># Deprecation notice in response body (optional but helpful)</span>
{
  "data": [ ... ],
  "_deprecation": {
    "message": "API v1 is deprecated. Migrate to v2 by July 1, 2025.",
    "migration_guide": "https://docs.example.com/migrate-v1-to-v2",
    "sunset_date": "2025-07-01"
  }
}</code></pre>

                <div class="alert alert-warning">
                    <span class="alert-label">Timeline</span>
                    <p class="mb-0">Give clients <strong>6 to 12 months</strong> between the deprecation announcement and the sunset date. For enterprise APIs, 12 months is standard. Monitor usage of deprecated endpoints and reach out to active consumers directly.</p>
                </div>
            </div>

            <!-- Migration Guide -->
            <div class="subsection">
                <h3 class="subsection-title">Migration Notices</h3>

                <p>Every deprecation should come with a migration guide. Include these in your deprecation notices:</p>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">INCLUDE</span>
                        <h4>What Changed</h4>
                        <p>List every breaking change between the old and new version. Be specific: "the <code>name</code> field was split into <code>first_name</code> and <code>last_name</code>."</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">INCLUDE</span>
                        <h4>Before/After Examples</h4>
                        <p>Show the old request/response alongside the new one. Side-by-side comparisons make migration straightforward.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">INCLUDE</span>
                        <h4>Timeline &amp; Dates</h4>
                        <p>When was the old version deprecated? When will it be removed? What happens to requests after sunset?</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">INCLUDE</span>
                        <h4>Support Contact</h4>
                        <p>Provide a way for developers to ask questions or request deadline extensions. A migration without support is an ultimatum.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 11 — DOCUMENTATION & TESTING
             ============================================ -->

        <section id="documentation" class="section">
            <div class="section-header">
                <div class="section-number">11</div>
                <h2 class="section-title">Documentation &amp; Testing</h2>
                <p class="section-description">An undocumented API does not exist. An untested API cannot be trusted. Both are non-negotiable for production APIs.</p>
            </div>

            <div class="ruler"></div>

            <!-- OpenAPI / Swagger -->
            <div class="subsection">
                <h3 class="subsection-title">OpenAPI / Swagger</h3>

                <p>The OpenAPI Specification (formerly Swagger) is the industry standard for describing REST APIs. It defines your endpoints, request/response schemas, authentication, and error formats in a machine-readable YAML or JSON file. Tools like Swagger UI, Redoc, and Postman can consume this spec to generate interactive documentation automatically.</p>

                <pre><code><span class="comment"># openapi.yaml &mdash; OpenAPI 3.1 example</span>
openapi: 3.1.0
info:
  title: Users API
  version: 1.0.0
  description: Manage user accounts and profiles.
  contact:
    email: api-support@example.com

servers:
  - url: https://api.example.com/v1
    description: Production

paths:
  /users:
    get:
      summary: List users
      operationId: listUsers
      tags: [Users]
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
            maximum: 100
      responses:
        '200':
          description: A paginated list of users
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /users/{id}:
    get:
      summary: Get a user by ID
      operationId: getUser
      tags: [Users]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: The user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          $ref: '#/components/responses/NotFound'

components:
  schemas:
    User:
      type: object
      required: [id, email, name]
      properties:
        id:
          type: integer
          example: 42
        email:
          type: string
          format: email
          example: ada@example.com
        name:
          type: string
          example: Ada Lovelace
        created_at:
          type: string
          format: date-time

    Pagination:
      type: object
      properties:
        page:
          type: integer
        per_page:
          type: integer
        total:
          type: integer
        total_pages:
          type: integer

    ProblemDetail:
      type: object
      properties:
        type:
          type: string
        title:
          type: string
        status:
          type: integer
        detail:
          type: string

  responses:
    Unauthorized:
      description: Missing or invalid authentication
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/ProblemDetail'
    NotFound:
      description: Resource not found
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/ProblemDetail'</code></pre>
            </div>

            <!-- Documentation Best Practices -->
            <div class="subsection">
                <h3 class="subsection-title">Documentation Best Practices</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Include Examples for Every Endpoint</h4>
                        <p>Show a complete request (with headers, body, and query parameters) and its response. Developers copy-paste examples; make them work out of the box.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Document All Error Codes</h4>
                        <p>List every error <code>type</code>, <code>status</code>, and <code>code</code> your API can return. Include the cause, an example response body, and remediation steps.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Show Authentication Setup</h4>
                        <p>Walk through the full auth flow: how to get credentials, how to include them in requests, what happens when they expire, and how to refresh them.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Provide SDKs &amp; Code Samples</h4>
                        <p>Offer examples in multiple languages (curl, Python, JavaScript, Go). Auto-generated SDKs from your OpenAPI spec reduce integration time from days to hours.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Use Interactive Documentation</h4>
                        <p>Tools like Swagger UI and Redoc let developers make real API calls from the docs page. A "Try It" button is worth a thousand words of explanation.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">PRACTICE</span>
                        <h4>Keep Docs in Sync with Code</h4>
                        <p>Generate docs from the OpenAPI spec, and validate the spec in CI. If the spec drifts from the implementation, neither can be trusted.</p>
                    </div>
                </div>
            </div>

            <!-- API Testing Types -->
            <div class="subsection">
                <h3 class="subsection-title">API Testing Types</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Test Type</th>
                                <th>Scope</th>
                                <th>What It Validates</th>
                                <th>Tools</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Unit Tests</strong></td>
                                <td>Single function / handler</td>
                                <td>Business logic, validation rules, data transformations</td>
                                <td>Jest, pytest, JUnit</td>
                            </tr>
                            <tr>
                                <td><strong>Integration Tests</strong></td>
                                <td>API endpoint + database</td>
                                <td>Request routing, serialization, database queries, auth</td>
                                <td>Supertest, requests, REST Assured</td>
                            </tr>
                            <tr>
                                <td><strong>Contract Tests</strong></td>
                                <td>API boundary</td>
                                <td>Request/response shapes match the spec; no breaking changes</td>
                                <td>Pact, Schemathesis, Dredd</td>
                            </tr>
                            <tr>
                                <td><strong>Load Tests</strong></td>
                                <td>Full system under traffic</td>
                                <td>Throughput, latency percentiles, error rates at scale</td>
                                <td>k6, Locust, Gatling, Artillery</td>
                            </tr>
                            <tr>
                                <td><strong>Security Tests</strong></td>
                                <td>Attack surface</td>
                                <td>Auth bypass, injection, rate limit enforcement, data exposure</td>
                                <td>OWASP ZAP, Burp Suite, Nuclei</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Testing with curl -->
            <div class="subsection">
                <h3 class="subsection-title">Testing with curl</h3>

                <pre><code><span class="comment"># GET request with authentication</span>
<span class="keyword">curl</span> -X GET https://api.example.com/v1/users \
  -H "Authorization: Bearer eyJhbGciOi..." \
  -H "Accept: application/json" \
  | jq .

<span class="comment"># POST request with JSON body</span>
<span class="keyword">curl</span> -X POST https://api.example.com/v1/users \
  -H "Authorization: Bearer eyJhbGciOi..." \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Ada Lovelace",
    "email": "ada@example.com",
    "role": "admin"
  }'

<span class="comment"># Verbose mode &mdash; see request/response headers</span>
<span class="keyword">curl</span> -v -X GET https://api.example.com/v1/users/42

<span class="comment"># Test error handling &mdash; expect a 404</span>
<span class="keyword">curl</span> -s -o /dev/null -w "%{http_code}" \
  https://api.example.com/v1/users/99999
<span class="comment"># Output: 404</span>

<span class="comment"># Time the request (connection + transfer)</span>
<span class="keyword">curl</span> -s -o /dev/null \
  -w "connect: %{time_connect}s\ntotal: %{time_total}s\n" \
  https://api.example.com/v1/users</code></pre>
            </div>

            <!-- Contract Testing -->
            <div class="subsection">
                <h3 class="subsection-title">Contract Testing</h3>

                <p>Contract tests verify that an API producer and its consumers agree on the shape of requests and responses. They catch breaking changes before deployment &mdash; without spinning up the full system.</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Approach</th>
                                <th>How It Works</th>
                                <th>Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Provider-Driven</strong></td>
                                <td>The API team publishes an OpenAPI spec. Consumers test against it. Tools like Schemathesis fuzz the spec to find violations.</td>
                                <td>Public APIs, APIs with many consumers you do not control</td>
                            </tr>
                            <tr>
                                <td><strong>Consumer-Driven</strong></td>
                                <td>Each consumer writes a "pact" defining what they need. The provider runs all pacts in CI. If a pact fails, the change is blocked.</td>
                                <td>Microservices where teams own both producer and consumer</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <pre><code><span class="comment"># Schemathesis &mdash; fuzz your API against its OpenAPI spec</span>
<span class="keyword">pip install</span> schemathesis
<span class="keyword">st run</span> --checks all https://api.example.com/openapi.json

<span class="comment"># Pact &mdash; consumer-driven contract test (JavaScript)</span>
const { PactV4 } = require('@pact-foundation/pact');

const pact = new PactV4({ consumer: 'WebApp', provider: 'UsersAPI' });

pact.addInteraction({
  states: [{ description: 'user 42 exists' }],
  uponReceiving: 'a request for user 42',
  withRequest: {
    method: 'GET',
    path: '/api/v1/users/42',
    headers: { Accept: 'application/json' },
  },
  willRespondWith: {
    status: 200,
    headers: { 'Content-Type': 'application/json' },
    body: {
      id: 42,
      name: 'Ada Lovelace',
      email: 'ada@example.com',
    },
  },
});</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">Why It Matters</span>
                    <p class="mb-0">Contract tests are the safety net for API evolution. They run in seconds (no real server needed), catch breaking changes in CI, and give both teams confidence to deploy independently.</p>
                </div>
            </div>
        </section>

        <!-- ============================================
             SECTION 12 — BEST PRACTICES
             ============================================ -->

        <section id="best-practices" class="section">
            <div class="section-header">
                <div class="section-number">12</div>
                <h2 class="section-title">Best Practices</h2>
                <p class="section-description">Patterns, principles, and anti-patterns distilled from decades of API design. The difference between an API people tolerate and one they love.</p>
            </div>

            <div class="ruler"></div>

            <!-- API Design Checklist -->
            <div class="subsection">
                <h3 class="subsection-title">API Design Checklist</h3>

                <div class="command-grid">
                    <div class="command-card">
                        <span class="card-number">01</span>
                        <h4>Use Nouns, Not Verbs in URLs</h4>
                        <p>Resources are things: <code>/users</code>, <code>/orders</code>, <code>/invoices</code>. The HTTP method is the verb. Never <code>/getUsers</code> or <code>/createOrder</code>.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">02</span>
                        <h4>Version from Day One</h4>
                        <p>Put <code>/v1/</code> in your URL path before you launch. Adding versioning later means migrating every client at once &mdash; the hardest possible upgrade.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">03</span>
                        <h4>Paginate All Collections</h4>
                        <p>Never return unbounded lists. Use cursor-based or offset pagination with sensible defaults (<code>per_page=20</code>, <code>max=100</code>).</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">04</span>
                        <h4>Use Proper HTTP Methods &amp; Status Codes</h4>
                        <p>GET reads. POST creates. PUT replaces. PATCH updates. DELETE removes. Return 201 for creation, 204 for deletion, 404 for missing resources.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">05</span>
                        <h4>Return Structured Errors (RFC 9457)</h4>
                        <p>Every error should include <code>type</code>, <code>title</code>, <code>status</code>, and <code>detail</code>. Consistent error structures let clients build reliable error handling.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">06</span>
                        <h4>Implement Auth &amp; Rate Limiting</h4>
                        <p>Use OAuth 2.0 or API keys. Enforce rate limits with <code>429 Too Many Requests</code> and <code>Retry-After</code> headers. Protect your API from abuse and overload.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">07</span>
                        <h4>Support Filtering, Sorting, Field Selection</h4>
                        <p>Let clients request only what they need: <code>?status=active&amp;sort=-created_at&amp;fields=id,name</code>. Less data transferred means faster responses.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">08</span>
                        <h4>Use HTTPS Everywhere</h4>
                        <p>Never serve an API over plain HTTP. TLS protects credentials, tokens, and data in transit. Redirect HTTP to HTTPS. Use HSTS headers.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">09</span>
                        <h4>Document with OpenAPI</h4>
                        <p>Write your OpenAPI spec first, then implement. Generate interactive docs, client SDKs, and contract tests from a single source of truth.</p>
                    </div>
                    <div class="command-card">
                        <span class="card-number">10</span>
                        <h4>Design for Backward Compatibility</h4>
                        <p>Add fields, do not remove them. Add endpoints, do not rename them. Treat your API like a public promise &mdash; breaking it costs trust.</p>
                    </div>
                </div>
            </div>

            <!-- HATEOAS -->
            <div class="subsection">
                <h3 class="subsection-title">HATEOAS</h3>

                <p><strong>Hypermedia as the Engine of Application State</strong> (HATEOAS) means your API responses include links that tell the client what it can do next. Instead of hard-coding URLs, clients follow links &mdash; like clicking through a website.</p>

                <pre><code><span class="comment"># GET /api/v1/orders/1234</span>
<span class="status">HTTP/1.1 200 OK</span>
Content-Type: application/json

{
  "id": 1234,
  "status": "pending",
  "total": 89.99,
  "currency": "USD",
  "created_at": "2025-03-15T10:30:00Z",
  "_links": {
    "self":    { "href": "/api/v1/orders/1234" },
    "approve": { "href": "/api/v1/orders/1234/approve", "method": "POST" },
    "cancel":  { "href": "/api/v1/orders/1234/cancel",  "method": "POST" },
    "items":   { "href": "/api/v1/orders/1234/items" },
    "customer": { "href": "/api/v1/customers/567" }
  }
}

<span class="comment"># After the order is approved, the links change:</span>
{
  "id": 1234,
  "status": "approved",
  "total": 89.99,
  "_links": {
    "self":   { "href": "/api/v1/orders/1234" },
    "ship":   { "href": "/api/v1/orders/1234/ship", "method": "POST" },
    "refund": { "href": "/api/v1/orders/1234/refund", "method": "POST" },
    "items":  { "href": "/api/v1/orders/1234/items" }
  }
}</code></pre>

                <div class="alert alert-info">
                    <span class="alert-label">When to Use</span>
                    <p class="mb-0">HATEOAS shines in complex workflow APIs (orders, approvals, state machines) where the available actions depend on the current state. For simple CRUD APIs, it adds overhead without clear benefit. Adopt it when your API has state transitions that clients need to discover dynamically.</p>
                </div>
            </div>

            <!-- Idempotency Keys -->
            <div class="subsection">
                <h3 class="subsection-title">Idempotency Keys</h3>

                <p>Network failures happen. Clients retry. Without idempotency keys, a retried <code>POST /payments</code> might charge the customer twice. An idempotency key lets the server recognize a duplicate request and return the original response instead of processing it again.</p>

                <pre><code><span class="comment"># Client generates a UUID and sends it with the request</span>
<span class="method">POST</span> /api/v1/payments <span class="status">HTTP/1.1</span>
Content-Type: application/json
<span class="keyword">Idempotency-Key</span>: 8a3b9c7e-4d2f-4a1b-9e6c-3f8d7a2b1c0e

{
  "amount": 2500,
  "currency": "USD",
  "customer_id": "cus_abc123",
  "description": "Monthly subscription"
}

<span class="comment"># First request &mdash; server processes and stores the key + response</span>
<span class="status">HTTP/1.1 201 Created</span>
<span class="keyword">Idempotency-Key</span>: 8a3b9c7e-4d2f-4a1b-9e6c-3f8d7a2b1c0e

{
  "id": "pay_xyz789",
  "amount": 2500,
  "status": "succeeded"
}

<span class="comment"># Retry with same key &mdash; server returns cached response (no double charge)</span>
<span class="status">HTTP/1.1 201 Created</span>
<span class="keyword">Idempotency-Key</span>: 8a3b9c7e-4d2f-4a1b-9e6c-3f8d7a2b1c0e

{
  "id": "pay_xyz789",
  "amount": 2500,
  "status": "succeeded"
}</code></pre>

                <p>Store idempotency keys server-side with the response for 24 to 48 hours. Use UUIDs (v4) for key generation. This pattern is used by Stripe, PayPal, and most payment APIs.</p>
            </div>

            <!-- Caching -->
            <div class="subsection">
                <h3 class="subsection-title">Caching</h3>

                <p>Proper caching reduces server load, lowers latency, and saves bandwidth. HTTP has built-in caching mechanisms &mdash; use them instead of inventing your own.</p>

                <pre><code><span class="comment"># Server responds with ETag (a fingerprint of the response)</span>
<span class="method">GET</span> /api/v1/users/42 <span class="status">HTTP/1.1</span>

<span class="status">HTTP/1.1 200 OK</span>
<span class="keyword">ETag</span>: "a1b2c3d4e5f6"
<span class="keyword">Cache-Control</span>: private, max-age=60
Content-Type: application/json

{ "id": 42, "name": "Ada Lovelace", "email": "ada@example.com" }

<span class="comment"># Client sends conditional request with If-None-Match</span>
<span class="method">GET</span> /api/v1/users/42 <span class="status">HTTP/1.1</span>
<span class="keyword">If-None-Match</span>: "a1b2c3d4e5f6"

<span class="comment"># Data hasn't changed &mdash; server returns 304 with no body</span>
<span class="status">HTTP/1.1 304 Not Modified</span>
<span class="keyword">ETag</span>: "a1b2c3d4e5f6"
<span class="keyword">Cache-Control</span>: private, max-age=60

<span class="comment"># Common Cache-Control directives</span>
Cache-Control: public, max-age=3600     <span class="comment"># CDN + browser cache for 1 hour</span>
Cache-Control: private, max-age=60      <span class="comment"># Browser only, 1 minute</span>
Cache-Control: no-cache                 <span class="comment"># Always revalidate with server</span>
Cache-Control: no-store                 <span class="comment"># Never cache (sensitive data)</span></code></pre>
            </div>

            <!-- Webhooks -->
            <div class="subsection">
                <h3 class="subsection-title">Webhooks</h3>

                <p>Polling wastes resources. Webhooks flip the model: instead of the client asking "did anything change?" every few seconds, the server pushes events to the client when something happens.</p>

                <pre><code><span class="comment"># 1. Client registers a webhook endpoint</span>
<span class="method">POST</span> /api/v1/webhooks <span class="status">HTTP/1.1</span>
Content-Type: application/json

{
  "url": "https://myapp.example.com/hooks/orders",
  "events": ["order.created", "order.shipped", "order.refunded"],
  "secret": "whsec_abc123..."
}

<span class="comment"># 2. When an event occurs, the server POSTs to the registered URL</span>
<span class="method">POST</span> https://myapp.example.com/hooks/orders <span class="status">HTTP/1.1</span>
Content-Type: application/json
<span class="keyword">X-Webhook-Signature</span>: sha256=abc123...
<span class="keyword">X-Webhook-ID</span>: evt_789xyz
<span class="keyword">X-Webhook-Timestamp</span>: 1710500000

{
  "event": "order.shipped",
  "timestamp": "2025-03-15T14:00:00Z",
  "data": {
    "order_id": 1234,
    "tracking_number": "1Z999AA10123456784",
    "carrier": "UPS"
  }
}

<span class="comment"># 3. Client verifies the signature and responds with 200</span>
<span class="status">HTTP/1.1 200 OK</span></code></pre>

                <div class="alert alert-warning">
                    <span class="alert-label">Security</span>
                    <p class="mb-0">Always sign webhook payloads with HMAC-SHA256 using a shared secret. The receiver must verify the signature before processing the event. Include a timestamp to prevent replay attacks. Retry failed deliveries with exponential backoff.</p>
                </div>
            </div>

            <!-- Anti-Patterns -->
            <div class="subsection">
                <h3 class="subsection-title">Anti-Patterns</h3>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Anti-Pattern</th>
                                <th>Example</th>
                                <th>Why It's Wrong</th>
                                <th>Do This Instead</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Verbs in URLs</strong></td>
                                <td><code>POST /getUsers</code></td>
                                <td>HTTP methods are the verbs; URLs should be nouns</td>
                                <td><code>GET /users</code></td>
                            </tr>
                            <tr>
                                <td><strong>200 for errors</strong></td>
                                <td><code>200 { "error": "not found" }</code></td>
                                <td>Clients, proxies, and monitoring tools rely on status codes</td>
                                <td><code>404</code> with Problem Details body</td>
                            </tr>
                            <tr>
                                <td><strong>No versioning</strong></td>
                                <td><code>/api/users</code> (no version)</td>
                                <td>Any structural change breaks every client at once</td>
                                <td><code>/api/v1/users</code></td>
                            </tr>
                            <tr>
                                <td><strong>Deep nesting</strong></td>
                                <td><code>/users/1/orders/2/items/3/reviews</code></td>
                                <td>Hard to maintain, tightly couples resources</td>
                                <td><code>/reviews?order_item_id=3</code></td>
                            </tr>
                            <tr>
                                <td><strong>Returning arrays as root</strong></td>
                                <td><code>[{ "id": 1 }, ...]</code></td>
                                <td>Cannot add metadata (pagination, links); JSON hijacking risk</td>
                                <td><code>{ "data": [...], "pagination": {...} }</code></td>
                            </tr>
                            <tr>
                                <td><strong>Ignoring Accept header</strong></td>
                                <td>Always returning JSON regardless</td>
                                <td>Violates HTTP content negotiation</td>
                                <td>Return <code>406 Not Acceptable</code> for unsupported types</td>
                            </tr>
                            <tr>
                                <td><strong>Exposing database IDs</strong></td>
                                <td><code>auto_increment</code> integers in URLs</td>
                                <td>Reveals record count, enables enumeration attacks</td>
                                <td>Use UUIDs or prefixed IDs (<code>usr_abc123</code>)</td>
                            </tr>
                            <tr>
                                <td><strong>No rate limiting</strong></td>
                                <td>Unlimited requests allowed</td>
                                <td>One misbehaving client can take down the entire API</td>
                                <td><code>429</code> + <code>Retry-After</code> header</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <!-- ============================================
         FOOTER
         ============================================ -->

    <footer class="site-footer">
        <div class="container">
            <a href="index.html">&larr; Back to Tech Guides</a>
            <p>API Design &amp; REST &mdash; Knolling Style</p>
        </div>
    </footer>

</body>
</html>
