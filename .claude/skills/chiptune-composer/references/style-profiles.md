# Style Profiles — Detailed Composition Reference

## RPG Battle Theme

- **Tempo**: 140-170 BPM
- **Key**: Minor keys (D minor, E minor, A minor common)
- **Time Signature**: 4/4 (sometimes 3/4)
- **Mode**: Natural minor, Phrygian for aggression, harmonic minor for tension
- **Chord progressions**: i-bVI-bVII-i, i-iv-v-i, i-bII-i (Neapolitan shock)
- **Melody**: Ostinato-first (Toby Fox method) — introduce a repeating pattern, add bass, then layer melody. Chromatic passing tones, syncopated rhythms.
- **Bass**: Driving eighth-note ostinato or pumping root notes. Walking bass in chromatic passages.
- **Percussion**: Kick on 1 and 3, snare on 2 and 4. Hi-hat on every eighth note for drive. Double-time hi-hat for intensity.
- **Structure**: Intro (4 bars) → A section (8 bars) → B section (8 bars) → A' with intensification → Bridge → Final A with all channels maxed → Tag ending
- **Techniques**: Use stacked 4ths and 5ths with tritones for "power chord" feel. Chromatic movement in melody creates "beautiful maliciousness."
- **Example**: Undertale's Megalovania — D minor, i-iv-v, ostinato-first layering, parallel periods (8-bar question/answer)
- **Transitions**: Use drum fills (snare rolls, rapid hi-hat) in the last 4 rows before section changes. Bass can walk chromatically to the new root. Stagger channel changes at verse→bridge boundaries — keep drums driving while melody shifts.

## RPG Boss Battle

- **Tempo**: 170+ BPM
- **Key**: Minor with heavy chromaticism
- **Time Signature**: 4/4, but consider 7/8 or 5/4 sections for disorientation
- **Three pillars**: Speed, chromaticism, syncopation
- **Chord progressions**: i-bII-V (Phrygian half cadence), diminished chord sequences, chromatic mediant shifts (i to bIII or #V)
- **Melody**: Angular leaps (tritones, minor 7ths), rapid scalar runs, call-and-response between channels
- **Bass**: Relentless eighth notes or dotted-eighth patterns. Chromatic bass lines create maximum tension.
- **Percussion**: Double-kick patterns, snare fills every 4 bars, hi-hat accelerates toward climax
- **Structure**: Needs more sections than regular battle — 4+ unique patterns minimum. Build in waves of intensity.
- **Techniques**: Ganondorf's OoT theme uses 23/16 time. FFVI "Dancing Mad" uses mode changes (C# Dorian). Sequence chains: repeat a 2-bar riff at successively lower/higher pitches through the circle of fifths.
- **Transitions**: Intensifying drum patterns (double-time hi-hat → full fills) at section breaks. Cross-boundary sustains on bass to maintain momentum. Pickup notes on melody before each new wave of intensity.

## Overworld / Adventure

- **Tempo**: 120-150 BPM
- **Key**: Major, Lydian mode (raised 4th = wonder/adventure), Mixolydian
- **Chord progressions**: I-IV-V-I, I-V-vi-IV, Lydian: I-II-I (both major), chromatic passing chords for harmonic motion
- **Melody**: Strong, singable, memorable. 8-bar phrases with clear contour (arch shape). Zelda uses Lydian for the "floaty" ethereal quality.
- **Bass**: Root-fifth patterns, occasional walking bass in transitions
- **Percussion**: Moderate — not as driving as battle. Kick on 1, snare on 3, hi-hat swinging eighths.
- **Structure**: Intro → Theme A (8 bars) → Theme A repeat with ornament → Theme B (contrast, new key) → Theme A return → Bridge → Final statement. ABACBA or AABA.
- **Techniques**: Kondo uses chromatic passing chords to prevent static harmony. Modal interchange (borrow from parallel minor for color: bVI, bVII). The overworld theme needs to sustain repeated listening — add subtle variations on each repeat.
- **Transitions**: Pickup notes on melody leading into each new theme section. Stagger bass/melody changes at episode boundaries. Use cross-boundary sustains on harmony pads for continuity.

## Town / Village

- **Tempo**: 70-100 BPM
- **Key**: Major, Lydian (ethereal peace), pentatonic for warmth
- **Time Signature**: 3/4 waltz for European-style towns; 4/4 for general
- **Chord progressions**: IVmaj7-iii7-ii7-Imaj7 (jazz descent, Green Hill Zone style), I-vi-IV-V, pentatonic-based
- **Melody**: Simple, gentle, singable. Use pentatonic scales for instant warmth. Ornamental grace notes (Chopin nocturne influence).
- **Bass**: Waltz pattern (root on 1, chord tone on 2 and 3) or gentle arpeggiated bass
- **Percussion**: Minimal — light hi-hat taps, gentle kick on downbeats, or no percussion at all
- **Structure**: ABA or AABB with smooth transitions. Short enough to loop comfortably but varied enough not to grate.
- **Techniques**: Mitsuda's Chrono Trigger towns use Dorian mode shifts. Use jazz voicings — 7th chords make simple progressions feel sophisticated. Harp-like arpeggiation on the harmony channel.
- **Transitions**: Gentle ritardando patterns (progressively longer note durations in last 4 rows). Cross-boundary sustains on harmony pads. Avoid drum fills — use melodic pickup notes or arpeggiated lead-ins instead.

## Dungeon / Cave

- **Tempo**: 60-100 BPM
- **Key**: Minor, diminished, whole-tone, or chromatic
- **Chord progressions**: Tritone-based (i-bV), diminished sequences, chromatic mediants (I to bIII for "dark without sad" — Metroid Brinstar technique)
- **Melody**: Sparse. Long notes with silences. Notes outside the primary scale. Whole-tone scale for "otherworldly" quality (Kondo OoT technique).
- **Bass**: Drone on tonic or dominant (pedal point). Slow, ominous. Triangle wave sustained notes.
- **Percussion**: Very sparse — occasional low tom or distant snare. Noise channel for ambient texture (dripping, wind).
- **Structure**: Through-composed or very long loops. Sections blend into each other. "Perpetual development" — transformation without arrival.
- **Techniques**: Augmented chords for unease. Tritone (the "devil's interval") as a structural device. Leave channels empty for bars at a time — silence is powerful. Use the triangle channel at high octaves for a "flute-like" eerie tone instead of bass.
- **Transitions**: Common-tone holds — sustain one drone note across pattern boundaries while other channels shift. Fade channels in/out independently (stagger entries). Avoid abrupt section changes — dungeon music should feel like perpetual evolution.

## Shop / Inn

- **Tempo**: 90-120 BPM
- **Key**: Major, pentatonic
- **Time Signature**: 3/4 waltz for inns (cozy lullaby); 4/4 with bounce for shops
- **Chord progressions**: I-IV-I-V, I-vi-ii-V (cozy), pentatonic melody over simple triads
- **Melody**: Short, catchy, upbeat. Light ornamentation. Should feel like background music — pleasant but not distracting.
- **Bass**: Simple root notes or root-fifth alternation
- **Percussion**: Light — brushed hi-hat feel, gentle kick
- **Structure**: Very short — 2-4 unique patterns, heavily reused in sequence. AABB or ABA.
- **Techniques**: Keep it simple. These tracks serve a functional purpose (brief rest between action). Pentatonic scales are impossible to make sound bad.
- **Transitions**: Minimal — these are short loops. Use cross-boundary sustains on pads for seamless looping. A gentle bass walk-up in the last 2 rows smooths the loop point.

## Victory Fanfare

- **Tempo**: 120-140 BPM
- **Key**: Mixolydian (major with flat 7th — triumphant but not fully resolved), or major with borrowed chords
- **Chord progressions**: IV-V-bVI-bVII (the classic victory progression, borrowed from parallel minor), I-IV-V-I with Mixolydian bVII
- **Melody**: Bold, brass-like. Wide intervals (perfect 4ths and 5ths). Short fanfare motif followed by celebratory passage. FF Victory theme starts with 3 ascending notes.
- **Bass**: Strong root motion supporting the harmonic rhythm
- **Percussion**: Military-style snare rolls, strong downbeats, cymbal crashes
- **Structure**: Non-looping or very short loop. Fanfare intro (2-4 bars) → Celebratory section (4-8 bars) → Optional sustained chord ending. Total: 15-30 seconds.
- **Techniques**: Use square wave at 50% duty for "trumpet" quality. Staccato notes for the fanfare, legato for the celebration.
- **Transitions**: Fanfares are typically non-looping or short. If looping, use a cymbal roll (rapid noise hits) into the repeat. Cross-boundary sustain on the final chord into the celebratory section.

## Classical Arrangement

When arranging a known classical piece for 4 channels:

### Channel Assignment
| Channel | Classical Voice | Role |
|---------|----------------|------|
| Ch 0 (Pulse 50%) | Soprano/Lead | Primary melody |
| Ch 1 (Pulse 25%) | Alto/Tenor | Counter-melody, harmony, or inner voice |
| Ch 2 (Triangle) | Bass | Bass line, harmonic foundation |
| Ch 3 (Noise) | Percussion | Rhythmic accompaniment (can be omitted for pure classical) |

### Arrangement Techniques
- **Bach**: Use invertible counterpoint — compose the two pulse channels so they can swap. Bach's Inventions (2-voice) are ideal models for 2 pitched channels + bass.
- **Beethoven**: Extract the core motif and build everything from it. Use augmentation/diminution to fill sections.
- **Chopin**: Arpeggiated left-hand patterns on the bass channel (wide-ranging Alberti bass). Ornamental runs on the melody channel.
- **Debussy**: Parallel motion between channels (planing). Avoid resolving dissonances. Use whole-tone and pentatonic scales. Arpeggiate extended chords across beats.

- **Transitions**: Respect the original piece's phrasing — transitions should occur at natural phrase boundaries. Use cross-boundary sustains for tied notes across bar lines. For arrangements with multiple movements or sections, insert a short 8-row bridge pattern with a ritardando feel (longer note durations). Stagger channel entries when bringing in new voices.

### Implied Polyphony (Bach Cello Suite Technique)
A single channel can imply multiple voices by:
- Alternating between registers (bass note → melody note → bass note)
- Arpeggiating chord tones across beats
- Using wide leaps to suggest two independent lines

## Ambient / Atmospheric

- **Tempo**: 60-80 BPM
- **Key**: Modal (Dorian, Aeolian, Phrygian) or atonal
- **Chord progressions**: Pedal point with slow chord changes above. Common-tone modulation (hold one note, shift everything else). Non-functional harmony (chords as color, not function).
- **Melody**: Sparse or absent. When present, use long sustained notes with slow ornamental movement.
- **Bass**: Drone. Single note held for 8-16 bars. Triangle wave sustain.
- **Harmony**: Sine wave pads with slow attack (a=0.3+). Evolving textures through volume and filter changes.
- **Percussion**: Minimal or none. Occasional noise bursts for texture (rain, wind).
- **Structure**: Through-composed. Evolving without repeating. Use very long patterns (32-64 rows) with sparse events.
- **Techniques**: Debussy's non-functional harmony — chords don't need to resolve. Pedal points create stability while harmonies drift. Common-tone modulation for seamless key shifts. Wagner held an Eb pedal for 162 bars in Das Rheingold — sustained tension works.
- **Transitions**: Common-tone holds are essential — always sustain at least one note (usually the drone/pedal) across pattern boundaries. Stagger channel entries heavily — bring in one voice at a time across 2-3 sequence rows. Cross-boundary `d` values on pads and drones. Never cut all channels at once.

## Synthwave / Neon

- **Tempo**: 120-130 BPM
- **Key**: Minor (A minor, D minor, E minor popular)
- **Chord progressions**: i-VI-III-VII, i-iv-VI-V, chromatic bass descents
- **Melody**: Sawtooth lead with detuned 2nd oscillator for thickness. Arpeggiated sequences. Octave jumps.
- **Bass**: Sawtooth with lowpass filter. Pumping eighth notes or syncopated patterns. Sidechaining feel (accent on off-beats after kick).
- **Percussion**: Four-on-the-floor kick (every beat). Clap/snare on 2 and 4. Open hi-hat on upbeats. Closed hi-hat on sixteenths.
- **Structure**: Intro (8 bars, building) → Drop/Main (16 bars) → Breakdown (8 bars, strip layers) → Build (4 bars) → Drop 2 (16 bars with variation) → Outro
- **Instruments**: Use `sawtooth` with `detuneOsc: true, detuneAmount: 8` for the classic synthwave lead. `sawtooth` with `filterType: "lowpass", filterFreq: 800` for bass.
- **Transitions**: Use breakdowns and builds — strip layers before drops, then re-add. Drum fills (snare rolls) before drops. Bass sustains across breakdown→build boundaries. Stagger the drop re-entry: kick first, then bass, then lead (across 2-3 sequence rows with independent channel sequencing).

---

# Composition Techniques Reference

## Counterpoint (Voice Leading Between Channels)

### Rules for Two Pitched Channels
- Prefer contrary motion (one up, one down) and oblique motion (one moves, one stays)
- Never write parallel perfect 5ths or octaves between the melody and harmony channels
- Parallel 3rds and 6ths are safe (limit to 3 consecutive)
- Approach perfect consonances (unisons, 5ths, octaves) by contrary motion only
- Compensate leaps with stepwise motion in the opposite direction
- Keep voices within a 10th of each other (avoid wide gaps between melody and harmony)

### Suspensions (from 4th Species Counterpoint)
A consonance on a weak beat ties over to become dissonant on the strong beat, then resolves downward by step. This creates tension-resolution within just two voices. Extremely effective in chiptune because it generates harmonic interest with minimal channels.

### Invertible Counterpoint
Compose the melody and harmony so their positions can be swapped — melody becomes bass, harmony becomes melody. This doubles content from a single composition effort. When inverted, 3rds become 6ths (safe), but 5ths become 4ths (treat as dissonance in the inverted version).

## Motivic Development

### From Beethoven's 5th: One Motif, Entire Symphony
- **Augmentation**: Double all note durations — the motif becomes slower, grander
- **Diminution**: Halve all note durations — faster, more energetic
- **Inversion**: Flip all intervals (up becomes down)
- **Retrograde**: Play the motif backwards
- **Transposition**: Move the motif to a different pitch level
- **Sequence**: Repeat the motif at progressively higher or lower pitch levels
- **Fragmentation**: Use only part of the motif as a building block

### Practical Application
Play the motif at normal speed on Pulse 1 (melody). Simultaneously play it in augmentation on Triangle (bass) — the same idea at half speed becomes a bass line. Instant contrapuntal richness from one idea.

## Harmonic Techniques

### Modal Mixture (Borrowed Chords)
Borrow chords from the parallel minor (or major) for color:
- In C major: bVI (Ab), bVII (Bb), bIII (Eb), iv (Fm)
- The IV-V-bVI-bVII progression (Super Mario victory) uses two borrowed chords
- Mitsuda's "Frog's Theme" trick: write in minor key but use 80% major chords (from natural + harmonic minor)

### Cadence Types for Phrase Endings
- **Perfect Authentic (V-I)**: Strongest resolution, good for endings
- **Half Cadence (any-V)**: Incomplete, creates pull — ideal for loop points
- **Deceptive (V-vi)**: Surprise, extends the section before final resolution
- **Plagal (IV-I)**: Gentle "amen" cadence, good for peaceful sections
- **Phrygian Half (iv6-V)**: Distinctive bass half-step descent, great for dramatic pauses

### Modulation (Key Changes)
For 3-4 minute tracks, modulation prevents monotony:
- **Pivot chord**: Find a chord that exists in both keys (smoothest transition)
- **Common-tone**: Hold one note while harmony shifts around it (elegant, easy in tracker)
- **Direct/phrase**: Just start the new section in a new key at a phrase boundary
- **Up a half step**: The classic pop key change for energy boost in the final section
- Modulate to closely related keys: dominant (up a 5th), subdominant (up a 4th), relative minor/major

### Sequence Chains
Repeat a melodic-harmonic pattern at successively lower pitch levels through the circle of fifths:
- Pattern: I-IV-vii-iii-vi-ii-V-I
- A 2-bar melody repeated down through this sequence generates 8-16 bars of coherent music
- The descending-fifths sequence is the most common Baroque technique and remains effective

### Pedal Points
Hold a single bass note while harmonies change above:
- **Tonic pedal**: Stability, used in intros and endings
- **Dominant pedal**: Builds anticipation before resolution — perfect for pre-boss-entrance sections
- Hold the triangle channel on a single note while pulse channels change chords — simple and effective

## Leitmotif Across a Soundtrack

When composing multiple tracks for the same game:
- Define a 4-8 note "main theme" motif
- The town version: slow tempo, major key, gentle instruments
- The battle version: fast tempo, minor key, aggressive instruments
- The dungeon version: fragmented motif, sparse, dissonant intervals
- The victory version: motif in augmentation, triumphant key
- Cecil's FFIV transformation: same melodic material recast from menacing march to heroic fanfare

## Chiptune-Specific Tricks

### Arpeggiation (Chord Simulation)
Rapidly cycle through chord tones on a single channel (every 1-2 rows). This implies a full chord from one voice. Use the harmony channel to arpeggiate while melody holds sustained notes.

### Echo Effect
Use the harmony channel to echo the melody channel, delayed by 2-4 rows, at lower volume. Sacrifices the harmony voice but creates depth. Used in Mega Man and Castlevania.

### Channel Hocketing
Alternate notes between two channels rapidly — one plays while the other rests. Creates the illusion of more complex articulation than either channel alone.

### Duty Cycle as Timbral Palette
- `pulse12` (12.5%): Thin, nasal — background or high harmonics
- `pulse25` (25%): Rich and bright — the workhorse lead sound
- `square` (50%): Hollow, warm — pads and softer melodies
- Switch wave types between sections for timbral contrast without changing the instrument

### Percussion Patterns by Style
**Standard Rock/Battle** (4/4):
```
Row 0: Kick + Hi-hat
Row 2: Hi-hat
Row 4: Snare + Hi-hat
Row 6: Hi-hat
Row 8: Kick + Hi-hat
Row 10: Hi-hat
Row 12: Snare + Hi-hat
Row 14: Hi-hat
```

**Waltz/Town** (3/4, rpb=4, 12-row pattern):
```
Row 0: Kick
Row 4: Hi-hat
Row 8: Hi-hat
```

**Double-time Boss**:
```
Row 0: Kick + Hi-hat
Row 1: Hi-hat
Row 2: Kick + Hi-hat
Row 3: Hi-hat
Row 4: Snare + Hi-hat
Row 5: Hi-hat
Row 6: Hi-hat
Row 7: Hi-hat
```

## Classical Forms for Song Structure

### Rounded Binary (A-BA') — Best for 2-3 min tracks
- A (8-16 bars): Establish theme, modulate to dominant
- B (8-16 bars): Development, new material or fragmentation
- A' (8-16 bars): Return of theme in home key, resolution
- Total: 24-48 bars of unique material, arranged via sequence

### Rondo (ABACA) — Best for 3-4 min tracks
- A = Refrain (8 bars): The memorable hook that keeps returning
- B = Episode 1 (8-16 bars): Contrasting material, different key
- A = Refrain return
- C = Episode 2 (8-16 bars): New contrast, yet another key
- A = Final refrain, possibly with coda
- Total: 40-64 bars, 3-5 unique patterns heavily reused

### Sonata Development Techniques — For Complex Sections
- **Fragmentation**: Break the motif into smaller pieces, develop each
- **Sequence**: Repeat a fragment at different pitch levels
- **False recapitulation**: Start to bring back the theme in the wrong key
- **Stretto**: Overlap entries of the motif between channels (Pulse 1 starts, Pulse 2 enters 2 bars later with the same melody)
